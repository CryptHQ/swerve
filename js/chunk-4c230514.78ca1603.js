(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4c230514"],{"3d15":function(e,t,a){"use strict";a.d(t,"a",(function(){return f}));const n=Symbol("Comlink.proxy"),s=Symbol("Comlink.endpoint"),r=Symbol("Comlink.releaseProxy"),o=Symbol("Comlink.thrown"),i=e=>"object"===typeof e&&null!==e||"function"===typeof e,c={canHandle:e=>i(e)&&e[n],serialize(e){const{port1:t,port2:a}=new MessageChannel;return d(e,t),[a,[a]]},deserialize(e){return e.start(),f(e)}},l={canHandle:e=>i(e)&&o in e,serialize({value:e}){let t;return t=e instanceof Error?{isError:!0,value:{message:e.message,name:e.name,stack:e.stack}}:{isError:!1,value:e},[t,[]]},deserialize(e){if(e.isError)throw Object.assign(new Error(e.value.message),e.value);throw e.value}},u=new Map([["proxy",c],["throw",l]]);function d(e,t=self){t.addEventListener("message",(function a(n){if(!n||!n.data)return;const{id:s,type:r,path:i}=Object.assign({path:[]},n.data),c=(n.data.argumentList||[]).map(k);let l;try{const t=i.slice(0,-1).reduce((e,t)=>e[t],e),a=i.reduce((e,t)=>e[t],e);switch(r){case 0:l=a;break;case 1:t[i.slice(-1)[0]]=k(n.data.value),l=!0;break;case 2:l=a.apply(t,c);break;case 3:{const e=new a(...c);l=y(e)}break;case 4:{const{port1:t,port2:a}=new MessageChannel;d(e,a),l=g(t,[t])}break;case 5:l=void 0;break}}catch(u){l={value:u,[o]:0}}Promise.resolve(l).catch(e=>({value:e,[o]:0})).then(e=>{const[n,o]=x(e);t.postMessage(Object.assign(Object.assign({},n),{id:s}),o),5===r&&(t.removeEventListener("message",a),h(t))})})),t.start&&t.start()}function p(e){return"MessagePort"===e.constructor.name}function h(e){p(e)&&e.close()}function f(e,t){return _(e,[],t)}function m(e){if(e)throw new Error("Proxy has been released and is not useable")}function _(e,t=[],a=function(){}){let n=!1;const o=new Proxy(a,{get(a,s){if(m(n),s===r)return()=>S(e,{type:5,path:t.map(e=>e.toString())}).then(()=>{h(e),n=!0});if("then"===s){if(0===t.length)return{then:()=>o};const a=S(e,{type:0,path:t.map(e=>e.toString())}).then(k);return a.then.bind(a)}return _(e,[...t,s])},set(a,s,r){m(n);const[o,i]=x(r);return S(e,{type:1,path:[...t,s].map(e=>e.toString()),value:o},i).then(k)},apply(a,r,o){m(n);const i=t[t.length-1];if(i===s)return S(e,{type:4}).then(k);if("bind"===i)return _(e,t.slice(0,-1));const[c,l]=b(o);return S(e,{type:2,path:t.map(e=>e.toString()),argumentList:c},l).then(k)},construct(a,s){m(n);const[r,o]=b(s);return S(e,{type:3,path:t.map(e=>e.toString()),argumentList:r},o).then(k)}});return o}function v(e){return Array.prototype.concat.apply([],e)}function b(e){const t=e.map(x);return[t.map(e=>e[0]),v(t.map(e=>e[1]))]}const w=new WeakMap;function g(e,t){return w.set(e,t),e}function y(e){return Object.assign(e,{[n]:!0})}function x(e){for(const[t,a]of u)if(a.canHandle(e)){const[n,s]=a.serialize(e);return[{type:3,name:t,value:n},s]}return[{type:0,value:e},w.get(e)||[]]}function k(e){switch(e.type){case 3:return u.get(e.name).deserialize(e.value);case 0:return e.value}}function S(e,t,a){return new Promise(n=>{const s=P();e.addEventListener("message",(function t(a){a.data&&a.data.id&&a.data.id===s&&(e.removeEventListener("message",t),n(a.data))})),e.start&&e.start(),e.postMessage(Object.assign({id:s},t),a)})}function P(){return new Array(4).fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-")}},5826:function(e,t,a){"use strict";var n=a("695f"),s=a.n(n);s.a},"5e35":function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"a",(function(){return o}));a("d3b7"),a("96cf");var n=a("1da1"),s=a("2fa3"),r={btcPrice:null};function o(){return i.apply(this,arguments)}function i(){return i=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s["o"](fetch("https://api.coingecko.com/api/v3/simple/price?ids=bitcoin&vs_currencies=usd"),300);case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,r.btcPrice=a.bitcoin.usd,e.abrupt("return",a.bitcoin.usd);case 8:case"end":return e.stop()}}),e)}))),i.apply(this,arguments)}},"62c4":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{directives:[{name:"show",rawName:"v-show",value:e.error,expression:"error"}],staticClass:"error window half-width info",attrs:{id:"error-window"}},[e._v(" "+e._s(e.error)+" ")]),a("total-balances"),e._l(Object.keys(e.filteredCurrencies),(function(t,n){return a("div",{staticClass:"window white"},[a("p",{directives:[{name:"show",rawName:"v-show",value:"susd"==t,expression:"currency == 'susd'"}],staticClass:"simple-error"},[e._v(" Old susd pool. Please "),a("router-link",{attrs:{to:"/susd/withdraw"}},[e._v("withdraw and move")]),e._v(" funds to "),a("router-link",{attrs:{to:"/susdv2"}},[e._v("susdv2")]),e._v(" pool ")],1),a("p",{staticClass:"text-center"},[a("router-link",{directives:[{name:"show",rawName:"v-show",value:"susd"!=t&&!["tbtc","ren","sbtc"].includes(t),expression:"currency != 'susd' && !['tbtc', 'ren', 'sbtc'].includes(currency)"}],attrs:{to:t}},[e._v(e._s("swusd"==t?"y":t)+".Swerve.fi")]),a("span",{directives:[{name:"show",rawName:"v-show",value:["tbtc","ren","sbtc"].includes(t),expression:"['tbtc', 'ren', 'sbtc'].includes(currency)"}]},[e._v(e._s(t))]),a("a",{directives:[{name:"show",rawName:"v-show",value:"susd"==t,expression:"currency == 'susd'"}],attrs:{href:"https://swusd.finance/pool"}},[e._v("susd")])],1),a("balances-info",{attrs:{bal_info:e.bal_infos[t],total:e.totals[n],l_info:e.l_infos[t],totalShare:e.totalShares[n],fee:e.fees[n],admin_fee:e.admin_fees[n],pool:t,currencies:e.allCurrencies[t],tokenSupply:e.totalTokenSupplies[n],tokenBalance:e.totalTokenBalances[n],usdShare:e.usdShares[n],staked_info:["susdv2","sbtc","y","swusd"].includes(t)&&e.staked_infos[t],totalStake:e.totalStakes[t],usdStake:e.usdStakes[t],virtual_price:e.virtual_prices[n],A:e.As[n],future_A:e.future_As[n],admin_actions_deadline:e.admin_actions_deadlines[n],combinedstats:!0}})],1)}))],2)},s=[],r=(a("cb29"),a("4de4"),a("a630"),a("caad"),a("d81d"),a("fb6a"),a("4fad"),a("c1f9"),a("3ca3"),a("96cf"),a("1da1")),o=a("3835"),i=a("5530"),c=a("2b0e"),l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{class:{"window white":!e.pool}},[a("fieldset",[a("legend",[e._v("Average liquidity provider profit [ "),a("span",{class:{"loading line":e.loading},attrs:{id:"apr-profit"}},[a("span",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}]},[e._v(" "+e._s(e._f("toFixed2")(100*e.apr))+"%")])]),e._v(" APY "),e._m(0),e._v(" ] ")]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}],staticClass:"loading matrix"}),a("highcharts",{ref:"highcharts",attrs:{"constructor-type":"stockChart",options:e.chartdata}})],1),a("div",{staticClass:"allapys"},[a("p",[e._v("Recent daily APY: "),a("span",{class:{"loading line":e.loading},attrs:{id:"daily-apr"}},[a("span",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}]},[e._v(" "+e._s(e._f("toFixed2")(100*e.daily_apr))+"% ")])])]),a("p",{directives:[{name:"show",rawName:"v-show",value:"susd"!=e.pool,expression:"pool != 'susd'"}]},[e._v("Daily trading volume: "),a("span",{class:{"loading line":e.volumeData[0]<0}},[a("span",{directives:[{name:"show",rawName:"v-show",value:-1!=e.volumeData[0],expression:"volumeData[0] != -1"}]},[e._v(" "+e._s(e._f("formatNumber")(e.volumeData[0],0))+"$")])])]),a("p",{directives:[{name:"show",rawName:"v-show",value:["tbtc","ren","sbtc"].includes(e.getPool),expression:"['tbtc', 'ren', 'sbtc'].includes(getPool)"}]},[e._v("Daily ₿ trading volume: "),a("span",{class:{"loading line":e.volumeData[0]<0}},[a("span",{directives:[{name:"show",rawName:"v-show",value:-1!=e.volumeData[1],expression:"volumeData[1] != -1"}]},[e._v(" "+e._s(e._f("formatNumber")(e.volumeData[1],8))+" ₿")])])]),a("p",[e._v("Recent weekly APY: "),a("span",{class:{"loading line":e.loading},attrs:{id:"weekly-apr"}},[a("span",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}]},[e._v(" "+e._s(e._f("toFixed2")(100*e.weekly_apr))+"% ")])])]),a("p",[e._v("Recent monthly APY: "),a("span",{class:{"loading line":e.loading},attrs:{id:"monthly-apr"}},[a("span",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}]},[e._v(" "+e._s(e._f("toFixed2")(100*e.monthly_apr))+"% ")])])]),a("p",[e._v("Total APY: "),a("span",{class:{"loading line":e.loading},attrs:{id:"total-apr"}},[a("span",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}]},[e._v(" "+e._s(e._f("toFixed2")(100*e.total_apr))+"% ")])]),e._m(1)])]),e.pool?e._e():a("daily-chart",{attrs:{data:e.data,pool:e.pool||e.currentPool,volume:e.volume}})],1)])},u=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"tooltip"},[e._v("[?]"),a("span",{staticClass:"tooltiptext"},[e._v("(on annual basis)")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"tooltip"},[e._v("[?] "),a("span",{staticClass:"tooltiptext"},[e._v("Total APY since the pool was launched")])])}],d=(a("99af"),a("c740"),a("13d5"),a("0d03"),a("b0c0"),a("b680"),a("d3b7"),a("5245")),p=a("51bf"),h=a("ea7f"),f=a.n(h),m=a("0319"),_=a.n(m),v=a("d68a"),b=a.n(v),w=a("4452"),g=a("37d8"),y=a.n(g),x=a("a041"),k=a("a4e2");_()(f.a),b()(f.a),y()(f.a);var S={components:{highcharts:w["Chart"],DailyChart:x["a"]},watch:{currentPool:function(e){this.mounted()}},props:["pool"],data:function(){return{data:[],apr:"",daily_apr:"",weekly_apr:"",monthly_apr:"",total_apr:"",chartdata:{chart:{panning:!0,zoomType:"x",panKey:"ctrl"},rangeSelector:{selected:1},exporting:{buttons:{contextButton:{menuItems:["printChart","separator","downloadPNG","downloadJPEG","downloadPDF","downloadSVG","separator","downloadCSV","downloadXLS","openInCloud"]}}},yAxis:{opposite:!1,title:{text:"Profit [%]",style:{color:"black"}},labels:{formatter:function(){return(Math.floor(100*this.value)/100).toFixed(2)},style:{color:"black"}},tickPixelInterval:10},xAxis:{labels:{style:{color:"black"}}},series:[],tooltip:{valueDecimals:5,pointFormatter:function(){var e=Math.floor(1e5*this.y)/1e5+"%";return'<span style="color:'.concat(this.color,'">●</span> ').concat(this.series.name,": <b>").concat(e,"</b><br/>")}},legend:{enabled:!0}},virtual_price_0:0,chartdataDaily:null,loading:!0,chart:null,start:0,end:0}},computed:Object(i["a"])(Object(i["a"])({},p["g"]),{},{volume:function(){return k["f"].volumes[this.getPool]},volumeData:function(){return k["f"].volumes[this.getPool]},getPool:function(){var e=this.pool||this.currentPool;return e="swusd"==e?"y":"susdv2"==e?"susd":e,e}}),created:function(){var e=this,t=new Date;t.setHours(0,0,0,0),this.start=t.getTime()/1e3;var a=new Date;a.setHours(23,59,59,999),this.end=a.getTime()/1e3,this.$watch((function(){return p["e"].currentContract}),(function(t){p["e"].initializedContracts&&e.mounted()}))},mounted:function(){this.chart=this.$refs.highcharts.chart,this.chart.showLoading(),this.mounted(),k["e"](this.pool||this.currentPool)},methods:{mounted:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,n,s,r,o,i,c,l,u,d,p,h,f,m,_,v,b;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.loading=!0;while(e.chart.series.length)e.chart.series[0].remove();if(a=e.pool||e.currentPool,"swusd"==a&&(a="y"),"susd"==a&&(a="synthetix"),"susdv2"==a&&(a="susd"),"ren"==a&&(a="ren2"),"sbtc"==a&&(a="rens"),"synthetix"!=a){t.next=26;break}return t.next=11,fetch("https://".concat(a,".swerve.fi/stats.json"));case 11:return n=t.sent,t.next=14,n.json();case 14:for(s=t.sent,e.apr=s.apr,e.daily_apr=s.daily_apr,e.weekly_apr=s.weekly_apr,r=s.data,e.data=r,o=Math.max(Math.round(r.length/500),1),i=r[0][1],c=[],l=0;l<r.length;l++)l%o==0|l==r.length-1&&(u=r[l],c.push([1e3*u[0],100*(u[1]/i-1)]));t.next=53;break;case 26:return t.next=28,fetch("".concat(window.domain,"/raw-stats/apys.json"));case 28:return d=t.sent,t.next=31,d.json();case 31:return d=t.sent,e.apr=d.apy.total[a],e.daily_apr=d.apy.day[a],e.weekly_apr=d.apy.week[a],e.monthly_apr=d.apy.month[a],e.total_apr=d.apy.total[a],p=1440,t.next=40,fetch("".concat(window.domain,"/raw-stats/").concat(a,"-").concat(p,"m.json"));case 40:return h=t.sent,t.next=43,h.json();case 43:for(e.data=t.sent,o=Math.max(Math.round(e.data.length/500),1),f=e.data.findIndex((function(e){return e.virtual_price>0})),"rens"==a&&(f=3),e.virtual_price_0=e.data[f].virtual_price,i=e.data[f].virtual_price/1e18,m=e.calcRealProfit(e.data[f],a),c=[],_=[],v=f;v<e.data.length;v++)u=e.data[v],b=e.calcRealProfit(u,a),_.push([1e3*u.timestamp,100*(b/m-1)]),c.push([1e3*u.timestamp,100*(u.virtual_price/1e18/i-1)]);case 53:e.chart.hideLoading(),e.chart.addSeries({name:"Virtual growth of liquidity share",lineWidth:2,data:c,color:"#0b0a57"},!1,!1),e.chart.addSeries({name:"Real growth of liquidity share",lineWidth:2,data:_},!1,!1),e.chart.redraw(!1),e.loading=!1;case 58:case"end":return t.stop()}}),t)})))()},calcRealProfit:function(e,t){var a=this,n=e.balances.map((function(a,n){return a*e.rates[n]/d["g"]["susd"==t?"susdv2":"ren2"==t?"ren":"rens"==t?"sbtc":t].coin_precisions[n]})).reduce((function(e,t){return e+t}),0),s=e.balances.map((function(s,r){var o="1-"+r;0==r&&(o="0-1");var i=e.prices[o]&&e.prices[o][3];r>0&&(i=1/i),i=i||1;var c=s*e.rates[r]/d["g"]["susd"==t?"susdv2":"ren2"==t?"ren":"rens"==t?"sbtc":t].coin_precisions[r];return c/n*(e.virtual_price/a.virtual_price_0)*i})).reduce((function(e,t){return e+t}),0);return s}}},P=S,A=(a("5826"),a("2877")),C=Object(A["a"])(P,l,u,!1,null,"f4920aa6",null),N=C.exports,j=a("b2ea"),O=a("6eaa"),R=a("2fa3"),I=a("cf45"),B={metaInfo:{title:"Swerve.fi - Stats",meta:[]},components:{Stats:N,BalancesInfo:j["a"],TotalBalances:O["a"]},data:function(){return{contracts:[],web3contracts:{},all_coins:{},all_underlying_coins:{},all_c_rates:{},all_fees:{},totals:[],bal_infos:{},l_infos:{},totalShares:[],totalStakes:{},usdShares:[],usdStakes:{},staked_infos:{},totalStake:-1,usdStake:-1,virtual_prices:[],As:[],future_As:[],admin_actions_deadlines:[],fees:[],admin_fees:[],totalTokenBalances:[],totalTokenSupplies:[]}},created:function(){var e=this;this.$watch((function(){return p["e"].initializedContracts}),(function(t){t&&e.mounted()})),this.$watch((function(){return p["e"].currentContract}),(function(t){p["e"].initializedContracts&&e.mounted()}))},computed:{allCurrencies:function(){return Object.assign(p["c"],{susd:{susd:"sUSD",yswerve:"ySwerve"}})},allContracts:function(){var e=Object(i["a"])({},d["g"]);return delete e.tbtc,e},error:function(){return p["e"].error},filteredCurrencies:function(){return Object.fromEntries(Object.entries(this.allCurrencies).filter((function(e){var t=Object(o["a"])(e,2),a=t[0];t[1];return["swusd"].includes(a)})))}},mounted:function(){p["e"].initializedContracts&&this.mounted()},methods:{mounted:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.fees=Array.from(4).fill(0),e.admin_fees=Array.from(4).fill(0),e.admin_fees=Array.from(4).fill(0),e.admin_fees=Array.from(4).fill(0),t.next=6,e.init_contracts();case 6:return t.next=8,e.update_fee_info();case 8:case"end":return t.stop()}}),t)})))()},poolLink:function(e){return"susd"==e?"https://swusd.finance/pool":e},init_contracts:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,n,s,r,i,c,l,u,h;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(a=0,n=Object.entries(e.allContracts);a<n.length;a++)for(s=Object(o["a"])(n[a],2),r=s[0],i=s[1],e.web3contracts[r]={},e.web3contracts[r].swap=new p["e"].web3.eth.Contract(i.swap_abi,i.swap_address),e.web3contracts[r].swap_token=new p["e"].web3.eth.Contract(d["c"],i.token_address),e.all_coins[r]={},e.all_coins[r].coins=[],e.all_underlying_coins[r]={},e.all_underlying_coins[r].underlying_coins=[],c=0;c<i.N_COINS;c++)l=d["g"][r].coins[c],u=["swusd","y","busd","susd","pax"].includes(r)?d["s"]:d["f"],"susd"==r&&1==c&&(u=d["g"].swusd.swap_abi,l=d["g"].swusd.swap_address),e.all_coins[r].coins[c]=new p["e"].web3.eth.Contract(u,l),h=d["g"][r].underlying_coins[c],e.all_underlying_coins[r].underlying_coins[c]=new p["e"].web3.eth.Contract(d["c"],h);case 1:case"end":return t.stop()}}),t)})))()},update_rates:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,n,s,r,i,c,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a=[],n=0,s=Object.entries(e.allContracts);case 2:if(!(n<s.length)){t.next=14;break}if(r=Object(o["a"])(s[n],2),i=r[0],c=r[1],e.all_fees[i]=[],e.all_c_rates[i]={},e.all_c_rates[i].c_rates=[],"swusd"==i){t.next=9;break}return t.abrupt("continue",11);case 9:for(l=0;l<c.N_COINS;l++)c.tethered&&c.tethered[l]&&c.use_lending&&!c.use_lending[l]||"susdv2"==i||"pax"==i&&3==l||"tbtc"==i||"ren"==i||"sbtc"==i||"swusd"==i?e.all_c_rates[i].c_rates[l]=1/c.coin_precisions[l]:"y"==i||"busd"==i||"susd"==i&&0==l||"pax"==i&&l<3?a.push([e.all_coins[i].coins[l]._address,e.all_coins[i].coins[l].methods.getPricePerFullShare().encodeABI()]):"susd"==i&&1==l?a.push([e.all_coins[i].coins[l]._address,e.all_coins[i].coins[l].methods.get_virtual_price().encodeABI()]):"usdt"!=i&&a.push([e.all_coins[i].coins[l]._address,e.all_coins[i].coins[l].methods.exchangeRateStored().encodeABI()],[e.all_coins[i].coins[l]._address,e.all_coins[i].coins[l].methods.supplyRatePerBlock().encodeABI()],[e.all_coins[i].coins[l]._address,e.all_coins[i].coins[l].methods.accrualBlockNumber().encodeABI()]),a.push([e.web3contracts[i].swap._address,e.web3contracts[i].swap.methods.balances(l).encodeABI()]);a.push([e.web3contracts[i].swap._address,e.web3contracts[i].swap.methods.get_virtual_price().encodeABI()],[e.web3contracts[i].swap._address,e.web3contracts[i].swap.methods.A().encodeABI()],[e.web3contracts[i].swap._address,e.web3contracts[i].swap.methods.future_A().encodeABI()],[e.web3contracts[i].swap._address,e.web3contracts[i].swap.methods.admin_actions_deadline().encodeABI()],[e.web3contracts[i].swap._address,e.web3contracts[i].swap.methods.fee().encodeABI()],[e.web3contracts[i].swap._address,e.web3contracts[i].swap.methods.admin_fee().encodeABI()],[e.web3contracts[i].swap_token._address,e.web3contracts[i].swap_token.methods.balanceOf(p["e"].default_account||"0x0000000000000000000000000000000000000000").encodeABI()],[e.web3contracts[i].swap_token._address,e.web3contracts[i].swap_token.methods.totalSupply().encodeABI()]);case 11:n++,t.next=2;break;case 14:return t.abrupt("return",a);case 15:case"end":return t.stop()}}),t)})))()},update_fee_info:function(){var e=arguments,t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var n,s,r,i,l,u,h,f,m,_,v,b,w,g;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.length>0&&void 0!==e[0]?e[0]:"new",a.next=3,t.update_rates();case 3:return n=a.sent,n.push([d["g"].susdv2.sSwerveRewards_address,"0x70a08231000000000000000000000000"+(p["e"].default_account||"0x0000000000000000000000000000000000000000").slice(2)]),n.push([d["g"].sbtc.sSwerveRewards_address,"0x70a08231000000000000000000000000"+(p["e"].default_account||"0x0000000000000000000000000000000000000000").slice(2)]),n.push([d["g"].swusd.sSwerveRewards_address,"0x70a08231000000000000000000000000"+(p["e"].default_account||"0x0000000000000000000000000000000000000000").slice(2)]),a.next=9,Object(I["clean_and_multi_call"])(n);case 9:for(s=a.sent,r=s[0],i=s[1].map((function(e){return p["e"].web3.eth.abi.decodeParameter("uint256",e)})),l=i[i.length-3],u=i[i.length-2],h=i[i.length-1],console.log(h,"Y SWERVE STAKED BALANCE"),i=i.slice(0,i.length-1),f=0,t.bal_infos["usdt"]=[],t.l_infos["usdt"]=[],m=function(){var e=Object(o["a"])(v[_],2),a=e[0];e[1];t.bal_infos[a]=[],t.l_infos[a]=[],b=0;var n=16*f;if(f>1&&(n-=5),"compound"==a&&R["b"](i.slice(n,n+8),4).map((function(e,n){var s=+e[0]/1e18/d["g"][a].coin_precisions[n],o=+e[1],i=+e[2],c=+e[3],l=s*(1+o*(r-i)/1e18);t.all_c_rates[a].c_rates[n]=l,t.all_c_rates["usdt"].c_rates[n]=l;var u=c*t.all_c_rates[a].c_rates[n];t.bal_infos[a].push(u),b+=u})),"usdt"==a){t.bal_infos.usdt.push(t.all_c_rates["compound"].c_rates[0]*+i[n]),t.bal_infos.usdt.push(t.all_c_rates["compound"].c_rates[1]*+i[n+1]),t.all_c_rates[a].c_rates[2]=1/d["g"][a].coin_precisions[2];var s=+i[n+2]*t.all_c_rates[a].c_rates[2];n-=5,t.bal_infos[a].push(s),b+=t.bal_infos.usdt[0]+t.bal_infos.usdt[1]+s}if("swusd"==a||"busd"==a||"susd"==a||"susdnew"==a){var p=i.slice(n,n+2*d["g"][a].N_COINS);R["b"](p,2).map((function(e,n){if(void 0===e[1]){var s=+e[0],r=t.all_c_rates[a].c_rates[n]*s;t.bal_infos[a].push(r),b+=r}else{var o=+e[0]/1e18/d["g"][a].coin_precisions[n];"susd"==a&&1==n&&(o=+e[0]/1e36),t.all_c_rates[a].c_rates[n]=o;var i=+e[1],c=o*i;t.bal_infos[a].push(c),b+=c}})),"susd"==a&&(n-=4)}if("susdv2"==a){for(var m=d["g"][a].N_COINS,y=i.slice(n-m,n),x=0;x<4;x++){var k=t.all_c_rates.susdv2.c_rates[x]*y[x];t.bal_infos.susdv2.push(k),b+=k}n-=2*m}if("pax"==a){var S=i.slice(n-8,n-1);R["b"](S,2).map((function(e,n){if(void 0===e[1]){var s=+e[0],r=t.all_c_rates[a].c_rates[n]*s;t.bal_infos[a].push(r),b+=r}else{var o=+e[0]/1e18/d["g"][a].coin_precisions[n];t.all_c_rates[a].c_rates[n]=o;var i=+e[1],c=o*i;t.bal_infos[a].push(c),b+=c}})),n-=9}if(["tbtc","ren"].includes(a)){for(var P=d["g"][a].N_COINS,A=98,C=i.slice(A),N=0;N<P;N++){var j=t.all_c_rates[a].c_rates[N]*C[N];t.bal_infos[a].push(j),b+=j}n=92}if("sbtc"==a){for(var O=d["g"][a].N_COINS,I=108,B=i.slice(I),T=0;T<O;T++){var D=t.all_c_rates[a].c_rates[T]*B[T];t.bal_infos[a].push(D),b+=D}n=103}t.totals.push(b),t.virtual_prices.push(+i[n+8]/1e18),t.As.push(+i[n+9]),t.future_As.push(+i[n+10]),t.admin_actions_deadlines.push(+i[n+11]),t.fees.push(+i[39]/1e8),t.admin_fees.push(+i[40]),t.totalTokenBalances.push(+i[n+14]),t.totalTokenSupplies.push(+i[n+15]),w=0;for(var E=0;E<d["g"][a].N_COINS;E++)g=t.bal_infos[a][E]*+i[n+14]/+i[n+15],t.l_infos[a].push(g),w+=g;if(t.usdShares.push(i[n+14]*i[n+8]/1e36),t.totalShares.push(w),["susdv2","sbtc","y","swusd"].includes(a)){var F=l;if("sbtc"==a&&(F=u),["y","swusd"].includes(a)&&(F=h),t.totalStakes[a]=0,t.staked_infos[a]=[],F>0)for(var V=0;V<d["g"][a].N_COINS;V++)g=t.bal_infos[a][V]*F/+i[n+15],c["a"].set(t.staked_infos[a],V,g),t.totalStakes[a]+=g;t.usdStakes[a]=F*i[n+8]/1e36}f++},_=0,v=Object.entries(t.allContracts);_<v.length;_++)m();case 22:case"end":return a.stop()}}),a)})))()}}},T=B,D=Object(A["a"])(T,n,s,!1,null,null,null);t["default"]=D.exports},"695f":function(e,t,a){},"6eaa":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"window white"},[a("fieldset",[a("legend",{staticStyle:{color:"#86fce7","font-weight":"600","margin-bottom":"1rem","padding-top":".5rem","text-align":"center"}},[e._v("Pool deposits & daily volume")]),a("div",{class:{"loading line":!e.yPoolTvlUsd,"text-center-stats":!0},attrs:{id:"total-balances"}},[e._v(" TVL: "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.yPoolTvlUsd,expression:"yPoolTvlUsd"}]},[e._v("$"+e._s(e.formatNumber(e.yPoolTvlUsd)))])]),a("div",{class:{"loading line":e.volume<0,"text-center-stats":!0}},[e._v(" Daily volume: "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.volume>=0,expression:"volume >= 0"}]},[e._v("$"+e._s(e._f("formatNumber")(0|e.volume,0)))])])])])},s=[],r=(a("caad"),a("d81d"),a("b680"),a("4fad"),a("3835")),o=(a("96cf"),a("1da1")),i=a("99e5"),c=a.n(i),l=a("5245"),u=a("2fa3"),d=a("901e"),p=a.n(d),h=a("a4e2"),f=a("51bf"),m=a("5e35"),_=a("cf45"),v={props:{totalVolume:{default:void 0}},data:function(){return{total:"",yPoolTvl:null,boost:null}},computed:{volume:function(){return void 0!==this.totalVolume?this.totalVolume:h["g"]()},yPoolTvlUsd:function(){return this.yPoolTvl}},created:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,h["e"]();case 2:(void 0===e.totalVolume||e.totalVolume<0)&&e.dailyVolume(),null===e.yPoolTvl&&e.getYPoolNumbers();case 4:case"end":return t.stop()}}),t)})))()},methods:{formatNumber:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return u["e"](e,t)},getYPoolNumbers:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(_["getYPoolTVL"])(l["g"].swusd);case 2:e.yPoolTvl=t.sent,console.log("yPoolTvl",e.yPoolTvl);case 4:case"end":return t.stop()}}),t)})))()},totalBalances:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,n,s,o,i,d,h,_,v,b,w,g,y,x,k,S;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,e.total=0,m["b"].btcPrice){t.next=5;break}return t.next=5,m["a"]();case 5:for(a=p()(0),n={},s={},[],o=f["e"].web3||new c.a(l["k"]),i=new o.eth.Contract(l["l"],l["m"]),d=[],h=Object.assign({},l["g"]),delete h.susd,delete h.tbtc,delete h.swusd,_=0,v=Object.entries(h);_<v.length;_++)b=Object(r["a"])(v[_],2),w=b[0],g=b[1],console.log(w,"THE KEY"),n[w]=new o.eth.Contract(l["c"],g.token_address),s[w]=new o.eth.Contract(g.swap_abi,g.swap_address),d.push([n[w]._address,n[w].methods.totalSupply().encodeABI()]),d.push([s[w]._address,s[w].methods.get_virtual_price().encodeABI()]);return new o.eth.Contract(l["c"],l["g"].susd.token_address),y=new o.eth.Contract(l["g"].susd.swap_abi,l["g"].susd.swap_address),x=new o.eth.Contract(l["s"],l["g"].susd.coins[0]),d.push([x._address,x.methods.getPricePerFullShare().encodeABI()],[y._address,y.methods.balances(0).encodeABI()]),t.next=23,i.methods.aggregate(d).call();case 23:k=t.sent,S=k[1].map((function(e){return o.eth.abi.decodeParameter("uint256",e)})),Object(u["b"])(S,2).map((function(e,t,n){var s=p()(e[0]).times(p()(e[1])).div(1e36);[6,7].includes(t)&&(s=s.times(p()(m["b"].btcPrice))),a=a.plus(s)})),e.total=a.toFixed(0),t.next=33;break;case 29:throw t.prev=29,t.t0=t["catch"](0),console.log("total balances issue"),t.t0;case 33:case"end":return t.stop()}}),t,null,[[0,29]])})))()},dailyVolume:function(){return Object(o["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=["compound","usdt","swusd","busd","susd","pax","tbtc","ren","sbtc"],e.next=3,h["e"](t);case 3:case"end":return e.stop()}}),e)})))()}}},b=v,w=(a("cc4c"),a("2877")),g=Object(w["a"])(b,n,s,!1,null,"0a8cd102",null);t["a"]=g.exports},"92b9":function(e,t,a){},9510:function(e,t,a){e.exports=function(){return new Worker(a.p+"8a453fc57b81816d40a9.worker.js")}},a021:function(e,t,a){"use strict";var n=a("92b9"),s=a.n(n);s.a},a041:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("fieldset",[e._m(0),a("highcharts",{ref:"highcharts",attrs:{"constructor-type":"stockChart",options:e.chartdata}}),a("p",{directives:[{name:"show",rawName:"v-show",value:e.volume&&-1!=e.volume[0],expression:"volume && volume[0] != -1"}]},[a("span",[e._v("Daily USD trading volume:")]),a("span",{class:{"loading line":!e.volume}},[a("span",{directives:[{name:"show",rawName:"v-show",value:e.volume&&-1!=e.volume[0],expression:"volume && volume[0] != -1"}]},[e._v(" "+e._s(e._f("formatNumber")(e.volume&&e.volume[0]||0,0))+"$")])])]),a("div",{directives:[{name:"show",rawName:"v-show",value:["tbtc","ren","sbtc"].includes(e.pool),expression:"['tbtc', 'ren', 'sbtc'].includes(pool)"}]},[a("span",[e._v("Daily ₿ trading volume:")]),a("span",[a("span",{directives:[{name:"show",rawName:"v-show",value:e.volume&&-1!=e.volume[1],expression:"volume && volume[1] != -1"}]},[e._v(" "+e._s(e._f("formatNumber")(e.volume&&e.volume[1]||0,8))+" ₿ ")])])]),a("p")],1)},s=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("legend",[e._v("Daily APY % "),a("span",{staticClass:"tooltip"},[e._v("[?]"),a("span",{staticClass:"tooltiptext long"},[e._v("Pool APY % + Lending APY % (on annual basis)")])])])}],r=(a("99af"),a("7db0"),a("caad"),a("d81d"),a("6eba"),a("0d03"),a("b0c0"),a("b680"),a("d3b7"),a("3ca3"),a("ddb0"),a("96cf"),a("1da1")),o=a("3835"),i=a("99e5"),c=a.n(i),l=a("ea7f"),u=a.n(l),d=a("0319"),p=a.n(d),h=a("d68a"),f=a.n(h),m=a("4452"),_=a("37d8"),v=a.n(_),b=a("2fa3"),w=a("5245"),g=a("a4e2");p()(u.a),f()(u.a),v()(u.a),u.a.setOptions({lang:{loading:""}});var y=new c.a(w["k"]),x={props:{data:Array,volume:{type:Array},pool:String},components:{highcharts:m["Chart"]},data:function(){return{chartdata:{chart:{panning:!0,zoomType:"x",panKey:"ctrl",height:600},rangeSelector:{selected:1},exporting:{buttons:{contextButton:{menuItems:["printChart","separator","downloadPNG","downloadJPEG","downloadPDF","downloadSVG","separator","downloadCSV","downloadXLS","openInCloud"]}}},yAxis:[{id:"apyAxis",opposite:!1,type:"logarithmic",min:.1,title:{text:"Daily APY [%]",style:{color:"black"},margin:10},labels:{align:"right",x:-30,formatter:function(){return(Math.floor(100*this.value)/100).toFixed(2)},style:{color:"black"}},tickPixelInterval:10,height:"60%"},{id:"volumeAxis",opposite:!1,title:{text:"Trading Volume",style:{color:"black"},margin:10},labels:{style:{color:"black"},align:"right",x:-30},top:"65%",height:"35%",offset:0}],xAxis:{labels:{style:{color:"black"}}},series:[],tooltip:{split:!0,valueDecimals:3,pointFormatter:function(e){return function(){var t=Math.floor(100*this.y)/100+"%";if("Daily APY"==this.series.name)return'<span style="color:'.concat(this.color,'">●</span> ').concat(this.series.name,": <b>").concat(t,"</b><br/>");if("SNX APY"==this.series.name)return'<span style="color:'.concat(this.color,'">●</span> ').concat(this.series.name,": <b>").concat(t,"</b><br/>");if("SNX+REN APY"==this.series.name)return'<span style="color:'.concat(this.color,'">●</span> ').concat(this.series.name,": <b>").concat(t,"</b><br/>");if("YFI APY"==this.series.name)return'<span style="color:'.concat(this.color,'">●</span> ').concat(this.series.name,": <b>").concat(t,"</b><br/>");if("Total APY"==this.series.name)return'<span style="color:'.concat(this.color,'">●</span> ').concat(this.series.name,": <b>").concat(t,"</b><br/>");if("Lending APY"==this.series.name)return'<span style="color:'.concat(this.color,'">●</span> ').concat(this.series.name,": <b>").concat(t,"</b><br/>");if("Trading Volume"===this.series.name){var a=this.y.toFixed(2);return["tbtc","ren","sbtc"].includes(e.pool)&&(a=this.y.toFixed(8)),'<span style="color:'.concat(this.color,'">●</span> ').concat(this.series.name," : <b>").concat(a,"</b><br/>")}}}(this)},legend:{enabled:!0}},chart:null}},computed:{volumeData:function(){return["tbtc","ren","sbtc"].includes(this.pool)?b["e"](this.volume,8):b["e"](this.volume,0)}},watch:{"data.length":function(e){this.mounted()}},mounted:function(){this.chart=this.$refs.highcharts.chart,this.chart.showLoading()},methods:{loaded:function(){this.loading=!1},findClosestPrice:function(e,t){var a=t.find((function(t){var a=Object(o["a"])(t,2),n=a[0];a[1];return n/1e3>e}));return void 0===a?t[t.length-1][1]:a[1]},mounted:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,n,s,r,i,c,l,u,d,p,h,f,m,_,v,b,x,k,S,P,A,C,N,j,O,R,I,B,T,D,E,F,V,Y,U,L,$,M,z,W,G,X,q,H,J,K,Q,Z,ee,te,ae,ne,se,re,oe,ie,ce,le,ue,de,pe,he,fe;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:while(e.chart.series.length)e.chart.series[0].remove();for(a=[],n=1;n<e.data.length;n++)s=e.data[n],r=s.timestamp-e.data[n-1].timestamp,i=Math.pow(s.virtual_price/1e18/(e.data[n-1].virtual_price/1e18),31536e3/r)-1,a.push([1e3*s.timestamp,100*i]);if(e.chart.addSeries({name:"Daily APY",lineWidth:2,data:a,color:"#0b0a57"},!1,!1),"susdv2"!=e.pool){t.next=25;break}return c=e.data[0].timestamp,l=e.data[e.data.length-1].timestamp,t.next=9,fetch("https://api.coingecko.com/api/v3/coins/havven/market_chart/range?vs_currency=usd&from=".concat(c,"&to=").concat(l));case 9:return u=t.sent,t.next=12,u.json();case 12:return u=t.sent.prices,d=new y.eth.Contract(w["g"].susdv2.sCurveRewards_abi,w["g"].susdv2.sCurveRewards_address),p=new y.eth.Contract(w["l"],w["m"]),h=[[d._address,d.methods.DURATION().encodeABI()],[d._address,d.methods.rewardRate().encodeABI()],[d._address,d.methods.periodFinish().encodeABI()]],t.next=18,p.methods.aggregate(h).call();case 18:for(f=t.sent,m=f[1].map((function(e){return y.eth.abi.decodeParameter("uint256",e)})),_=[],v=1;v<e.data.length;v++)b=e.data[v].timestamp,x=e.data[v].supply,k=e.data[v].virtual_price,S=e.findClosestPrice(e.data[v].timestamp,u),P=64e3,b>1590705735&&b<1594256015&&(P=48e3),b>1594256015&&(P=m[0]*m[1]/1e18),+m[2]<b&&(P=1e-6),A=356*P/7*S/(.98*x*k/1e36)*100,_.push([1e3*b,A]);e.chart.addSeries({name:"SNX APY",lineWidth:2,data:_,color:"#f45b5b"}),C=a.map((function(e,t){var a=Object(o["a"])(e,2),n=a[0],s=a[1];return[n,s+_[t][1]]})),e.chart.addSeries({name:"Total APY",lineWidth:2,data:C,color:"#8085e9"});case 25:if(Date.now()/1e3,"sbtc"!=e.pool){t.next=48;break}return N=e.data[0].timestamp,j=e.data[e.data.length-1].timestamp,t.next=31,Promise.all([fetch("https://api.coingecko.com/api/v3/coins/havven/market_chart/range?vs_currency=usd&from=".concat(N,"&to=").concat(j)),fetch("https://api.coingecko.com/api/v3/coins/republic-protocol/market_chart/range?vs_currency=usd&from=".concat(N,"&to=").concat(j)),fetch("https://api.coingecko.com/api/v3/simple/price?ids=bitcoin&vs_currencies=usd")]);case 31:return O=t.sent,t.next=34,Promise.all(O.map((function(e){return e.json()})));case 34:return R=t.sent,console.log(R,"PRICES"),I=R[0].prices,B=R[1].prices,T=R[2].bitcoin.usd,D=new y.eth.Contract(w["g"].sbtc.sCurveRewards_abi,w["g"].sbtc.sCurveRewards_address),t.next=42,D.methods.periodFinish().call();case 42:for(E=t.sent,F=[],V=1;V<e.data.length;V++)Y=e.data[V].timestamp,U=e.data[V].supply,L=e.data[V].virtual_price,$=e.findClosestPrice(e.data[V].timestamp,I),M=e.findClosestPrice(e.data[V].timestamp,B),z=1e4,W=25e3,+E<Y&&(z=1e-6,W=1e-6),G=356*(z*$+W*M)/7/(.98*T*U*L/1e36)*100,F.push([1e3*Y,G]);e.chart.addSeries({name:"SNX+REN APY",lineWidth:2,data:F,color:"#f45b5b"}),X=a.map((function(e,t){var a=Object(o["a"])(e,2),n=a[0],s=a[1];return[n,s+F[t][1]]})),e.chart.addSeries({name:"Total APY",lineWidth:2,data:X,color:"#8085e9"});case 48:if(!["y","swusd"].includes(e.pool)){t.next=70;break}return q=1594972885,H=e.data[e.data.length-1].timestamp,t.next=53,fetch("https://api.coingecko.com/api/v3/coins/yearn-finance/market_chart/range?vs_currency=usd&from=".concat(q,"&to=").concat(H));case 53:return J=t.sent,console.log("https://api.coingecko.com/api/v3/coins/yearn-finance/market_chart/range?vs_currency=usd&from=".concat(q,"&to=").concat(H)),t.next=57,J.json();case 57:return J=t.sent.prices,K=new y.eth.Contract(w["g"].swusd.sCurveRewards_abi,w["g"].swusd.sCurveRewards_address),Q=new y.eth.Contract(w["l"],w["m"]),Z=[[K._address,K.methods.DURATION().encodeABI()],[K._address,K.methods.rewardRate().encodeABI()],[K._address,K.methods.periodFinish().encodeABI()]],t.next=63,Q.methods.aggregate(Z).call();case 63:for(ee=t.sent,te=ee[1].map((function(e){return y.eth.abi.decodeParameter("uint256",e)})),ae=[],ne=1;ne<e.data.length;ne++)se=e.data[ne].timestamp,re=e.data[ne].supply,oe=e.data[ne].virtual_price,console.log(J,"SNX PRICES"),ie=e.findClosestPrice(e.data[ne].timestamp,J),ce=te[0]*te[1]/1e18,+te[2]<se&&(ce=1e-6),se<1594972885&&(ce=0),le=356*ce/7*ie/(.98*re*oe/1e36)*100,ae.push([1e3*se,le]);e.chart.addSeries({name:"YFI APY",lineWidth:2,data:ae,color:"#f45b5b"}),ue=a.map((function(e,t){var a=Object(o["a"])(e,2),n=a[0],s=a[1];return[n,s+ae[t][1]]})),e.chart.addSeries({name:"Total APY",lineWidth:2,data:ue,color:"#8085e9"});case 70:return["susd"].includes(e.pool)&&e.chart.yAxis[0].update({type:"linear"}),t.next=73,g["c"](e.pool,!1,1440);case 73:if(de=g["f"].allVolume["susdv2"==e.pool?"susd":e.pool],e.chart.addSeries({type:"column",name:"Trading Volume",data:de,color:"#0b0a57",yAxis:"volumeAxis"},!1,!1),e.chart.redraw(!1),he="apyAxis",["susdv2","tbtc","ren","sbtc"].includes(e.pool)){t.next=83;break}return t.next=80,g["d"](e.pool,!1,1440);case 80:pe=t.sent,t.next=87;break;case 83:pe=de.map((function(e){return[e[0],0]})),he="lendingAxis",e.chart.addAxis({id:"lendingAxis",opposite:!1,type:"linear",title:{text:"Lending rates",style:{color:"black"}},labels:{x:40,style:{color:"black"}},tickPixelInterval:10,top:"65%",height:"5%"}),e.chart.yAxis[1].update({top:"70%",height:"30%"});case 87:e.chart.addSeries({name:"Lending APY",data:pe,yAxis:he,color:"#7bb5ec"}),["susdv2","tbtc","ren","sbtc","y","swusd"].includes(e.pool)||(fe=a.map((function(e,t){var a=Object(o["a"])(e,2),n=a[0],s=a[1];return[n,s+pe[t][1]]})),e.chart.addSeries({name:"Total APY",lineWidth:2,data:fe,color:"#8085e9"})),e.chart.redraw(),e.chart.hideLoading(),e.loading=!1;case 92:case"end":return t.stop()}}),t)})))()}}},k=x,S=a("2877"),P=Object(S["a"])(k,n,s,!1,null,null,null);t["a"]=P.exports},b2ea:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"blue window half-width info"},[a("fieldset",{attrs:{id:"lp-info-currency"}},[a("legend",[e._v("Currency reserves")]),a("ul",{attrs:{id:"balances-info"}},[e._l(Object.keys(e.currencies),(function(t,n){return a("li",[a("b",[e._v(e._s(e._f("capitalize")(t))+":")]),a("span",{class:{"loading line":!e.bal_info||null===e.bal_info[n]}},[a("span",{directives:[{name:"show",rawName:"v-show",value:e.bal_info&&e.bal_info[n],expression:"bal_info && bal_info[i]"}]},[e._v(" "+e._s(e.bal_info&&e.toFixed(e.bal_info[n]))+" ("+e._s(e._f("toFixed2")((e.bal_info&&100*e.bal_info[n])/e.totalBalances))+"%) ")])])])})),a("li",[a("b",[e._v(e._s(e.totalCurrencies(e.currencies))+":")]),a("span",{class:{"loading line":null===e.totalBalances}},[e._v(" "+e._s(e.toFixed(e.totalBalances)))])])],2),a("p",[a("ul",[a("li",[a("b",[e._v("Daily USD Vol:")]),a("span",{class:{"loading line":null===e.dailyVolumeInUsd}},[e._v(" $"+e._s(e._f("formatNumber")(e.dailyVolumeInUsd))+" ")])])]),a("ul",[a("li",[a("b",[e._v("Fee:")]),a("span",{class:{"loading line":!e.fee},attrs:{id:"fee-info"}}),a("span",{directives:[{name:"show",rawName:"v-show",value:e.fee,expression:"fee"}]},[e._v(" "+e._s(e.fee&&e.fee.toFixed(3))+"%")])]),a("li",[a("b",[e._v("Admin fee:")]),a("span",{class:{"loading line":e.admin_fee},attrs:{id:"admin-fee-info"}},[e._v(" "+e._s(e.admin_fee&&e.admin_fee.toFixed(3)))]),e._v("% ")])])]),a("ul",[a("li",[a("b",[e._v(" Virtual price: ")]),a("span",{class:{"loading line":null===e.virtualPrice1}},[a("span",{staticClass:"tooltip"},[e._v(" "+e._s(e.virtualPrice1.toFixed(4))+" "),a("span",{staticClass:"tooltiptext"},[e._v(" "+e._s(e.virtualPrice1)+" ")])])]),e._v(" "),a("span",{staticClass:"tooltip"},[e._v("[?] "),a("span",{staticClass:"tooltiptext"},[e._v(" Average dollar value of pool token "+e._s((e.usdShare1+e.usdStake1).toFixed(2))+" ")])])]),a("li",[e._m(0),a("span",{class:{"loading line":null===e.A1}},[e._v(" "+e._s(e.A1)+" ")])]),a("li",{directives:[{name:"show",rawName:"v-show",value:e.isRampingUp,expression:"isRampingUp"}]},[e._m(1),a("span",[e._v(" "+e._s(e.initial_A)+" -> "+e._s(e.future_A)+" ")])]),a("li",{directives:[{name:"show",rawName:"v-show",value:e.isRampingUp,expression:"isRampingUp"}]},[a("b",[e._v("Ramp up A ends on:")]),a("span",[e._v(" "+e._s(e.rampEnd))])]),a("li",{directives:[{name:"show",rawName:"v-show",value:null!==e.admin_actions_deadline1&&0!==e.admin_actions_deadline1,expression:"admin_actions_deadline1 !== null && admin_actions_deadline1 !== 0"}]},[a("b",[e._v("Future A: ")]),a("span",{class:{"loading line":null===e.future_A1}},[e._v(" "+e._s(e.future_A1)+" ")])]),a("li",{directives:[{name:"show",rawName:"v-show",value:null!==e.admin_actions_deadline1&&0!==e.admin_actions_deadline1,expression:"admin_actions_deadline1 !== null && admin_actions_deadline1 !== 0"}]},[a("b",[e._v("Action deadline: ")]),a("div",{class:{"loading line":null===e.admin_actions_deadline1}},[e._v(" "+e._s(e.admin_actions_readable)+" GMT "),e._m(2)])])])]),a("fieldset",{directives:[{name:"show",rawName:"v-show",value:e.totalShare>0&&e.initializedContracts,expression:"totalShare > 0 && initializedContracts"}],attrs:{id:"lp-info-container"}},[a("legend",[e._v("My share: ( "+e._s((e.totalBalance/e.totalSupply*100).toFixed(3))+"% of pool)")]),a("ul",{attrs:{id:"lp-info"}},[e._l(Object.keys(e.currencies),(function(t,n){return a("li",[a("b",[e._v(e._s(e._f("capitalize")(t))+":")]),a("span",[e._v(" "+e._s(e.l_info&&e.toFixed(e.l_info[n])))])])})),a("li",[a("b",[e._v(e._s(e.totalCurrencies(e.currencies))+":")]),a("span",{class:{"loading line":null===e.totalUserBalances}},[e._v(" "+e._s(e.toFixed(e.totalUserBalances)))])]),a("li",[a("b",[e._v("USD balance:")]),a("span",[a("span",{class:{"loading line":null===e.usdShare1}},[a("span",{directives:[{name:"show",rawName:"v-show",value:null!==e.usdShare1,expression:"usdShare1 !== null"}]},[e._v(" "+e._s(e._f("formatNumber")(e._f("toFixed2")(e.usdShare1)))+" ")])])])])],2)])])},s=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b",{staticClass:"tooltip"},[e._v(" A: "),a("span",{staticClass:"tooltiptext long"},[e._v(" Amplification coefficient chosen from fluctation of prices around 1 ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b",[e._v(" Ramping up A: "),a("span",{staticClass:"tooltip"},[e._v("[?] "),a("span",{staticClass:"tooltiptext long"},[e._v("Slowly changing up A so that it doesn't negatively change virtual price growth of shares")])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"tooltip"},[e._v(" [?] "),a("span",{staticClass:"tooltiptext long"},[e._v(" This is when the proposed future A can be enacted and changed. It also may not be changed. ")])])}],r=(a("caad"),a("a15b"),a("13d5"),a("6eba"),a("0d03"),a("b64b"),a("07ac"),a("96cf"),a("1da1")),o=a("51bf"),i=a("5245"),c=a("2fa3"),l=a("cf45"),u=a("a4e2"),d=a("3d15"),p=a("9510"),h=a.n(p),f=(a("5e35"),new h.a),m=(d["a"](f),{props:["pool","bal_info","total","l_info","totalShare","fee","admin_fee","currencies","tokenSupply","tokenBalance","usdShare","staked_info","totalStake","usdStake","combinedstats","virtual_price","A","future_A","admin_actions_deadline"],data:function(){return{volumes:[],realShare:null,realStake:null,lastPoint:null,lastPool:null,btcPrice:0,liqUtil:"-",dailyUsdVolume:"-",avgPrice:1,dailyVolumeInUsd:0}},methods:{toFixed:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(""==e||null===e||void 0===e)return"";2==t&&["tbtc","ren","sbtc"].includes(this.currentPool)&&(t=8);var a=this.formatNumber(e,t);return a},totalCurrencies:function(e){return["susdv2","tbtc","ren"].includes(this.currentPool)?Object.values(e).join("+"):Object.keys(e).join("+").toUpperCase()},formatNumber:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return c["e"](e,t)},updateShares:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.usdShare1>0||(["susdv2","sbtc","y","swusd"].includes(e.currentPool)&&e.usdStake1)>0){t.next=2;break}return t.abrupt("return");case 2:a=e.currentPool,a="swusd"==a?"y":"susdv2"==a?"susd":"ren"==a?"ren2":"sbtc"==a?"rens":a;case 4:case"end":return t.stop()}}),t)})))()}},created:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,u["e"]();case 2:return e.$watch((function(){return e.hasLoadedInfo}),(function(e){return!0})),a=u["g"](),t.next=6,l["getAverageCoinPrice"]();case 6:e.avgPrice=t.sent,console.log("avgPrice",String(e.avgPrice)),console.log("volume",a),e.dailyVolumeInUsd=e.avgPrice*a,console.log("daily vol in usd",e.dailyVolumeInUsd);case 11:case"end":return t.stop()}}),t)})))()},computed:{showShares:o["g"].showShares,initializedContracts:o["g"].initializedContracts,totalSupply:function(){return this.tokenSupply?this.tokenSupply:o["g"].totalSupply()},totalBalance:function(){return this.tokenBalance?this.tokenBalance:o["g"].totalBalance()},curveStakeBalance:function(){return o["e"].curveStakeBalance},volumePool:function(){return"swusd"==this.currentPool?"y":"susdv2"==this.currentPool?"susd":this.currentPool},currentPool:function(){return this.pool||o["e"].currentContract},virtualPrice1:function(){return this.virtual_price||o["e"].virtual_price||0},totalBalances:function(){var e=this.bal_info&&this.bal_info.reduce((function(e,t){return e+t}),0)||null;return e},totalUserBalances:function(){return this.l_info&&this.l_info.reduce((function(e,t){return e+t}),0)||null},totalStakedBalances:function(){return this.staked_info&&this.staked_info.reduce((function(e,t){return e+t}),0)||null},poolLiqUtilization:function(){return this.liqUtil},usdShare1:function(){var e=this.usdShare||o["g"].usdShare();return this.isBTC&&(e*=this.btcPrice),e},usdStake1:function(){var e=this.usdStake||o["g"].usdStake();return this.isBTC&&(e*=this.btcPrice),e},A1:function(){return this.A||1e18*o["g"].A()|0},future_A1:function(){return this.future_A||0|o["g"].future_A()},initial_A:function(){return o["g"].initial_A()},isRampingUp:function(){return o["g"].initial_A_time()<Date.now()/1e3<o["g"].future_A_time()},rampEnd:function(){return c["d"](o["g"].future_A_time())},admin_actions_readable:function(){return c["d"](this.admin_actions_deadline1)},admin_actions_deadline1:function(){return this.admin_actions_deadline||o["g"].admin_actions_deadline()},poolVolumeUSD:function(){return u["f"].volumes["swusd"==this.currentPool?"y":"susdv2"==this.currentPool?"susd":this.currentPool][0]},poolVolume:function(){return u["f"].volumes["swusd"==this.currentPool?"y":"susdv2"==this.currentPool?"susd":this.currentPool][1]||0},nativeVolume:function(){return this.isBTC?this.poolVolume:this.poolVolumeUSD},isBTC:function(){return["tbtc","ren","sbtc"].includes(this.currentPool)},hasLoadedInfo:function(){var e=i["g"][this.currentPool].N_COINS;return this.currentPool&&this.l_info&&void 0!==this.l_info[e-1]||this.staked_info&&void 0!==this.staked_info[e-1]}}}),_=m,v=(a("a021"),a("2877")),b=Object(v["a"])(_,n,s,!1,null,"e54e9a70",null);t["a"]=b.exports},cc4c:function(e,t,a){"use strict";var n=a("efb8"),s=a.n(n);s.a},efb8:function(e,t,a){}}]);
//# sourceMappingURL=chunk-4c230514.78ca1603.js.map