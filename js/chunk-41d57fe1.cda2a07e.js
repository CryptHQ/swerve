(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-41d57fe1"],{"0c33":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("p",{directives:[{name:"show",rawName:"v-show",value:e.showSlippage&&e.slippage<-.005,expression:"showSlippage && slippage < -0.005"}],staticClass:"simple-error",attrs:{id:"highslippage-warning"}},[a("span",{staticClass:"text"},[e._v(" Warning! High slippage(plus pricing): "),a("span",{staticClass:"percent"},[e._v(e._s((100*-e.slippage).toFixed(3)))]),e._v("% "),e._m(0)])]),a("p",{directives:[{name:"show",rawName:"v-show",value:e.showSlippage&&e.slippage<=0&&e.slippage>=-.005,expression:"showSlippage && slippage <= 0 && slippage >= -0.005"}],staticClass:"info-message",attrs:{id:"slippage-warning"}},[a("span",{staticClass:"text"},[e._v(" Slippage(plus pricing): ")]),a("span",{staticClass:"percent"},[e._v(e._s((100*-e.slippage).toFixed(3)))]),e._v("% "),e._m(1)]),a("p",{directives:[{name:"show",rawName:"v-show",value:e.showSlippage&&e.slippage>0,expression:"showSlippage && slippage > 0"}],staticClass:"success",attrs:{id:"bonus-window"}},[e._v(" Bonus(plus pricing): "),a("span",[e._v(e._s((100*e.slippage).toFixed(3)))]),e._v("% "),a("span",{staticClass:"tooltip"},[e._v("[?] "),a("span",{staticClass:"tooltiptext long"},[e._v(" Bonus comes as an advantage from current coin prices which usually appears for coins which are "+e._s("Deposit"==e.$route.name?"low":"high")+" in balance ")])])]),a("p",{directives:[{name:"show",rawName:"v-show",value:e.show_nobalance,expression:"show_nobalance"}],staticClass:"simple-error",attrs:{id:"nobalance-warning"}},[e._v(" Warning! Not enough balance for "+e._s(e.noBalanceText)+" token in the contract ")]),a("p",{directives:[{name:"show",rawName:"v-show",value:"susdv2"==e.currentPool&&e.showSlippage&&e.slippage<-.01,expression:"currentPool == 'susdv2' && showSlippage && slippage < -0.01"}],staticClass:"info-message gentle-message",attrs:{id:"susd-warning"}},[e._v(" Please add coins in a balanced proportion ")])])},s=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"tooltip"},[e._v("[?] "),a("span",{staticClass:"tooltiptext long"},[e._v(" Slippage comes from depositing too many coins not in balance, and current coin prices are additionally accounted for ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"tooltip"},[e._v("[?] "),a("span",{staticClass:"tooltiptext long"},[e._v(" Slippage comes from depositing too many coins not in balance, and current coin prices are additionally accounted for ")])])}],r=(a("4fad"),a("5530")),i=a("51bf"),o={props:["show_nobalance","show_nobalance_i"],computed:Object(r["a"])(Object(r["a"])({},i["g"]),{},{noBalanceText:function(){if(!this.show_nobalance)return"";var e=Object.entries(this.currencies)[this.show_nobalance_i];return 2==this.show_nobalance_i&&"usdt"==this.currentPool||"susdv2"==this.currentPool?e[1]:e[1]+" (in "+e[0]+")"}})},c=o,u=a("2877"),l=Object(u["a"])(c,n,s,!1,null,"556a4168",null);t["a"]=l.exports},"3bdc":function(e,t,a){function n(e,t,a,n,s,r,i){try{var o=e[r](i),c=o.value}catch(u){return void a(u)}o.done?t(c):Promise.resolve(c).then(n,s)}function s(e){return function(){var t=this,a=arguments;return new Promise((function(s,r){var i=e.apply(t,a);function o(e){n(i,s,r,o,c,"next",e)}function c(e){n(i,s,r,o,c,"throw",e)}o(void 0)}))}}a("d3b7"),e.exports=s},5199:function(e,t,a){"use strict";var n=a("64ea"),s=a.n(n);s.a},"64ea":function(e,t,a){},"7c94":function(e,t,a){"use strict";var n=a("bfa2"),s=a.n(n);s.a},a9e3:function(e,t,a){"use strict";var n=a("83ab"),s=a("da84"),r=a("94ca"),i=a("6eeb"),o=a("5135"),c=a("c6b6"),u=a("7156"),l=a("c04e"),d=a("d039"),p=a("7c73"),h=a("241c").f,w=a("06cf").f,g=a("9bf2").f,m=a("58a8").trim,v="Number",_=s[v],f=_.prototype,b=c(p(f))==v,x=function(e){var t,a,n,s,r,i,o,c,u=l(e,!1);if("string"==typeof u&&u.length>2)if(u=m(u),t=u.charCodeAt(0),43===t||45===t){if(a=u.charCodeAt(2),88===a||120===a)return NaN}else if(48===t){switch(u.charCodeAt(1)){case 66:case 98:n=2,s=49;break;case 79:case 111:n=8,s=55;break;default:return+u}for(r=u.slice(2),i=r.length,o=0;o<i;o++)if(c=r.charCodeAt(o),c<48||c>s)return NaN;return parseInt(r,n)}return+u};if(r(v,!_(" 0o1")||!_("0b1")||_("+0x1"))){for(var P,k=function(e){var t=arguments.length<1?0:e,a=this;return a instanceof k&&(b?d((function(){f.valueOf.call(a)})):c(a)!=v)?u(new _(x(t)),a,k):x(t)},y=n?h(_):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),N=0;y.length>N;N++)o(_,P=y[N])&&!o(k,P)&&g(k,P,w(_,P));k.prototype=f,f.constructor=k,i(s,v,k)}},bfa2:function(e,t,a){},d1e2:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"add-liquidity"},[a("fieldset",{staticClass:"percentage"},[a("legend",[e._v(" Share of liquidity (%) ")]),a("ul",[a("li",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.share,expression:"share"}],style:e.shareStyles,attrs:{type:"text",id:"liquidity-share",name:"liquidity-share"},domProps:{value:e.share},on:{input:[function(t){t.target.composing||(e.share=t.target.value)},e.handle_change_share],focus:e.handle_change_share}})])])]),a("fieldset",{staticClass:"currencies"},[a("legend",[e._v("Currencies:")]),a("ul",e._l(Object.keys(e.currencies),(function(t,n){var s;return a("li",[a("label",{staticClass:"currency_label",attrs:{for:"currency_"+n}},[a("img",{class:(s={"token-icon":!0},s[t+"-icon"]=!0,s["y"]=e.withdrawc,s[e.currentPool]=!0,s),attrs:{src:e.getTokenIcon(t)}}),a("span",{directives:[{name:"show",rawName:"v-show",value:e.withdrawc,expression:"withdrawc"}]},[e._v(e._s(e.currencies[t])+" "),a("span",{directives:[{name:"show",rawName:"v-show",value:!("usdt"==t&&"usdt"==e.currentPool)&&!["susdv2","ren","sbtc"].includes(e.currentPool),expression:"!(currency == 'usdt' && currentPool == 'usdt') && !['susdv2', 'ren', 'sbtc'].includes(currentPool)"}]},[e._v("(in "+e._s(e._f("capitalize")(t))+")")])]),a("span",{directives:[{name:"show",rawName:"v-show",value:!e.withdrawc&&!["susdv2","tbtc","ren","sbtc"].includes(e.currentPool),expression:"!withdrawc && !['susdv2', 'tbtc', 'ren', 'sbtc'].includes(currentPool)"}]},[e._v(e._s(e._f("capitalize")(t)))]),a("span",{directives:[{name:"show",rawName:"v-show",value:!e.withdrawc&&["susdv2","tbtc","ren","sbtc"].includes(e.currentPool),expression:"!withdrawc && ['susdv2', 'tbtc', 'ren', 'sbtc'].includes(currentPool)"}]},[e._v(e._s(e.currencies[t]))])]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.inputs[n],expression:"inputs[i]"}],ref:"inputs"+n,refInFor:!0,style:e.inputStyles[n],attrs:{type:"text",id:"currency_"+n,name:"from_cur",disabled:"susd"==e.currentPool},domProps:{value:e.inputs[n]},on:{input:[function(t){t.target.composing||e.$set(e.inputs,n,t.target.value)},function(t){return e.handle_change_amounts(n)}],focus:function(t){return e.handle_change_amounts(n)}}})])})),0)]),a("fieldset",{directives:[{name:"show",rawName:"v-show",value:"susd"!=e.currentPool,expression:"currentPool != 'susd'"}]},[e._m(0),a("ul",[a("li",{directives:[{name:"show",rawName:"v-show",value:!["susdv2","tbtc","ren","sbtc"].includes(e.currentPool),expression:"!['susdv2','tbtc','ren', 'sbtc'].includes(currentPool)"}]},[a("input",{attrs:{type:"radio",id:"to_cur_comb",name:"to_cur"},domProps:{value:10,checked:10===e.to_currency},on:{click:function(t){return e.handleCheck(10)}}}),a("label",{attrs:{for:"to_cur_comb"}},[e._v(" Combination of all coins "),e._l(Object.keys(e.currencies),(function(t,n){var s;return a("span",[a("span",{directives:[{name:"show",rawName:"v-show",value:n>0,expression:"i > 0"}]},[e._v("+")]),a("img",{class:(s={"token-icon":!0},s[t+"-icon"]=!0,s["y"]=e.withdrawc,s[e.currentPool]=!0,s),attrs:{src:e.getTokenIcon(t)}})])}))],2)]),e._l(Object.keys(e.currencies),(function(t,n){var s;return a("li",{staticClass:"withdrawin"},[a("input",{attrs:{type:"radio",id:"to_cur_"+n,name:"to_cur"},domProps:{value:n,checked:e.to_currency===n},on:{click:function(t){return e.handleCheck(n)}}}),a("label",{attrs:{for:"to_cur_"+n}},[a("img",{class:(s={"token-icon":!0},s[t+"-icon"]=!0,s["y"]=e.withdrawc,s[e.currentPool]=!0,s),attrs:{src:e.getTokenIcon(t)}}),a("span",{directives:[{name:"show",rawName:"v-show",value:!e.withdrawc,expression:"!withdrawc"}]},[e._v(" "+e._s(e._f("capitalize")(t))+" ")]),a("span",{directives:[{name:"show",rawName:"v-show",value:e.withdrawc,expression:"withdrawc"}]},[e._v(" "+e._s(e.currencies[t])+" ")])])])}))],2)]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showWithdrawSlippage,expression:"showWithdrawSlippage"}],attrs:{id:"max_slippage"}},[a("span",[e._v("Max slippage:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.maxSlippage,expression:"maxSlippage"}],attrs:{id:"slippage02",type:"radio",name:"slippage",value:"0.2"},domProps:{checked:e._q(e.maxSlippage,"0.2")},on:{change:function(t){e.maxSlippage="0.2"}}}),a("label",{attrs:{for:"slippage02"}},[e._v("0.2%")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.maxSlippage,expression:"maxSlippage"}],attrs:{id:"slippage1",type:"radio",name:"slippage",checked:"",value:"3"},domProps:{checked:e._q(e.maxSlippage,"3")},on:{change:function(t){e.maxSlippage="3"}}}),a("label",{attrs:{for:"slippage1"}},[e._v("3%")]),a("input",{attrs:{id:"custom_slippage",type:"radio",name:"slippage",value:"-"},on:{click:function(t){e.customippageDisabled=!1}}}),a("label",{attrs:{for:"custom_slippage"},on:{click:function(t){e.customSlippageDisabled=!1}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.maxInputSlippage,expression:"maxInputSlippage"}],attrs:{type:"text",id:"custom_slippage_input",disabled:e.customSlippageDisabled,name:"custom_slippage_input"},domProps:{value:e.maxInputSlippage},on:{input:function(t){t.target.composing||(e.maxInputSlippage=t.target.value)}}}),e._v(" % ")])]),a("gas-price"),a("p",{directives:[{name:"show",rawName:"v-show",value:e.showInfApprovalZap,expression:"showInfApprovalZap"}],staticClass:"do-center"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.inf_approval,expression:"inf_approval"}],attrs:{id:"inf_approval",type:"checkbox"},domProps:{checked:Array.isArray(e.inf_approval)?e._i(e.inf_approval,null)>-1:e.inf_approval},on:{change:function(t){var a=e.inf_approval,n=t.target,s=!!n.checked;if(Array.isArray(a)){var r=null,i=e._i(a,r);n.checked?i<0&&(e.inf_approval=a.concat([r])):i>-1&&(e.inf_approval=a.slice(0,i).concat(a.slice(i+1)))}else e.inf_approval=s}}}),a("label",{attrs:{for:"inf_approval"}},[e._v("Infinite approval - trust zap contract forever")])]),a("div",{staticClass:"buttons",attrs:{id:"withdraw_buttons"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.nobalance,expression:"nobalance"}],staticClass:"info-message gentle-message",attrs:{id:"amount-warning"}},[e._v(" You don't have any available amount to withdraw ")]),a("button",{directives:[{name:"show",rawName:"v-show",value:"susd"!=e.currentPool,expression:"currentPool != 'susd'"}],staticClass:"simplebutton",attrs:{id:"remove-liquidity",disabled:["susdv2","sbtc"].includes(e.currentPool)&&e.slippage<-.03&&!e.warninglow||1==e.show_nobalance},on:{click:function(t){return e.handle_remove_liquidity()}}},[e._v(" Withdraw "),a("span",{directives:[{name:"show",rawName:"v-show",value:1==e.loadingAction,expression:"loadingAction == 1"}],staticClass:"loading line"})]),a("button",{directives:[{name:"show",rawName:"v-show",value:["susdv2","sbtc","y","swusd"].includes(e.currentPool)&&e.staked_balance>0,expression:"['susdv2', 'sbtc','y','swusd'].includes(currentPool) && staked_balance > 0 "}],attrs:{id:"remove-liquidity-unstake",disabled:e.slippage<-.03},on:{click:function(t){return e.handle_remove_liquidity(!0,!1,!0)}}},[e._v(" Withdraw & claim "),a("span",{directives:[{name:"show",rawName:"v-show",value:2==e.loadingAction,expression:"loadingAction == 2"}],staticClass:"loading line"})]),a("button",{directives:[{name:"show",rawName:"v-show",value:["susdv2","sbtc","y","swusd"].includes(e.currentPool)&&e.pendingSNXRewards>0,expression:"['susdv2', 'sbtc','y','swusd'].includes(currentPool) && pendingSNXRewards > 0"}],attrs:{id:"claim-snx"},on:{click:function(t){return e.claim_SNX(!1)}}},[e._v(" Claim "+e._s((e.pendingSNXRewards/1e18).toFixed(2))+" "+e._s(["y","swusd"].includes(e.currentPool)?"YFI":"SNX")+" "),a("span",{directives:[{name:"show",rawName:"v-show",value:"sbtc"==e.currentPool,expression:"currentPool == 'sbtc'"}]},[e._v(" + "+e._s((e.pendingRENRewards/1e18).toFixed(2))+" REN")])]),a("button",{directives:[{name:"show",rawName:"v-show",value:["sbtc"].includes(e.currentPool)&&e.pendingBALRewards>0,expression:"['sbtc'].includes(currentPool) && pendingBALRewards > 0"}],attrs:{id:"claim-bpt"},on:{click:function(t){return e.claim_SNX(!0)}}},[e._v(" Claim "+e._s((e.pendingBALRewards/1e18).toFixed(6))+" BPT ")]),a("button",{directives:[{name:"show",rawName:"v-show",value:["sbtc"].includes(e.currentPool)&&e.withdrawBALPool>0,expression:"['sbtc'].includes(currentPool) && withdrawBALPool > 0"}],attrs:{id:"claim-snxbpt"},on:{click:function(t){return e.claim_SNX(!0,!1)}}},[e._v(" Withdraw "+e._s((e.withdrawSNXPool/1e18).toFixed(0))+" SNX + "+e._s((e.withdrawRENPool/1e18).toFixed(0))+" REN ")]),a("button",{directives:[{name:"show",rawName:"v-show",value:["susdv2","sbtc","y","swusd"].includes(e.currentPool)&&e.staked_balance>0,expression:"['susdv2', 'sbtc','y','swusd'].includes(currentPool) && staked_balance > 0"}],attrs:{id:"unstake-snx"},on:{click:function(t){return e.handle_remove_liquidity(!0,!0)}}},[e._v(" Unstake ")]),a("router-link",{directives:[{name:"show",rawName:"v-show",value:["susdv2"].includes(e.currentPool)&&e.oldBalance>0,expression:"['susdv2'].includes(currentPool) && oldBalance > 0"}],staticClass:"button",attrs:{to:"/susd/withdraw",id:"withdrawold"}},[e._v("Withdraw old")]),a("button",{directives:[{name:"show",rawName:"v-show",value:"usdt"==e.currentPool,expression:"currentPool == 'usdt'"}],on:{click:e.migrateUSDT}},[e._v("Migrate to PAX")]),a("button",{directives:[{name:"show",rawName:"v-show",value:"susd"==e.currentPool,expression:"currentPool == 'susd'"}],staticClass:"simplebutton",attrs:{id:"remove-liquidity"},on:{click:e.handle_remove_liquidity}},[e._v("Withdraw old")]),a("p",{directives:[{name:"show",rawName:"v-show",value:["ren","sbtc"].includes(e.currentPool),expression:"['ren', 'sbtc'].includes(currentPool)"}]},[a("a",{attrs:{href:"https://bridge.renproject.io/"}},[e._v(" Mint/redeem renBTC ")])]),a("div",{directives:[{name:"show",rawName:"v-show",value:["susdv2","sbtc"].includes(e.currentPool),expression:"['susdv2', 'sbtc'].includes(currentPool)"}],attrs:{id:"mintr"}},[a("a",{directives:[{name:"show",rawName:"v-show",value:["susdv2","sbtc"].includes(e.currentPool),expression:"['susdv2', 'sbtc'].includes(currentPool)"}],attrs:{href:"https://mintr.synthetix.io/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Manage staking in Mintr")]),a("a",{directives:[{name:"show",rawName:"v-show",value:["y","swusd"].includes(e.currentPool),expression:"['y', 'swusd'].includes(currentPool)"}],attrs:{href:"https://ygov.finance/",target:"_blank",rel:"noopener noreferrer"}},[e._v(" yGov. ")])]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.show_loading,expression:"show_loading"}],staticClass:"info-message gentle-message"},[a("span",{domProps:{innerHTML:e._s(e.waitingMessage)}}),e._v(" "),a("span",{staticClass:"loading line"})]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.estimateGas,expression:"estimateGas"}],staticClass:"info-message gentle-message"},[e._v(" Estimated tx cost: "+e._s((e.estimateGas*e.gasPrice/1e9*e.ethPrice).toFixed(2))+"$ ")]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.warninglow,expression:"warninglow"}],staticClass:"simple-error"},[e._v(" You're withdrawing too little amount in one coin ")]),a("Slippage",e._b({},"Slippage",{show_nobalance:e.show_nobalance,show_nobalance_i:e.show_nobalance_i},!1))],1),a("div",{directives:[{name:"show",rawName:"v-show",value:e.staked_balance>0&&["susdv2","sbtc","y","swusd"].includes(e.currentPool),expression:"staked_balance > 0 && ['susdv2', 'sbtc', 'y', 'swusd'].includes(currentPool)"}]},[a("button",{staticClass:"simplebutton advancedoptions",on:{click:function(t){e.showadvancedoptions=!e.showadvancedoptions}}},[e._v(" Advanced unstaking options "),a("span",{directives:[{name:"show",rawName:"v-show",value:!e.showadvancedoptions,expression:"!showadvancedoptions"}]},[e._v("▼")]),a("span",{directives:[{name:"show",rawName:"v-show",value:e.showadvancedoptions,expression:"showadvancedoptions"}]},[e._v("▲")])]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showadvancedoptions,expression:"showadvancedoptions"}]},[a("fieldset",[a("legend",[e._v("Advanced unstaking options:")]),a("div",[a("div",{attrs:{id:"stakedbalance"}},[e._v(" Staked tokens: "),a("span",{on:{click:function(t){e.unstakepercentage=e.staked_balance/1e18}}},[e._v(e._s((e.staked_balance/1e18).toFixed(2)))])]),a("div",[a("label",{attrs:{for:"unstakepercentage"}},[e._v("Unstake:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.unstakepercentage,expression:"unstakepercentage"}],class:{invalid:e.unstakePercentageInvalid},attrs:{id:"unstakepercentage"},domProps:{value:e.unstakepercentage},on:{input:function(t){t.target.composing||(e.unstakepercentage=t.target.value)}}}),a("button",{directives:[{name:"show",rawName:"v-show",value:e.staked_balance>0&&["susdv2","sbtc","y","swusd"].includes(e.currentPool),expression:"staked_balance > 0 && ['susdv2', 'sbtc', 'y', 'swusd'].includes(currentPool)"}],attrs:{id:"unstakestaked",disabled:e.unstakePercentageInvalid},on:{click:function(t){return e.unstakeStaked()}}},[e._v(" Unstake staked ")])])])])])])],1)},s=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("legend",[e._v(" Withdraw % in: "),a("span",{staticClass:"tooltip"},[e._v(" [?] "),a("span",{staticClass:"tooltiptext long"},[e._v(" You can also withdraw in one coin by typing in a currency field ")])])])}],r=(a("99af"),a("cb29"),a("4de4"),a("c740"),a("4160"),a("caad"),a("d81d"),a("fb6a"),a("0d03"),a("a9e3"),a("b680"),a("b64b"),a("d3b7"),a("25f0"),a("3ca3"),a("159b"),a("ddb0"),a("4795"),a("2909")),i=a("5530"),o=(a("96cf"),a("1da1")),c=a("2b0e"),u=a("d99e"),l=a("cf45"),d=a("51bf"),p=a("5245"),h=a("2fa3"),w=a("0a37"),g=a("e7e9"),m=a("0c7c"),v=a("901e"),_=a.n(v),f=a("0c33"),b=(p["g"].compound,{components:{Slippage:f["a"],GasPrice:g["a"]},data:function(){return{share:"100.00",shareStyles:{backgroundColor:"#707070",color:"#d0d0d0"},inputs:[],inputStyles:[],wallet_balances:[],calc_balances:[],balances:[],staked_balance:null,token_balance:null,token_supply:0,show_nobalance:!1,show_nobalance_i:0,bgColor:[],amounts:[],to_currency:10,test:null,withdrawc:!1,donate_dust:!1,showstaked:!1,pendingSNXRewards:0,pendingRENRewards:0,pendingBALRewards:0,balancerPool:null,withdrawBALPool:0,withdrawSNXPool:0,withdrawRENPool:0,withdrawADAI:0,show_loading:!1,waitingMessage:"",showWithdrawSlippage:!1,maxSlippage:.2,setSlippage:!1,maxInputSlippage:"",customSlippageDisabled:!0,estimateGas:0,ethPrice:0,unstakepercentage:0,get showadvancedoptions(){return"true"===localStorage.getItem("advancedoptions")},set showadvancedoptions(e){localStorage.setItem("advancedoptions",e)},loadingAction:!1,warninglow:!1,showModal:!1,slippagePromise:h["l"](Promise.resolve()),inf_approval:!0}},created:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$watch((function(){return d["e"].default_account}),(function(t,a){t&&a&&t.toLowerCase()!=a.toLowerCase()&&t&&e.mounted()})),e.$watch((function(){return d["e"].initializedContracts}),(function(t){t&&e.mounted()})),e.$watch((function(){return d["e"].currentContract}),(function(t,a){e.setInputStyles(!1,t,a),d["e"].initializedContracts&&e.mounted()}));case 3:case"end":return t.stop()}}),t)})))()},watch:{to_currency:function(e){0!=this.share&&"---"!=this.share||(this.share=100),this.setInputStyles(),null!==e&&this.handle_change_share()},withdrawc:function(e){"---"!=this.share&&(e||null!==this.to_currency||(this.to_currency=10),e&&null!==this.to_currency&&(this.to_currency=null))},maxSlippage:function(){this.setSlippage=!0},maxInputSlippage:function(e){e&&(this.setSlippage=!0)}},computed:Object(i["a"])(Object(i["a"])({},d["g"]),{},{showMigrateNew:function(){return"compound"==this.currentPool&&this.oldBalance>0||"susd"==this.currentPool},nobalance:function(){return this.staked_balance&&this.token_balance.plus(this.staked_balance).eq(_()(0))},getMaxSlippage:function(){var e=+this.maxSlippage;return this.maxInputSlippage&&(e=+this.maxInputSlippage),(100+e)/100},minAmount:function(){return["tbtc","ren","sbtc"].includes(d["e"].currentContract)?1e-8:.01},calcFee:function(){var e=p["g"][d["e"].currentContract].N_COINS;return this.fee/100*e/(4*(e-1))},gasPrice:function(){return w["a"].gasPrice},gasPriceWei:function(){return w["a"].gasPriceWei},unstakePercentageInvalid:function(){return _()(this.unstakepercentage).times(1e18).gt(_()(this.staked_balance).times(1.01))},unstakeAmount:function(){return this.toFixed(_()(this.unstakepercentage/100).times(this.staked_balance/1e18))},showInfApprovalZap:function(){return!this.withdrawc&&"susdv2"!=this.currentPool||("---"!=this.share&&(null!==this.to_currency&&this.to_currency<10||10==this.to_currency)||void 0)}}),mounted:function(){var e=this;["susdv2","sbtc","y","swusd"].includes(this.currentPool)&&(this.showstaked=!1),this.$watch((function(){return e.showstaked}),this.handle_change_share),"susd"==d["e"].currentContract&&(this.withdrawc=!0),this.setInputStyles(!0),d["e"].initializedContracts&&this.mounted()},methods:{mounted:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,n,s,r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,["susdv2","tbtc","ren","sbtc"].includes(e.currentPool)?(e.withdrawc=!0,e.to_currency=null):e.withdrawc=!1,d["e"].showSlippage=!1,d["e"].slippage=0,a=d["e"].curveRewards,t.t0=_.a,t.next=8,d["e"].swap_token.methods.allowance(d["e"].default_account||"0x0000000000000000000000000000000000000000",d["e"].deposit_zap._address).call();case 8:if(t.t1=t.sent,n=(0,t.t0)(t.t1),n.lte(d["e"].max_allowance.div(_()(2)))&&(e.inf_approval=!1),!["susdv2"].includes(e.currentPool)){t.next=16;break}return t.next=14,a.methods.earned(e.default_account).call();case 14:e.pendingSNXRewards=t.sent,console.log(e.pendingSNXRewards,"PENDING SNX REWARDS");case 16:if(!["sbtc"].includes(e.currentPool)){t.next=30;break}return e.balancerPool=new d["e"].web3.eth.Contract(p["d"],p["e"]),window.balancerPool=e.balancerPool,s=[[a._address,a.methods.earned(e.default_account).encodeABI()],[e.balancerPool._address,e.balancerPool.methods.totalSupply().encodeABI()],[e.balancerPool._address,e.balancerPool.methods.getBalance("0xc011a73ee8576fb46f5e1c5751ca3b9fe0af2a6f").encodeABI()],[e.balancerPool._address,e.balancerPool.methods.getBalance("0x408e41876cccdc0f92210600ef50372656052a38").encodeABI()],[e.balancerPool._address,e.balancerPool.methods.balanceOf(d["e"].default_account).encodeABI()]],t.next=22,l["clean_and_multi_call"](s);case 22:r=t.sent,i=r[1].map((function(e){return d["e"].web3.eth.abi.decodeParameter("uint256",e)})),e.pendingBALRewards=i[0],e.pendingSNXRewards=i[0]*i[2]/i[1],e.pendingRENRewards=i[0]*i[3]/i[1],e.withdrawBALPool=i[4],e.withdrawSNXPool=i[4]*i[2]/i[1],e.withdrawRENPool=i[4]*i[3]/i[1];case 30:return["y","swusd"].includes(e.currentPool),t.next=33,l["update_fee_info"]();case 33:return t.next=35,e.update_balances();case 35:e.setCalcBalances(),e.handle_change_share(),t.next=43;break;case 39:throw t.prev=39,t.t2=t["catch"](0),console.log("withdraw vue mounted error",t.t2),t.t2;case 43:case"end":return t.stop()}}),t,null,[[0,39]])})))()},getTokenIcon:function(e){return h["h"](e,this.withdrawc,this.currentPool)},toFixed:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(""==e||void 0==e||0==+e)return"0.00";2==t&&["tbtc","ren","sbtc"].includes(d["e"].currentContract)&&(t=8);var a=e.toFixed(t);return isNaN(a)?"0.00":a},inputsFormat:function(e){return this.inputs[e]?this.toFixed(+this.inputs[e]):"0.00"},setInputStyles:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0;if(a){for(var n=0;n<p["g"][t].N_COINS-p["g"][a].N_COINS;n++)this.inputs.push("0.00");p["g"][a].N_COINS-p["g"][t].N_COINS>0&&(this.inputs=this.inputs.filter((function(e,a){return a<p["g"][t].N_COINS})))}else e&&(this.inputs=new Array(Object.keys(this.currencies).length).fill("0.00"));this.inputStyles=Array(Object.keys(this.currencies).length).fill({backgroundColor:"#707070",color:"#d0d0d0"})},calcSlippage:function(){var e=arguments,t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.slippagePromise.cancel(),t.slippagePromise=h["l"](l["calc_slippage"].apply(l,Object(r["a"])(e))),a.next=4,t.slippagePromise;case 4:case"end":return a.stop()}}),a)})))()},handleCheck:function(e){e===this.to_currency?(0==this.withdrawc&&(this.withdrawc=!0),this.to_currency=null,d["e"].slippage=0,d["e"].showSlippage=!1):(this.withdrawc=!1,this.to_currency=e)},setCalcBalances:function(){for(var e=0;e<d["e"].N_COINS;e++){var t=this.showstaked?this.token_balance.plus(this.staked_balance):this.token_balance,a=_()(1*this.balances[e]*d["e"].c_rates[e]*t/this.token_supply);c["a"].set(this.calc_balances,e,a)}},update_balances:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,n,s,r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=[],d["e"].default_account){for(n=0;n<d["e"].N_COINS;n++)a.push([d["e"].underlying_coins[n]._address,d["e"].underlying_coins[n].methods.balanceOf(d["e"].default_account||"0x0000000000000000000000000000000000000000").encodeABI()]);a.push([d["e"].swap_token._address,d["e"].swap_token.methods.balanceOf(d["e"].default_account||"0x0000000000000000000000000000000000000000").encodeABI()])}else e.token_balance=_()(0);for(s=0;s<d["e"].N_COINS;s++)a.push([d["e"].swap._address,d["e"].swap.methods.balances(s).encodeABI()]);return["susdv2","sbtc","y"].includes(e.currentPool)&&a.push([d["e"].curveRewards._address,d["e"].curveRewards.methods.balanceOf(d["e"].default_account||"0x0000000000000000000000000000000000000000").encodeABI()]),a.push([d["e"].swap_token._address,d["e"].swap_token.methods.totalSupply().encodeABI()]),t.next=7,l["clean_and_multi_call"](a);case 7:r=t.sent,i=r[1].map((function(e){return d["e"].web3.eth.abi.decodeParameter("uint256",e)})),d["e"].default_account&&(i.slice(0,d["e"].N_COINS).map((function(t,a){c["a"].set(e.wallet_balances,a,+t/p["g"][e.currentPool].coin_precisions[a])})),e.token_balance=_()(i[d["e"].N_COINS]),i=i.slice(d["e"].N_COINS+1)),i.slice(0,d["e"].N_COINS+1+d["e"].N_COINS).map((function(t,a){c["a"].set(e.balances,a,+t),d["e"].default_account||c["a"].set(e.balances,a,0)})),console.log(i[i.length-2]),["susdv2","sbtc","y"].includes(e.currentPool)?e.staked_balance=_()(i[i.length-2]):e.staked_balance=_()(0),e.unstakepercentage=e.toFixed(e.staked_balance.div(1e18)),e.token_supply=+i[i.length-1];case 15:case"end":return t.stop()}}),t)})))()},handle_change_amounts:function(e,t){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){var s,i,o,c,u,p;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(a.showWithdrawSlippage=!0,a.show_nobalance=!1,!t){n.next=5;break}return a.inputs[e]=t.target.value,n.abrupt("return");case 5:if("susd"!=a.currentPool){n.next=7;break}return n.abrupt("return");case 7:return a.to_currency=null,s=a.inputs.map((function(e,t){return e/d["e"].c_rates[t]})),s=s.map((function(e){return _()(Math.floor(e).toString()).toFixed(0)})),a.show_nobalance=!1,a.show_nobalance_i=0,i=Object(r["a"])(Array(d["e"].N_COINS).keys()).map((function(e){return[d["e"].swap._address,d["e"].swap.methods.balances(e).encodeABI()]})),i.push([d["e"].swap._address,d["e"].swap.methods.calc_token_amount(s,!1).encodeABI()]),i.push([d["e"].swap_token._address,d["e"].swap_token.methods.balanceOf(d["e"].default_account||"0x0000000000000000000000000000000000000000").encodeABI()]),n.prev=15,n.next=18,l["clean_and_multi_call"](i);case 18:o=n.sent,c=o[1].map((function(e){return d["e"].web3.eth.abi.decodeParameter("uint256",e)})),c.slice(0,d["e"].N_COINS).forEach((function(e,t){var n=+e*d["e"].c_rates[t];n<a.inputs[t]?(a.show_nobalance|=!0,a.show_nobalance_i=t):a.show_nobalance|=!1})),u=_()(c[c.length-2]),u=u.div(_()(1-d["e"].fee*d["e"].N_COINS/(4*(d["e"].N_COINS-1)))),p=_()(c[c.length-1]),u.gt(p.plus(_()(a.staked_balance)))?a.setAllInputBackground("red"):a.setAllInputBackground("blue"),a.calcSlippage(a.inputs,!1),a.share="---",a.shareStyles={backgroundColor:"#707070",color:"#d0d0d0"},n.next=36;break;case 30:n.prev=30,n.t0=n["catch"](15),console.error(n.t0),a.show_nobalance=!0,a.show_nobalance_i=d["e"].bal_info.findIndex((function(e,t){return+a.inputs[t]>+e})),a.setAllInputBackground("red");case 36:case"end":return n.stop()}}),n,null,[[15,30]])})))()},getMinAmounts:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,l["update_fee_info"]();case 2:for(a=[],n=0;n<d["e"].N_COINS;n++)a[n]=_()(.98).times(e.share/100).times(_()(e.balances[n])),e.withdrawc||(a[n]=a[n].times(p["g"][d["e"].currentContract].coin_precisions[n]).times(d["e"].c_rates[n])),a[n]=a[n].times(_()(e.token_balance)).div(_()(e.token_supply)).toFixed(0,1);return t.abrupt("return",a);case 5:case"end":return t.stop()}}),t)})))()},claim_SNX:function(){var e=arguments,t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var n,s,r,i,o,c,l;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=e.length>0&&void 0!==e[0]&&e[0],s=!(e.length>1&&void 0!==e[1])||e[1],t.show_loading=!0,t.waitingMessage="Please confirm claiming ".concat((t.pendingSNXRewards/1e18).toFixed(2),"\n                    ").concat(["y","swusd"].includes(t.currentPool)?"YFI":"SNX"),"sbtc"==t.currentPool&&(t.waitingMessage+=" and ".concat((t.pendingRENRewards/1e18).toFixed(2)," REN")),r=Object(u["d"])(t.waitingMessage),i=r.dismiss,a.next=8,Promise.all([h["g"]()]);case 8:return o=a.sent,t.ethPrice=o[0],t.estimateGas=2e5,a.next=13,d["e"].curveRewards.methods.earned(d["e"].default_account).call();case 13:if(c=a.sent,!(c>0&&s)){a.next=17;break}return a.next=17,new Promise((function(e,a){d["e"].curveRewards.methods.getReward().send({from:d["e"].default_account,gasPrice:t.gasPriceWei,gas:4e5}).once("transactionHash",(function(e){i(),Object(u["c"])(e)})).on("receipt",(function(){t.pendingSNXRewards=0,e()}))["catch"]((function(e){m["a"](e),i(),a(e)}))}));case 17:if("sbtc"!=t.currentPool||n&&s){a.next=34;break}return t.estimateGas=3e5,a.prev=19,a.t0=_.a,a.next=23,t.balancerPool.methods.balanceOf(d["e"].default_account).call();case 23:return a.t1=a.sent,l=(0,a.t0)(a.t1),a.next=27,t.balancerPool.methods.exitPool(l.toFixed(0,1),["0","0"]).send({from:d["e"].default_account,gasPrice:t.gasPriceWei,gas:6e5}).once("transactionHash",(function(e){i(),Object(u["c"])(e)}));case 27:a.next=34;break;case 29:a.prev=29,a.t2=a["catch"](19),console.log(a.t2),i(),m["a"](a.t2);case 34:t.show_loading=!1;case 35:case"end":return a.stop()}}),a,null,[[19,29]])})))()},unstakeStaked:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a=_()(e.unstakepercentage).times(1e18),e.unstake(a,!1,!0);case 2:case"end":return t.stop()}}),t)})))()},unstake:function(e){var t=arguments,a=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){var s,r,i,o,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return s=t.length>1&&void 0!==t[1]&&t[1],r=t.length>2&&void 0!==t[2]&&t[2],a.waitingMessage=r?"\n                        Please confirm unstaking ".concat(a.toFixed(e.div(_()(1e18)))," tokens\n                    "):"\n                    Unstaking ".concat(a.toFixed(e.div(_()(1e18)))," tokens for withdrawal.\n                    <br>\n                    A bit more tokens are needed to unstake to ensure that withdrawal is successful.\n                    You'll see them in your unstaked balance afterwards.\n\n                "),i=Object(u["d"])(a.waitingMessage),o=i.dismiss,n.t0=_.a,n.next=7,d["e"].curveRewards.methods.balanceOf(d["e"].default_account).call();case 7:return n.t1=n.sent,c=(0,n.t0)(n.t1),c.lt(e)&&(e=c),n.prev=10,n.next=13,new Promise((function(t,n){d["e"].curveRewards.methods.withdraw(e.toFixed(0,1)).send({from:d["e"].default_account,gasPrice:a.gasPriceWei,gas:125e3}).once("transactionHash",(function(e){a.waitingMessage="Waiting for unstake transaction to confirm",o(),Object(u["c"])(e),t()})).on("receipt",(function(t){a.staked_balance=a.staked_balance.minus(e),d["e"].curveStakedBalance-=e,l["update_fee_info"]()}))["catch"]((function(e){o(),n(e)}))}));case 13:s&&a.claim_SNX(),n.next=23;break;case 16:throw n.prev=16,n.t2=n["catch"](10),console.log(n.t2),m["a"](n.t2),a.waitingMessage="",a.show_loading=!1,n.t2;case 23:a.waitingMessage="",a.show_loading=!1;case 25:case"end":return n.stop()}}),n,null,[[10,16]])})))()},setLoadingAction:function(e){var t=this;this.loadingAction=e,setTimeout((function(){return t.loadingAction=!1}),500)},handle_remove_liquidity:function(){var e=arguments,t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var n,s,r,i,o,p,w,g,v,f,b,x,P,k,y,N,S,I,C,O,A,M,R,F,j,G,E,B,W,q,X,T,z,L;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=e.length>0&&void 0!==e[0]&&e[0],s=e.length>1&&void 0!==e[1]&&e[1],e.length>2&&void 0!==e[2]&&e[2],a.next=5,l["update_fee_info"]();case 5:return a.next=7,t.update_balances();case 7:if(r=0==n?1:2,t.loadingAction!=r){a.next=10;break}return a.abrupt("return");case 10:return t.setLoadingAction(r),a.next=13,Promise.all([h["g"]()]);case 13:i=a.sent,t.ethPrice=i[0],t.estimateGas=0,["susdv2","sbtc","y","earn"].includes(t.currentPool)&&(s?(t.estimateGas=125e3,"sbtc"==t.currentPool&&(t.estimateGas+=3e5)):(o=t.inputs.filter(Number).length,"---"==t.share?t.estimateGas=0|d["f"].withdraw[t.currentPool].imbalance(o):null!==t.to_currency&&t.to_currency<10?t.estimateGas=d["f"].depositzap[t.currentPool].withdraw/2:t.estimateGas=d["f"].depositzap[t.currentPool].withdrawShare/2)),t.show_loading=!0,p=d["e"].deposit_zap,["tbtc","ren","sbtc"].includes(d["e"].currentContract)&&(p=d["e"].swap),[],w=0;case 22:if(!(w<d["e"].N_COINS)){a.next=32;break}if(t.inputs[w]){a.next=26;break}return c["a"].set(t.amounts,w,0),a.abrupt("continue",29);case 26:g=_()(t.calc_balances[w]).minus(_()(t.inputs[w])),v=t.calc_balances[w]>0&&g.lte(_()(t.minAmount))&&g>0,v?c["a"].set(t.amounts,w,_()(t.calc_balances[w]).div(d["e"].c_rates[w]).toFixed(0,1)):c["a"].set(t.amounts,w,_()(Math.floor(t.inputs[w]/d["e"].c_rates[w]).toString()).toFixed(0,1));case 29:w++,a.next=22;break;case 32:if(t.amounts=t.amounts.map((function(e){return e||0})),"---"!=t.share){a.next=116;break}return a.prev=34,a.next=37,d["e"].swap.methods.calc_token_amount(t.amounts,!1).call();case 37:f=a.sent,a.next=45;break;case 40:a.prev=40,a.t0=a["catch"](34),console.error(a.t0),t.show_nobalance=!0,t.show_nobalance_i=t.to_currency;case 45:if(f=_()(f).times(_()(1).plus(t.calcFee)),f=_()(Math.floor(f*t.getMaxSlippage).toString()).toFixed(0,1),!t.token_balance.lt(_()(f))&&!n||!["susdv2","sbtc","y","swusd"].includes(t.currentPool)){a.next=52;break}return b=_()(f).minus(_()(t.token_balance)),n&&(b=_()(f)),a.next=52,t.unstake(b,n&&!s,s);case 52:if(!s){a.next=54;break}return a.abrupt("return");case 54:if(x=t.inputs.filter(Number).length,!t.withdrawc&&!["susdv2","sbtc"].includes(t.currentPool)){a.next=85;break}return P=0|d["f"].withdraw[t.currentPool].imbalance(x),a.prev=57,t.waitingMessage="Please confirm withdrawal transaction",k=Object(u["d"])(t.waitingMessage),y=k.dismiss,a.prev=60,a.next=63,d["e"].swap.methods.remove_liquidity_imbalance(t.amounts,f).estimateGas({from:d["e"].default_account,gasPrice:t.gasPriceWei,gas:P});case 63:t.estimateGas=a.sent,a.next=69;break;case 66:a.prev=66,a.t1=a["catch"](60),t.estimateGas=P/2;case 69:return a.next=71,h["p"](100);case 71:return a.next=73,d["e"].swap.methods.remove_liquidity_imbalance(t.amounts,f).send({from:d["e"].default_account,gasPrice:t.gasPriceWei,gas:P}).once("transactionHash",(function(e){y(),Object(u["c"])(e),t.waitingMessage="Waiting for withdrawal to confirm: no further action needed"}));case 73:a.next=83;break;case 75:throw a.prev=75,a.t2=a["catch"](57),console.error(a.t2),y(),m["a"](a.t2),t.waitingMessage="",t.show_loading=!1,a.t2;case 83:a.next=114;break;case 85:if(N=t.inputs,N=N.map((function(e){return e||0})),S=t.inputs.map((function(e,a){e||(e=0);var n=_()(t.calc_balances[a]).minus(_()(e));return t.calc_balances[a]>0&&n.lte(_()(t.minAmount))&&n>0?t.calc_balances[a].times(d["e"].coin_precisions[a]).toFixed(0,1):_()(e).times(d["e"].coin_precisions[a]).toFixed(0,1)})),S=S.map((function(e){return e||0})),I=0|d["f"].depositzap[t.currentPool].withdrawImbalance(x),t.waitingMessage="Please approve ".concat(t.toFixed(f/1e18)," Curve LP tokens for withdrawal"),C=Object(u["d"])(t.waitingMessage),y=C.dismiss,a.prev=92,t.estimateGas=I/(["compound","usdt"].includes(d["e"].currentContract)?1.5:2.5),["tbtc","ren","sbtc"].includes(d["e"].currentContract)){a.next=97;break}return a.next=97,l["ensure_allowance_zap_out"](f,void 0,void 0,t.inf_approvalamount);case 97:return y(),t.waitingMessage="Please confirm withdrawal transaction",O=Object(u["d"])(t.waitingMessage),y=O.dismiss,a.next=102,h["p"](100);case 102:return a.next=104,p.methods.remove_liquidity_imbalance(S,f).send({from:d["e"].default_account,gasPrice:t.gasPriceWei,gas:I}).once("transactionHash",(function(e){y(),Object(u["c"])(e),t.waitingMessage="Waiting for withdrawal to confirm: no further action needed"}));case 104:a.next=114;break;case 106:throw a.prev=106,a.t3=a["catch"](92),console.error(a.t3),y(),m["a"](a.t3),t.waitingMessage="",t.show_loading=!1,a.t3;case 114:a.next=229;break;case 116:if(A=_()(t.token_balance),100!=t.share){a.next=123;break}return a.t4=_.a,a.next=121,d["e"].swap_token.methods.balanceOf(d["e"].default_account).call();case 121:a.t5=a.sent,A=(0,a.t4)(a.t5);case 123:if(t.showstaked&&(A=A.plus(t.staked_balance)),M=_()(t.share).div(_()(100)).times(A),!t.token_balance.lt(M)&&!n||!["susdv2","sbtc","y","swusd"].includes(t.currentPool)){a.next=130;break}return R=_()(M).minus(_()(t.token_balance)),n&&(R=_()(M)),a.next=130,t.unstake(R,n&&!s,s);case 130:if(!s){a.next=132;break}return a.abrupt("return");case 132:if(M=M.toFixed(0,1),!(null!==t.to_currency&&t.to_currency<10)){a.next=170;break}if(t.waitingMessage="Please approve ".concat(t.toFixed(M/1e18)," Curve LP tokens for withdrawal"),F=Object(u["d"])(t.waitingMessage),y=F.dismiss,t.estimateGas=d["f"].depositzap[t.currentPool].withdraw/2,["tbtc","ren","sbtc"].includes(d["e"].currentContract)){a.next=140;break}return a.next=140,l["ensure_allowance_zap_out"](M,void 0,void 0,t.inf_approval);case 140:return y(),a.prev=141,a.next=144,p.methods.calc_withdraw_one_coin(M,t.to_currency).call();case 144:j=a.sent,j=_()(j).times(_()(1).minus(t.calcFee)),a.next=153;break;case 148:a.prev=148,a.t6=a["catch"](141),console.error(a.t6),t.show_nobalance=!0,t.show_nobalance_i=t.to_currency;case 153:return t.waitingMessage="Please confirm withdrawal transaction",G=Object(u["d"])(t.waitingMessage),y=G.dismiss,E=[_()(M).toFixed(0,1),t.to_currency,_()(j).times(_()(1).div(_()(t.getMaxSlippage))).toFixed(0,1),!1],a.next=158,h["p"](100);case 158:return a.prev=158,a.next=161,(B=p.methods).remove_liquidity_one_coin.apply(B,E).send({from:d["e"].default_account,gasPrice:t.gasPriceWei,gas:0|d["f"].depositzap[t.currentPool].withdraw}).once("transactionHash",(function(e){y(),Object(u["c"])(e),t.waitingMessage="Waiting for withdrawal\n                                <a href='https://etherscan.io/tx/".concat(e,"'>transaction</a>\n                                to confirm: no further action needed")}));case 161:a.next=168;break;case 163:a.prev=163,a.t7=a["catch"](158),console.error(a.t7),y(),m["a"](a.t7);case 168:a.next=229;break;case 170:if(10!=t.to_currency||"swusd"==t.currentPool){a.next=200;break}if(t.waitingMessage="Please approve ".concat(t.toFixed(M/1e18)," Curve LP tokens for withdrawal"),W=Object(u["d"])(t.waitingMessage),y=W.dismiss,a.prev=173,t.estimateGas=d["f"].depositzap[t.currentPool].withdrawShare/2,["tbtc","ren","sbtc"].includes(d["e"].currentContract)){a.next=178;break}return a.next=178,l["ensure_allowance_zap_out"](M,void 0,void 0,t.inf_approval);case 178:return y(),t.waitingMessage="Please confirm withdrawal transaction",q=Object(u["d"])(t.waitingMessage),y=q.dismiss,a.next=183,t.getMinAmounts();case 183:return X=a.sent,a.next=186,h["p"](100);case 186:return a.next=188,p.methods.remove_liquidity(M,X).send({from:d["e"].default_account,gasPrice:t.gasPriceWei,gas:d["f"].depositzap[t.currentPool].withdrawShare}).once("transactionHash",(function(e){y(),Object(u["c"])(e),t.waitingMessage="Waiting for withdrawal\n                                <a href='https://etherscan.io/tx/".concat(e,"'>transaction</a>\n                                to confirm: no further action needed")}));case 188:a.next=198;break;case 190:throw a.prev=190,a.t8=a["catch"](173),console.error(a.t8),y(),m["a"](a.t8),t.waitingMessage="",t.show_loading=!1,a.t8;case 198:a.next=229;break;case 200:return a.prev=200,a.next=203,t.getMinAmounts();case 203:return T=a.sent,t.waitingMessage="Please confirm withdrawal transaction",z=Object(u["d"])(t.waitingMessage),y=z.dismiss,a.prev=206,a.next=209,d["e"].swap.methods.remove_liquidity(M,T).estimateGas({from:d["e"].default_account,gasPrice:t.gasPriceWei,gas:6e5});case 209:t.estimateGas=a.sent,a.next=215;break;case 212:a.prev=212,a.t9=a["catch"](206),t.estimateGas=6e5;case 215:return a.next=217,h["p"](100);case 217:return a.next=219,d["e"].swap.methods.remove_liquidity(M,T).send({from:d["e"].default_account,gasPrice:t.gasPriceWei,gas:6e5}).once("transactionHash",(function(e){y(),Object(u["c"])(e),t.waitingMessage="Waiting for withdrawal\n                                <a href='https://etherscan.io/tx/".concat(e,"'>transaction</a>\n                                to confirm: no further action needed")}));case 219:a.next=229;break;case 221:throw a.prev=221,a.t10=a["catch"](200),console.error(a.t10),y(),m["a"](a.t10),t.waitingMessage="",t.show_loading=!1,a.t10;case 229:if("---"==t.share)for(L=0;L<d["e"].N_COINS;L++)t.handle_change_amounts(L);return t.show_loading=!1,t.waitingMessage="",t.estimateGas=0,a.next=235,t.update_balances();case 235:return a.next=237,l["update_fee_info"]();case 237:case"end":return a.stop()}}),a,null,[[34,40],[57,75],[60,66],[92,106],[141,148],[158,163],[173,190],[200,221],[206,212]])})))()},handle_change_share:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,n,s,r,i,o,u,l,h;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,a=d["e"].deposit_zap,["tbtc","ren","sbtc"].includes(d["e"].currentContract)&&(a=d["e"].swap),e.warninglow=!1,e.showWithdrawSlippage=!1,e.show_nobalance=!1,null==e.to_currency&&0==e.withdrawc&&"---"==e.share&&(e.to_currency=10),"---"!=e.share&&null!=e.to_currency&&10!=e.to_currency&&(e.showWithdrawSlippage=!0),n=e.showstaked?e.token_balance.plus(e.staked_balance):e.token_balance,d["e"].showSlippage=!1,d["e"].slippage=0,!(null!==e.to_currency&&e.to_currency<10)){t.next=47;break}if(s=_()(e.share).div(_()(100)).times(n).toFixed(0,1),100!=e.share){t.next=25;break}return t.prev=14,t.next=17,d["e"].swap_token.methods.balanceOf(d["e"].default_account||"0x0000000000000000000000000000000000000000").call();case 17:s=t.sent,t.next=24;break;case 20:throw t.prev=20,t.t0=t["catch"](14),console.log("get balanceOf token failed"),t.t0;case 24:e.showstaked&&(s=_()(s).plus(_()(e.staked_balance)).toFixed(0,1));case 25:return r=p["g"][d["e"].currentContract].coin_precisions[e.to_currency],i=Array(d["e"].N_COINS).fill(0),t.prev=27,e.warninglow=!1,console.log("inOneCoin address",a._address),t.next=32,a.methods.calc_withdraw_one_coin(s,e.to_currency).call();case 32:o=t.sent,i[e.to_currency]=_()(o),i[e.to_currency].eq(_()(0))&&(e.warninglow=!0),t.next=41;break;case 37:t.prev=37,t.t1=t["catch"](27),console.log("handle_change_share error 333",t.t1),""!=e.share&&(e.show_nobalance=!0,e.show_nobalance_i=e.to_currency);case 41:return u=Array(d["e"].N_COINS).fill(0),u[e.to_currency]=i[e.to_currency].div(r),e.inputs=e.inputs.map((function(e){return 0})),e.inputs[e.to_currency]=e.toFixed(_()(u[e.to_currency]),2,1),t.next=47,e.calcSlippage([],!1,i,e.to_currency);case 47:if(e.shareStyles.backgroundColor="blue",e.shareStyles.color="aqua","---"==e.share?e.share=0:e.share>100|e.share<0&&(e.shareStyles.backgroundColor="red"),!(null!==e.to_currency&&e.to_currency<10)){t.next=52;break}return t.abrupt("return");case 52:for(l=0;l<d["e"].N_COINS;l++)e.share>=0&e.share<=100?(h=_()(e.share/100*e.balances[l]*d["e"].c_rates[l]*n/e.token_supply),c["a"].set(e.inputs,l,e.toFixed(h,2,1))):c["a"].set(e.inputs,l,0),c["a"].set(e.inputStyles,l,{backgroundColor:"#707070",color:"#d0d0d0"});t.next=59;break;case 55:throw t.prev=55,t.t2=t["catch"](0),console.log("handle change share withdraw 222"),t.t2;case 59:case"end":return t.stop()}}),t,null,[[0,55],[14,20],[27,37]])})))()},setAllInputBackground:function(e){for(var t=0;t<d["e"].N_COINS;t++)c["a"].set(this.inputStyles,t,Object.assign(this.inputStyles[t]||{},{backgroundColor:e}))},handle_migrate_new:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("compound"!=e.currentPool){t.next=2;break}return t.abrupt("return",l["handle_migrate_new"]("new"));case 2:return e.share=100,t.next=5,e.handle_remove_liquidity();case 5:case"end":return t.stop()}}),t)})))()},migrateUSDT:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,n,s,r,i,o,c,w;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.withdrawc=!1,a=e.inputs,a.push(0),e.handle_remove_liquidity(),t.next=6,Object(d["i"])(d["e"].contracts.pax);case 6:return a=a.map((function(e,t){return _()(e).times(p["g"].pax.coin_precisions[t]).toFixed(0)})),e.waitingMessage="Please approve spending your coins",n=Object(u["d"])(e.waitingMessage),s=n.dismiss,t.next=11,l["ensure_allowance"](a,!0,"pax",3);case 11:return s(),r=new d["e"].web3.eth.Contract(p["g"].pax.deposit_abi,p["g"].pax.deposit_address),t.next=15,d["e"].contracts.pax.swap.methods.calc_token_amount(a,!0).call();case 15:return i=t.sent,i=_()(Math.floor(.99*i).toString()).toFixed(0,1),e.waitingMessage="Please confirm deposit to PAX pool transaction",o=Object(u["d"])(e.waitingMessage),s=o.dismiss,c=a.filter(Number).length,w=0|d["f"].depositzap.pax.deposit(c),t.next=23,h["p"](100);case 23:try{r.methods.add_liquidity(a,i).send({from:d["e"].default_account,gas:w}).once("transactionHash",(function(t){s(),Object(u["c"])(t),e.waitingMessage="Waiting for deposit to PAX transaction to confirm no further action required"}))}catch(g){console.error(g),m["a"](g)}case 24:case"end":return t.stop()}}),t)})))()}}}),x=b,P=(a("7c94"),a("2877")),k=Object(P["a"])(x,n,s,!1,null,null,null);t["default"]=k.exports},e7e9:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("p",{directives:[{name:"show",rawName:"v-show",value:e.errorMessage,expression:"errorMessage"}],staticClass:"simple-error pulse"},[e._v(" "+e._s(e.errorMessage)+" ")]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.gasPriceMedium,expression:"gasPriceMedium"}],staticClass:"do-center",attrs:{id:"gas_price"}},[a("span",{staticStyle:{color:"#86fce7"}},[e._v("Gas price:")]),a("input",{attrs:{id:"gasstandard",type:"radio",name:"gas"},domProps:{value:e.gasPriceMedium},on:{click:function(t){e.customGasDisabled=!0,e.gasPrice=e.gasPriceMedium}}}),a("label",{attrs:{for:"gasstandard"}},[e._v(e._s(Math.round(e.gasPriceMedium))+" Standard")]),a("input",{attrs:{id:"gasfast",type:"radio",name:"gas",checked:""},domProps:{value:e.gasPriceFast},on:{click:function(t){e.customGasDisabled=!0,e.gasPrice=e.gasPriceFast}}}),a("label",{attrs:{for:"gasfast"}},[e._v(e._s(Math.round(e.gasPriceFast))+" Fast")]),a("input",{attrs:{id:"gasinstant",type:"radio",name:"gas"},domProps:{value:e.gasPriceFastest},on:{click:function(t){e.customGasDisabled=!0,e.gasPrice=e.gasPriceFastest}}}),a("label",{attrs:{for:"gasinstant"}},[e._v(e._s(Math.round(e.gasPriceFastest))+" Instant")]),a("input",{attrs:{id:"custom_gas",type:"radio",name:"gas",value:"-"},on:{click:function(t){e.customGasDisabled=!1,e.gasPrice=e.gasPriceSlow}}}),a("label",{attrs:{for:"custom_gas"},on:{click:function(t){e.customGasDisabled=!1,e.gasPrice=e.gasPriceSlow}}},[a("input",{attrs:{type:"text",id:"custom_gas_input",disabled:e.customGasDisabled,name:"custom_gas_input"},domProps:{value:e.customGasPriceInput},on:{input:function(t){return e.setCustomGas(t)}}}),a("span",{directives:[{name:"show",rawName:"v-show",value:e.customGasPriceInput==e.gasPriceSlow,expression:"customGasPriceInput == gasPriceSlow"}]}),a("span",{directives:[{name:"show",rawName:"v-show",value:e.customGasPriceInput&&e.customGasPriceInput<e.gasPriceSlow,expression:"customGasPriceInput && customGasPriceInput < gasPriceSlow"}],staticClass:"gastoolow"},[e._m(0)])])])])},s=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"tooltip"},[e._v(" Low "),a("span",{staticClass:"tooltiptext"},[e._v(" Too low gas price. Your transaction may be dropped. ")])])}],r=(a("b680"),a("d3b7"),a("4795"),a("96cf"),a("1da1")),i=a("0a37"),o=a("0c7c"),c=a("2fa3"),u=a("fe5c"),l=a("901e"),d=a.n(l),p={data:function(){return{customGasDisabled:!0}},computed:{gasPriceSlow:function(){return i["a"].gasPriceInfo&&i["a"].gasPriceInfo.low||15},gasPriceMedium:function(){return i["a"].gasPriceInfo&&i["a"].gasPriceInfo.standard||20},gasPriceFast:function(){return i["a"].gasPriceInfo&&i["a"].gasPriceInfo.fast||25},gasPriceFastest:function(){return i["a"].gasPriceInfo&&i["a"].gasPriceInfo.instant||30},gasPrice:{get:function(){return i["a"].gasPrice},set:function(e){i["a"].gasPrice=e}},customGasPriceInput:function(){return this.customGasDisabled?this.gasPriceSlow:this.gasPrice},errorMessage:function(){return setTimeout((function(){return o["b"].txError=null}),2200),o["b"].txError}},created:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:!i["a"].fetched&&e.getGasPrice(),i["a"].gasPriceInterval&&Object(u["clearIntervalAsync"])(i["a"].gasPriceInterval),i["a"].gasPriceInterval&&!i["a"].gasPriceInterval.stopped||(i["a"].gasPriceInterval=Object(u["setIntervalAsync"])((function(){return e.getGasPrice()}),3e3)),e.$watch((function(){return i["a"].gasPrice}),(function(e){i["a"].gasPriceWei=d()(e).times(1e9).toFixed(0,1)}),{immediate:!0});case 4:case"end":return t.stop()}}),t)})))()},methods:{getGasPrice:function(){return Object(r["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(c["o"])(fetch("https://gasprice.poa.network/"));case 3:return t=e.sent,e.next=6,t.json();case 6:if(t=e.sent,i["a"].gasPriceInfo=t,i["a"].gasPriceInfo.low=i["a"].gasPriceInfo.slow,!(i["a"].gasPriceInfo.fast>1e3)){e.next=11;break}throw new Error("too high!");case 11:e.next=21;break;case 13:return e.prev=13,e.t0=e["catch"](0),console.error(e.t0),e.next=18,web3.eth.getGasPrice();case 18:e.t1=e.sent,a=e.t1/1e9,i["a"].gasPriceInfo={low:a-2,standard:a,fast:a+2,instant:a+4};case 21:i["a"].fetched||(i["a"].gasPrice=i["a"].gasPriceInfo.fast,i["a"].fetched=!0);case 22:case"end":return e.stop()}}),e,null,[[0,13]])})))()},setCustomGas:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:n=e.target.value,e.target.value>2*t.gasPriceFastest&&(n=2*t.gasPriceFastest),t.gasPrice=n;case 3:case"end":return a.stop()}}),a)})))()}}},h=p,w=(a("5199"),a("2877")),g=Object(w["a"])(h,n,s,!1,null,"11f75e20",null);t["a"]=g.exports},fe5c:function(e,t,a){"use strict";a.r(t),a.d(t,"SetIntervalAsyncError",(function(){return o})),a.d(t,"clearIntervalAsync",(function(){return r})),a.d(t,"setIntervalAsync",(function(){return p}));var n=a("3bdc");const s=Math.pow(2,31)-1;function r(e){return i.apply(this,arguments)}function i(){return i=n((function*(e){e.stopped=!0;for(var t=0,a=Object.values(e.timeouts);t<a.length;t++){const e=a[t];clearTimeout(e)}const n=()=>{},r=Object.values(e.promises).map(e=>{e.catch(n)}),i=setInterval(n,s);yield Promise.all(r),clearInterval(i)})),i.apply(this,arguments)}class o extends Error{}Object.defineProperty(o.prototype,"name",{value:"SetIntervalAsyncError"});const c=10;function u(e){if("function"!==typeof e)throw new o('Invalid argument: "handler". Expected a function.')}function l(e){if(!("number"===typeof e&&c<=e))throw new o(`Invalid argument: "interval". Expected a number greater than or equal to ${c}.`)}class d{constructor(){this.stopped=!1,this.id=0,this.timeouts={},this.promises={}}}function p(e,t,...a){u(e),l(t);const n=new d,s=n.id;return n.timeouts[s]=setTimeout(h,t,n,e,t,...a),n}function h(e,t,a,...s){const r=e.id;e.promises[r]=n((function*(){const n=new Date;try{yield t(...s)}catch(o){console.error(o)}const i=new Date;if(!e.stopped){const o=i-n,c=a>o?a-o:0;e.timeouts[r+1]=setTimeout(h,c,e,t,a,...s)}delete e.timeouts[r],delete e.promises[r]}))(),e.id=r+1}}}]);
//# sourceMappingURL=chunk-41d57fe1.cda2a07e.js.map