{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.object.values.js","webpack:///./src/assets/clock-regular.svg","webpack:///./src/components/common/Slippage.vue?13b2","webpack:///src/components/common/Slippage.vue","webpack:///./src/components/common/Slippage.vue?9a80","webpack:///./src/components/common/Slippage.vue","webpack:///./src/components/deposit/Deposit.vue?824a","webpack:///src/components/deposit/Deposit.vue","webpack:///./src/components/deposit/Deposit.vue?2443","webpack:///./src/components/deposit/Deposit.vue","webpack:///./node_modules/set-interval-async/node_modules/@babel/runtime/helpers/asyncToGenerator.js","webpack:///./node_modules/core-js/modules/es.array.some.js","webpack:///./src/components/common/GasPrice.vue?a0b7","webpack:///./node_modules/core-js/modules/es.number.constructor.js","webpack:///./src/components/deposit/Deposit.vue?3ad5","webpack:///./src/components/common/GasPrice.vue?f1bc","webpack:///src/components/common/GasPrice.vue","webpack:///./src/components/common/GasPrice.vue?86bc","webpack:///./src/components/common/GasPrice.vue","webpack:///./node_modules/set-interval-async/dynamic/index.mjs"],"names":["$","$values","values","target","stat","O","module","exports","render","_vm","this","_h","$createElement","_c","_self","directives","name","rawName","value","showSlippage","slippage","expression","staticClass","attrs","_v","_s","toFixed","_m","$route","noBalanceText","currentPool","staticRenderFns","component","_l","Object","keys","currencies","currency","i","_obj","class","depositc","isPlain","getTokenIcon","includes","_f","on","$event","setMaxBalanceCoin","maxBalanceCoin","transferableBalanceText","inputs","style","backgroundColor","bgColors","disabled","domProps","composing","$set","change_currency","disabledButtons","Array","isArray","max_balances","_i","$$a","$$el","$$c","checked","$$v","$$i","concat","slice","handle_sync_balances","inf_approval","staticStyle","depositingZeroWarning","isZeroSlippage","justDeposit","handle_add_liquidity","loadingAction","lpCrvReceived","lpCrvReceivedText","getMaxSlippage","virtual_price","showadvancedoptions","hasRewards","totalShare","stakePercentageInvalid","stakepercentage","stakeTokens","_q","maxSlippage","customippageDisabled","customSlippageDisabled","warningInputSlippage","maxInputSlippage","oldBalance","handle_migrate_new","waitingMessage","estimateGas","gasPrice","ethPrice","compareInputsWarning","length","toString","N_COINS","dismiss","console","log","JSON","stringify","decoded","calls","push","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","error","done","Promise","then","_asyncToGenerator","fn","self","args","arguments","apply","err","undefined","$some","some","arrayMethodIsStrict","arrayMethodUsesToLength","STRICT_METHOD","USES_TO_LENGTH","proto","forced","callbackfn","DESCRIPTORS","global","isForced","redefine","has","classof","inheritIfRequired","toPrimitive","fails","create","getOwnPropertyNames","f","getOwnPropertyDescriptor","defineProperty","trim","NUMBER","NativeNumber","NumberPrototype","prototype","BROKEN_CLASSOF","toNumber","argument","first","third","radix","maxCode","digits","index","code","it","charCodeAt","NaN","parseInt","NumberWrapper","dummy","valueOf","call","split","j","constructor","errorMessage","gasPriceMedium","customGasDisabled","Math","round","gasPriceFast","gasPriceFastest","gasPriceSlow","customGasPriceInput","setCustomGas","MAX_INTERVAL_MS","pow","clearIntervalAsync","_x","_clearIntervalAsync","timer","stopped","_Object$values","timeouts","timeout","clearTimeout","noop","promises","map","promise","catch","noopInterval","setInterval","all","clearInterval","SetIntervalAsyncError","Error","MIN_INTERVAL_MS","validateHandler","handler","validateInterval","interval","SetIntervalAsyncTimer","id","setIntervalAsync","setTimeout","timeoutHandler","startTime","Date","endTime","executionTime"],"mappings":"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","file":"js/chunk-d259700c.ffe6075a.js","sourcesContent":["var $ = require('../internals/export');\nvar $values = require('../internals/object-to-array').values;\n\n// `Object.values` method\n// https://tc39.github.io/ecma262/#sec-object.values\n$({ target: 'Object', stat: true }, {\n  values: function values(O) {\n    return $values(O);\n  }\n});\n","module.exports = __webpack_public_path__ + \"img/clock-regular.54749a5a.svg\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('p',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showSlippage && _vm.slippage < -0.005),expression:\"showSlippage && slippage < -0.005\"}],staticClass:\"simple-error\",attrs:{\"id\":\"highslippage-warning\"}},[_c('span',{staticClass:\"text\"},[_vm._v(\" Warning! High slippage(plus pricing): \"),_c('span',{staticClass:\"percent\"},[_vm._v(_vm._s((-_vm.slippage*100).toFixed(3)))]),_vm._v(\"% \"),_vm._m(0)])]),_c('p',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showSlippage && _vm.slippage <= 0 && _vm.slippage >= -0.005),expression:\"showSlippage && slippage <= 0 && slippage >= -0.005\"}],staticClass:\"info-message\",attrs:{\"id\":\"slippage-warning\"}},[_c('span',{staticClass:\"text\"},[_vm._v(\" Slippage(plus pricing): \")]),_c('span',{staticClass:\"percent\"},[_vm._v(_vm._s((-_vm.slippage*100).toFixed(3)))]),_vm._v(\"% \"),_vm._m(1)]),_c('p',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showSlippage && _vm.slippage > 0),expression:\"showSlippage && slippage > 0\"}],staticClass:\"success\",attrs:{\"id\":\"bonus-window\"}},[_vm._v(\" Bonus(plus pricing): \"),_c('span',[_vm._v(_vm._s((_vm.slippage*100).toFixed(3)))]),_vm._v(\"% \"),_c('span',{staticClass:\"tooltip\"},[_vm._v(\"[?] \"),_c('span',{staticClass:\"tooltiptext long\"},[_vm._v(\" Bonus comes as an advantage from current coin prices which usually appears for coins which are \"+_vm._s(_vm.$route.name == 'Deposit' ? 'low' : 'high')+\" in balance \")])])]),_c('p',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.show_nobalance),expression:\"show_nobalance\"}],staticClass:\"simple-error\",attrs:{\"id\":\"nobalance-warning\"}},[_vm._v(\" Warning! Not enough balance for \"+_vm._s(_vm.noBalanceText)+\" token in the contract \")]),_c('p',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.currentPool == 'susdv2' && _vm.showSlippage && _vm.slippage < -0.01),expression:\"currentPool == 'susdv2' && showSlippage && slippage < -0.01\"}],staticClass:\"info-message gentle-message\",attrs:{\"id\":\"susd-warning\"}},[_vm._v(\" Please add coins in a balanced proportion \")])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"tooltip\"},[_vm._v(\"[?] \"),_c('span',{staticClass:\"tooltiptext long\"},[_vm._v(\" Slippage comes from depositing too many coins not in balance, and current coin prices are additionally accounted for \")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"tooltip\"},[_vm._v(\"[?] \"),_c('span',{staticClass:\"tooltiptext long\"},[_vm._v(\" Slippage comes from depositing too many coins not in balance, and current coin prices are additionally accounted for \")])])}]\n\nexport { render, staticRenderFns }","<template>\n\t<div>\n\t    <p class='simple-error' id='highslippage-warning' v-show='showSlippage && slippage < -0.005'>\n\t    \t<span class='text'>\n          Warning! High slippage(plus pricing):\n        <span class='percent'>{{(-slippage*100).toFixed(3)}}</span>%\n          <span class='tooltip'>[?]\n            <span class='tooltiptext long'>\n              Slippage comes from depositing too many coins not in balance, and current coin prices are additionally accounted for\n            </span>\n          </span>\n        </span>\n\t    </p>\n\t    <p class='info-message' id='slippage-warning' v-show='showSlippage && slippage <= 0 && slippage >= -0.005'>\n\t    \t<span class='text'>\n          Slippage(plus pricing):\n        </span>\n        <span class='percent'>{{(-slippage*100).toFixed(3)}}</span>%\n          <span class='tooltip'>[?]\n            <span class='tooltiptext long'>\n              Slippage comes from depositing too many coins not in balance, and current coin prices are additionally accounted for\n            </span>\n          </span>\n\t    </p>\n\t    <p class='success' id='bonus-window' v-show='showSlippage && slippage > 0'>\n\t    \tBonus(plus pricing): <span>{{(slippage*100).toFixed(3)}}</span>%\n        <span class='tooltip'>[?]\n          <span class='tooltiptext long'>\n            Bonus comes as an advantage from current coin prices which usually appears for coins which are {{ $route.name == 'Deposit' ? 'low' : 'high'}} in balance\n          </span>\n        </span>\n\t    </p>\n      <p class='simple-error' id='nobalance-warning' v-show='show_nobalance'>\n      \tWarning! Not enough balance for {{noBalanceText}} token in the contract\n      </p>\n      <p class='info-message gentle-message' id='susd-warning' v-show=\"currentPool == 'susdv2' && showSlippage && slippage < -0.01\">\n        Please add coins in a balanced proportion\n      </p>\n\t</div>\n</template>\n\n<script>\n    import { getters} from '../../contract'\n    export default {\n    \tprops: ['show_nobalance','show_nobalance_i'],\n        computed: {\n          ...getters,\n          noBalanceText() {\n          \tif(!this.show_nobalance) return '';\n          \tlet kv = Object.entries(this.currencies)[this.show_nobalance_i]\n            if(!(this.show_nobalance_i == 2 && this.currentPool == 'usdt') && this.currentPool != 'susdv2') {\n              return kv[1] + \" (in \" + kv[0] + \")\";\n            }\n            return kv[1];\n          }\n        },\n    }\n</script>\n\n<style scoped>\n\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Slippage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Slippage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Slippage.vue?vue&type=template&id=556a4168&scoped=true&\"\nimport script from \"./Slippage.vue?vue&type=script&lang=js&\"\nexport * from \"./Slippage.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"556a4168\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"add-liquidity\"},[_c('fieldset',{staticClass:\"currencies\"},[_c('legend',[_vm._v(\"Currencies:\")]),_c('ul',_vm._l((Object.keys(_vm.currencies)),function(currency,i){\nvar _obj;\nreturn _c('li',[_c('label',{attrs:{\"for\":'currency_'+i}},[_c('span',{staticClass:\"currency_label\"},[_c('img',{class:( _obj = {'token-icon': true}, _obj[currency+'-icon'] = true, _obj['y'] =  _vm.depositc && !_vm.isPlain, _obj ),attrs:{\"src\":_vm.getTokenIcon(currency)}}),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.depositc),expression:\"depositc\"}]},[_vm._v(_vm._s(_vm.currencies[currency])+\" \"),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(!(currency == 'usdt' && _vm.currentPool == 'usdt' || currency == 'pax')\n    \t                        \t\t\t\t\t&& !['susdv2', 'tbtc', 'ren', 'sbtc'].includes(_vm.currentPool)),expression:\"!(currency == 'usdt' && currentPool == 'usdt' || currency == 'pax')\\n    \\t                        \\t\\t\\t\\t\\t&& !['susdv2', 'tbtc', 'ren', 'sbtc'].includes(currentPool)\"}]},[_vm._v(\" (in \"+_vm._s(_vm._f(\"capitalize\")(currency))+\") \")])]),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.depositc),expression:\"!depositc\"}]},[_vm._v(_vm._s(_vm._f(\"capitalize\")(currency))+\" \")]),_c('span',{staticClass:\"maxBalanceCoin\",on:{\"click\":function($event){return _vm.setMaxBalanceCoin(i)}}},[_vm._v(\" Max: \"),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:((_vm.currentPool == 'susdv2' && i == 3 || _vm.currentPool == 'sbtc' && i == 2)\n                                                    && _vm.maxBalanceCoin(i) != '0.00'),expression:\"(currentPool == 'susdv2' && i == 3 || currentPool == 'sbtc' && i == 2)\\n                                                    && maxBalanceCoin(i) != '0.00'\"}]},[_vm._v(\" \"+_vm._s(_vm.transferableBalanceText)+\"/ \")]),_c('span',[_vm._v(_vm._s(_vm.maxBalanceCoin(i))+\" \")]),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.susdWaitingPeriod),expression:\"susdWaitingPeriod\"}]},[_c('span',{staticClass:\"tooltip\"},[_c('img',{staticClass:\"icon small\",attrs:{\"src\":require(\"@/assets/clock-regular.svg\")}}),_c('span',{staticClass:\"tooltiptext normalFont\"},[_vm._v(\" Cannot transfer during waiting period. \"+_vm._s((_vm.susdWaitingPeriodTime ).toFixed(0))+\" secs left. \")])])]),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:((_vm.currentPool == 'susdv2' && i == 3 || _vm.currentPool == 'sbtc' && i == 2)\n                                                    && _vm.maxBalanceCoin(i) != '0.00'),expression:\"(currentPool == 'susdv2' && i == 3 || currentPool == 'sbtc' && i == 2)\\n                                                    && maxBalanceCoin(i) != '0.00'\"}],staticClass:\"tooltip\"},[_vm._v(\" [?] \"),_c('span',{staticClass:\"tooltiptext long normalFont\"},[_vm._v(\" Max transferrable amount is \"+_vm._s(_vm.transferableBalanceText)+\". You can free the remaining balance by settling. \")])])])])]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.inputs[i]),expression:\"inputs[i]\"}],style:({backgroundColor: _vm.bgColors[i]}),attrs:{\"type\":\"text\",\"id\":'currency_'+i,\"disabled\":_vm.disabled,\"name\":\"from_cur\"},domProps:{\"value\":(_vm.inputs[i])},on:{\"input\":[function($event){if($event.target.composing){ return; }_vm.$set(_vm.inputs, i, $event.target.value)},function($event){return _vm.change_currency(i, true)}]}})])}),0)]),_c('ul',{staticClass:\"do-center\"},[_c('gas-price'),_c('li',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.max_balances),expression:\"max_balances\"}],attrs:{\"id\":\"max-balances\",\"type\":\"checkbox\",\"name\":\"max-balances\",\"disabled\":_vm.disabledButtons,\"checked\":\"\"},domProps:{\"checked\":Array.isArray(_vm.max_balances)?_vm._i(_vm.max_balances,null)>-1:(_vm.max_balances)},on:{\"change\":[function($event){var $$a=_vm.max_balances,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.max_balances=$$a.concat([$$v]))}else{$$i>-1&&(_vm.max_balances=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.max_balances=$$c}},_vm.handle_sync_balances]}}),_c('label',{attrs:{\"for\":\"max-balances\"}},[_vm._v(\"Use maximum amount of coins available\")])]),_c('li',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.inf_approval),expression:\"inf_approval\"}],attrs:{\"id\":\"inf-approval\",\"type\":\"checkbox\",\"name\":\"inf-approval\",\"checked\":\"\"},domProps:{\"checked\":Array.isArray(_vm.inf_approval)?_vm._i(_vm.inf_approval,null)>-1:(_vm.inf_approval)},on:{\"change\":function($event){var $$a=_vm.inf_approval,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.inf_approval=$$a.concat([$$v]))}else{$$i>-1&&(_vm.inf_approval=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.inf_approval=$$c}}}}),_vm._m(0)])],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.susdWaitingPeriod),expression:\"susdWaitingPeriod\"}],staticClass:\"simple-error pulse\"},[_vm._v(\" Cannot transfer \"+_vm._s(_vm.currentPool == 'susdv2' ? 'sUSD' : 'sBTC')+\" during waiting period. \"+_vm._s((_vm.susdWaitingPeriodTime).toFixed(0))+\" secs left. \")]),_c('p',{staticClass:\"buttons\",staticStyle:{\"text-align\":\"center\"}},[_c('button',{staticClass:\"simplebutton\",attrs:{\"id\":\"add-liquidity\",\"disabled\":_vm.currentPool == 'susdv2' && _vm.slippage < -0.03 || _vm.depositingZeroWarning || _vm.isZeroSlippage},on:{\"click\":function($event){_vm.justDeposit = true; _vm.handle_add_liquidity()}}},[_vm._v(\" Deposit \"),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.loadingAction == 1),expression:\"loadingAction == 1\"}],staticClass:\"loading line\"})])]),_c('p',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.lpCrvReceived > 0),expression:\"lpCrvReceived > 0\"}],staticClass:\"info-message gentle-message\"},[_vm._v(\" You'll receive minimum \"+_vm._s(_vm.lpCrvReceivedText)+\" Curve \"+_vm._s(_vm.currentPool)+\" LP tokens \"),_c('sub',[_vm._v(_vm._s(((1 - _vm.getMaxSlippage) * 100).toFixed(2))+\"% max slippage\")]),_c('span',{staticClass:\"curvelpusd\"},[_vm._v(\" 1 Curve \"+_vm._s(_vm.currentPool)+\" LP token = \"+_vm._s((1 * _vm.virtual_price).toFixed(6))+\" \"+_vm._s(!['ren', 'sbtc'].includes(_vm.currentPool) ? 'USD' : 'BTC')+\" \")])]),_c('div',[_c('button',{staticClass:\"simplebutton advancedoptions\",on:{\"click\":function($event){_vm.showadvancedoptions = !_vm.showadvancedoptions}}},[_vm._v(\" Advanced options \"),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.showadvancedoptions),expression:\"!showadvancedoptions\"}]},[_vm._v(\"▼\")]),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showadvancedoptions),expression:\"showadvancedoptions\"}]},[_vm._v(\"▲\")])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showadvancedoptions),expression:\"showadvancedoptions\"}]},[_c('fieldset',[_c('legend',[_vm._v(\"Advanced options:\")]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.hasRewards && _vm.totalShare > 0 && ['susdv2', 'sbtc', 'y', 'swusd'].includes(_vm.currentPool)),expression:\"hasRewards && totalShare > 0 && ['susdv2', 'sbtc', 'y', 'swusd'].includes(currentPool)\"}]},[_c('label',{attrs:{\"for\":\"stakepercentage\"}},[_vm._v(\"Stake %\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.stakepercentage),expression:\"stakepercentage\"}],class:{'invalid': _vm.stakePercentageInvalid},attrs:{\"id\":\"stakepercentage\"},domProps:{\"value\":(_vm.stakepercentage)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.stakepercentage=$event.target.value}}}),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.totalShare > 0 && ['susdv2', 'sbtc', 'y', 'swusd'].includes(_vm.currentPool)),expression:\"totalShare > 0 && ['susdv2', 'sbtc', 'y', 'swusd'].includes(currentPool)\"}],attrs:{\"id\":\"stakeunstaked\",\"disabled\":_vm.stakePercentageInvalid},on:{\"click\":function($event){return _vm.stakeTokens()}}},[_vm._v(\" Stake unstaked \"),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.loadingAction == 3),expression:\"loadingAction == 3\"}],staticClass:\"loading line\"})])]),_c('div',{attrs:{\"id\":\"max_slippage\"}},[_vm._m(1),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.maxSlippage),expression:\"maxSlippage\"}],attrs:{\"id\":\"slippage01\",\"type\":\"radio\",\"name\":\"slippage\",\"value\":\"0.1\"},domProps:{\"checked\":_vm._q(_vm.maxSlippage,\"0.1\")},on:{\"change\":function($event){_vm.maxSlippage=\"0.1\"}}}),_c('label',{attrs:{\"for\":\"slippage01\"}},[_vm._v(\"0.1%\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.maxSlippage),expression:\"maxSlippage\"}],attrs:{\"id\":\"slippage1\",\"type\":\"radio\",\"name\":\"slippage\",\"checked\":\"\",\"value\":\"1\"},domProps:{\"checked\":_vm._q(_vm.maxSlippage,\"1\")},on:{\"change\":function($event){_vm.maxSlippage=\"1\"}}}),_c('label',{attrs:{\"for\":\"slippage1\"}},[_vm._v(\"1%\")]),_c('input',{attrs:{\"id\":\"custom_slippage\",\"type\":\"radio\",\"name\":\"slippage\",\"value\":\"-\"},on:{\"click\":function($event){_vm.customippageDisabled = false}}}),_c('label',{attrs:{\"for\":\"custom_slippage\"},on:{\"click\":function($event){_vm.customSlippageDisabled = false}}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.maxInputSlippage),expression:\"maxInputSlippage\"}],class:{'invalid': _vm.warningInputSlippage},attrs:{\"type\":\"text\",\"id\":\"custom_slippage_input\",\"disabled\":_vm.customSlippageDisabled,\"name\":\"custom_slippage_input\"},domProps:{\"value\":(_vm.maxInputSlippage)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.maxInputSlippage=$event.target.value}}}),_vm._v(\" % \")]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.warningInputSlippage),expression:\"warningInputSlippage\"}],staticClass:\"simple-error\"},[_vm._v(\" \"+_vm._s(_vm.maxInputSlippage)+\"% is too low of a slippage - your transaction may fail \")])])])])]),_c('p',{directives:[{name:\"show\",rawName:\"v-show\",value:(['ren', 'sbtc'].includes(_vm.currentPool)),expression:\"['ren', 'sbtc'].includes(currentPool)\"}],staticClass:\"trade-buttons\"},[_c('a',{attrs:{\"href\":\"https://bridge.renproject.io/\"}},[_vm._v(\"Mint/redeem renBTC\")])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(['susdv2', 'sbtc'].includes(_vm.currentPool)),expression:\"['susdv2', 'sbtc'].includes(currentPool)\"}],attrs:{\"id\":\"mintr\"}},[_c('a',{attrs:{\"href\":\"https://mintr.synthetix.io/\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\"}},[_vm._v(\"Manage staking in Mintr\")])]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.currentPool == 'compound' && _vm.oldBalance > 0),expression:\"currentPool == 'compound' && oldBalance > 0\"}],attrs:{\"id\":\"migrate-new\"},on:{\"click\":_vm.handle_migrate_new}},[_vm._v(\"Migrate from old\")]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.show_loading),expression:\"show_loading\"}],staticClass:\"info-message gentle-message\"},[_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.waitingMessage)}}),_vm._v(\" \"),_c('span',{staticClass:\"loading line\"})]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.estimateGas),expression:\"estimateGas\"}],staticClass:\"info-message gentle-message\"},[_vm._v(\" Estimated tx cost: \"+_vm._s((_vm.estimateGas * _vm.gasPrice / 1e9 * _vm.ethPrice).toFixed(2))+\"$ \")]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.errorStaking),expression:\"errorStaking\"}],staticClass:\"simple-error\"},[_vm._v(\" There was an error in staking your tokens. You can manually stake them on \"),_c('a',{directives:[{name:\"show\",rawName:\"v-show\",value:(['susdv2', 'sbtc'].includes(_vm.currentPool)),expression:\"['susdv2', 'sbtc'].includes(currentPool)\"}],attrs:{\"href\":\"https://mintr.synthetix.io/\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\"}},[_vm._v(\" Mintr. \")])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.compareInputsWarning.length && !_vm.max_balances),expression:\"compareInputsWarning.length && !max_balances\"}],staticClass:\"simple-error pulse\"},[_vm._v(\" Not enough balance for currencies \"+_vm._s(_vm.compareInputsWarning.toString())+\" \"),_c('p',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.compareInputsWarning.length == _vm.N_COINS - 1),expression:\"compareInputsWarning.length == N_COINS - 1\"}]},[_vm._v(\" Maybe you forgot to uncheck the first \\\"Add all coins in a balanced proportion\\\" checkbox? \")])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.depositingZeroWarning && !_vm.max_balances),expression:\"depositingZeroWarning && !max_balances\"}],staticClass:\"simple-error pulse\"},[_vm._v(\" You're depositing 0 coins. \"),_c('p',[_vm._v(\" Maybe you forgot to uncheck the first \\\"Add all coins in a balanced proportion\\\" checkbox? \")])]),_c('Slippage'),_c('p')],1)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('label',{attrs:{\"for\":\"inf-approval\"}},[_vm._v(\"Infinite approval - trust this contract forever \"),_c('span',{staticClass:\"tooltip\"},[_vm._v(\"[?] \"),_c('span',{staticClass:\"tooltiptext long\"},[_vm._v(\" Preapprove the contract to to be able to spend any amount of your coins. You will not need to approve again. \")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"tooltip\"},[_vm._v(\" Max slippage: \"),_c('span',{staticClass:\"tooltiptext long\"},[_vm._v(\" Customize the maximum slippage you can get when depositing \")])])}]\n\nexport { render, staticRenderFns }","<template>\n\t<div>\n\t\t<div class=\"add-liquidity\">\n            <fieldset class=\"currencies\">\n                <legend>Currencies:</legend>\n                <ul>\n                    <li v-for='(currency, i) in Object.keys(currencies)'>\n                        <label :for=\"'currency_'+i\">\n                        \t<span class='currency_label'>\n                                <img\n                                    :class=\"{'token-icon': true, [currency+'-icon']: true, 'y': depositc && !isPlain}\"\n                                    :src='getTokenIcon(currency)'>\n                                <span v-show='depositc'>{{currencies[currency]}}\n    \t                        \t<span v-show=\"!(currency == 'usdt' && currentPool == 'usdt' || currency == 'pax')\n    \t                        \t\t\t\t\t&& !['susdv2', 'tbtc', 'ren', 'sbtc'].includes(currentPool)\">\n    \t                        \t\t(in {{currency | capitalize}})\n    \t                        \t</span>\n    \t                        </span>\n    \t                        <span v-show='!depositc'>{{currency | capitalize}}\n    \t                        </span>\n                                <span @click='setMaxBalanceCoin(i)' class='maxBalanceCoin'>\n                                    Max:\n                                    <span\n                                        v-show=\"(currentPool == 'susdv2' && i == 3 || currentPool == 'sbtc' && i == 2)\n                                                    && maxBalanceCoin(i) != '0.00'\"\n                                    >\n                                        {{transferableBalanceText}}/\n                                    </span>\n                                    <span>{{ maxBalanceCoin(i) }} </span>\n                                    <span v-show=\"susdWaitingPeriod\">\n                                        <span class='tooltip'>\n                                            <img src='@/assets/clock-regular.svg' class='icon small'>\n                                            <span class='tooltiptext normalFont'>\n                                                Cannot transfer during waiting period. {{ (susdWaitingPeriodTime ).toFixed(0) }} secs left.\n                                            </span>\n                                        </span>\n                                    </span>\n                                    <span v-show=\"(currentPool == 'susdv2' && i == 3 || currentPool == 'sbtc' && i == 2)\n                                                    && maxBalanceCoin(i) != '0.00'\"\n                                        class='tooltip'> [?]\n                                        <span class='tooltiptext long normalFont'>\n                                            Max transferrable amount is {{ transferableBalanceText }}. You can free the remaining balance by settling.\n                                        </span>\n                                    </span>\n                                </span>\n                            </span>\n                        </label>\n                        <input\n\t                        type=\"text\"\n\t                        :id=\"'currency_'+i\"\n\t                        :disabled='disabled'\n\t                        name=\"from_cur\"\n\t                        v-model = 'inputs[i]'\n\t                        :style = \"{backgroundColor: bgColors[i]}\"\n\t                        @input='change_currency(i, true)'\n\t                    >\n                    </li>\n                </ul>\n            </fieldset>\n            <ul class=\"do-center\">\n                <gas-price></gas-price>\n                <li>\n                    <input id=\"max-balances\" type=\"checkbox\" name=\"max-balances\" @change='handle_sync_balances' :disabled='disabledButtons' checked v-model='max_balances'>\n                    <label for=\"max-balances\">Use maximum amount of coins available</label>\n                </li>\n                <li>\n                    <input id=\"inf-approval\" type=\"checkbox\" name=\"inf-approval\" checked v-model='inf_approval'>\n                    <label for=\"inf-approval\">Infinite approval - trust this contract forever\n                    \t<span class='tooltip'>[?]\n                    \t\t<span class='tooltiptext long'>\n                    \t\t\tPreapprove the contract to to be able to spend any amount of your coins. You will not need to approve again.\n                    \t\t</span>\n                    \t</span>\n                    </label>\n                </li>\n            </ul>\n            <div class='simple-error pulse' v-show=\"susdWaitingPeriod\">\n                Cannot transfer {{ currentPool == 'susdv2' ? 'sUSD' : 'sBTC' }} during waiting period. {{ (susdWaitingPeriodTime).toFixed(0) }} secs left.\n            </div>\n            <p style=\"text-align: center\" class='buttons'>\n                <button class=\"simplebutton\" id=\"add-liquidity\"\n                    :disabled=\"currentPool == 'susdv2' && slippage < -0.03 || depositingZeroWarning || isZeroSlippage\"\n                    @click='justDeposit = true; handle_add_liquidity()'\n                    >\n                        Deposit <span class='loading line' v-show='loadingAction == 1'></span>\n                </button>\n                <p class='info-message gentle-message' v-show=\"lpCrvReceived > 0\">\n                    You'll receive minimum {{ lpCrvReceivedText }} Curve {{currentPool}} LP tokens <sub>{{ ((1 - getMaxSlippage) * 100).toFixed(2)}}% max slippage</sub>\n\n                    <span class='curvelpusd'>\n                        1 Curve {{currentPool}} LP token = {{ (1 * virtual_price).toFixed(6) }}\n                        {{ !['ren', 'sbtc'].includes(currentPool) ? 'USD' : 'BTC' }}\n                    </span>\n                </p>\n                <div>\n                    <button class='simplebutton advancedoptions' @click='showadvancedoptions = !showadvancedoptions'>\n                        Advanced options\n                        <span v-show='!showadvancedoptions'>▼</span>\n                        <span v-show='showadvancedoptions'>▲</span>\n                    </button>\n                    <div v-show='showadvancedoptions'>\n                        <fieldset>\n                            <legend>Advanced options:</legend>\n                            <div v-show=\"hasRewards && totalShare > 0 && ['susdv2', 'sbtc', 'y', 'swusd'].includes(currentPool)\">\n                                <label for='stakepercentage'>Stake %</label>\n                                <input id='stakepercentage' v-model='stakepercentage' :class=\"{'invalid': stakePercentageInvalid}\">\n                                <button id='stakeunstaked'\n                                    v-show=\"totalShare > 0 && ['susdv2', 'sbtc', 'y', 'swusd'].includes(currentPool)\"\n                                    :disabled='stakePercentageInvalid'\n                                    @click='stakeTokens()'\n                                >\n                                    Stake unstaked <span class='loading line' v-show='loadingAction == 3'></span>\n                                </button>\n                            </div>\n\n                            <div id='max_slippage'>\n                                <span class='tooltip'>\n                                    Max slippage:\n                                    <span class='tooltiptext long'>\n                                        Customize the maximum slippage you can get when depositing\n                                    </span>\n                                </span>\n                                <input id=\"slippage01\" type=\"radio\" name=\"slippage\" value='0.1' v-model='maxSlippage'>\n                                <label for=\"slippage01\">0.1%</label>\n\n                                <input id=\"slippage1\" type=\"radio\" name=\"slippage\" checked value='1' v-model='maxSlippage'>\n                                <label for=\"slippage1\">1%</label>\n\n                                <input id=\"custom_slippage\" type=\"radio\" name=\"slippage\" value='-' @click='customippageDisabled = false'>\n                                <label for=\"custom_slippage\" @click='customSlippageDisabled = false'>\n                                    <input type=\"text\" id=\"custom_slippage_input\" :disabled='customSlippageDisabled' :class=\"{'invalid': warningInputSlippage}\" name=\"custom_slippage_input\" v-model='maxInputSlippage'> %\n                                </label>\n\n                                <div class='simple-error' v-show='warningInputSlippage'>\n                                    {{ maxInputSlippage }}% is too low of a slippage - your transaction may fail\n                                </div>\n                            </div>\n                        </fieldset>\n\n                    </div>\n\n                </div>\n                <p class='trade-buttons' v-show=\"['ren', 'sbtc'].includes(currentPool)\">\n                    <a href='https://bridge.renproject.io/'>Mint/redeem renBTC</a>\n                </p>\n                <div id='mintr' v-show=\"['susdv2', 'sbtc'].includes(currentPool)\">\n                    <a href = 'https://mintr.synthetix.io/' target='_blank' rel=\"noopener noreferrer\">Manage staking in Mintr</a>\n                </div>\n                <!--\n                <div id='mintr' v-show=\"['y', 'swusd'].includes(currentPool)\">\n                    <a href = 'https://ygov.finance/' target='_blank' rel=\"noopener noreferrer\">Manage staking in yGov</a>\n                </div>\n                -->\n                <button id=\"migrate-new\" @click='handle_migrate_new' v-show=\"currentPool == 'compound' && oldBalance > 0\">Migrate from old</button>\n                <div class='info-message gentle-message' v-show='show_loading'>\n                    <span v-html='waitingMessage'></span> <span class='loading line'></span>\n                </div>\n                <div class='info-message gentle-message' v-show='estimateGas'>\n                    Estimated tx cost: {{ (estimateGas * gasPrice / 1e9 * ethPrice).toFixed(2) }}$\n                </div>\n                <!-- <div class='simple-error' v-show=\"justDeposit && ['susdv2','sbtc','y','swusd'].includes(currentPool)\">\n                    Your tokens are being deposited into the {{ ['y', 'swusd'].includes(currentPool) ? 'y' : 'susd'}} pool without staking.\n                    You can do that manually later on here or on\n                    <a href = 'https://mintr.synthetix.io/' v-show=\"['susdv2', 'sbtc'].includes(currentPool)\" target='_blank' rel=\"noopener noreferrer\"> Mintr. </a>\n                    <a href = 'https://ygov.finance/' v-show=\"['y', 'swusd'].includes(currentPool)\" target='_blank' rel=\"noopener noreferrer\"> yGov. </a>\n                </div> -->\n                <div class='simple-error' v-show='errorStaking'>\n                    There was an error in staking your tokens. You can manually stake them on\n                    <a href = 'https://mintr.synthetix.io/' v-show=\"['susdv2', 'sbtc'].includes(currentPool)\" target='_blank' rel=\"noopener noreferrer\"> Mintr. </a>\n                    <!--<a href = 'https://ygov.finance/' v-show=\"['swusd'].includes(currentPool)\" target='_blank' rel=\"noopener noreferrer\"> yGov. </a>-->\n                </div>\n                <div class='simple-error pulse' v-show='compareInputsWarning.length && !max_balances'>\n                    Not enough balance for currencies {{ compareInputsWarning.toString() }}\n                    <p v-show='compareInputsWarning.length == N_COINS - 1'>\n                        Maybe you forgot to uncheck the first\n                        \"Add all coins in a balanced proportion\" checkbox?\n                    </p>\n                </div>\n                <div class='simple-error pulse' v-show='depositingZeroWarning && !max_balances'>\n                    You're depositing 0 coins.\n                    <p>\n                        Maybe you forgot to uncheck the first\n                        \"Add all coins in a balanced proportion\" checkbox?\n                    </p>\n                </div>\n                <Slippage/>\n            </p>\n        </div>\n\t</div>\n</template>\n\n<script>\n\timport Vue from 'vue'\n    import { notifyHandler, notifyNotification } from '../../init'\n    import * as common from '../../utils/common.js'\n    import { getters, contract as currentContract, gas as contractGas } from '../../contract'\n    import allabis from '../../allabis'\n    const compound = allabis.compound\n    import * as helpers from '../../utils/helpers'\n\n    import * as gasPriceStore from '../common/gasPriceStore'\n    import GasPrice from '../common/GasPrice.vue'\n\n    import * as errorStore from '../common/errorStore'\n\n    import BN from 'bignumber.js'\n\n    import Slippage from '../common/Slippage.vue'\n\n    export default {\n    \tcomponents: {\n    \t\tSlippage, GasPrice,\n    \t},\n    \tdata: () => ({\n    \t\tdisabled: true,\n    \t\tdisabledButtons: true,\n    \t\tsync_balances: false,\n    \t\tmax_balances: true,\n    \t\tinf_approval: true,\n    \t\twallet_balances: [],\n            transferableBalance: null,\n            susdWaitingPeriod: false,\n            susdWaitingPeriodTime: 0,\n    \t\tbalances: [],\n    \t\tinputs: [],\n    \t\tamounts: [],\n    \t\tbgColors: [],\n    \t\tdepositc: false,\n    \t\tcoins: [],\n    \t\trates: [],\n    \t\tswap_address: currentContract.swap_address,\n            lpCrvReceived: null,\n    \t\tshow_loading: false,\n    \t\twaitingMessage: '',\n    \t\testimateGas: 0,\n    \t\tethPrice: 0,\n            justDeposit: false,\n            stakepercentage: 100,\n            get showadvancedoptions() {\n                return localStorage.getItem('advancedoptions') === 'true'\n            },\n            set showadvancedoptions(val) {\n                localStorage.setItem('advancedoptions', val)\n            },\n            maxSlippage: 1,\n            maxInputSlippage: '',\n            customSlippageDisabled: true,\n            loadingAction: false,\n            errorStaking: false,\n    \t\tslippagePromise: helpers.makeCancelable(Promise.resolve()),\n\n            hasRewards: true,\n    \t}),\n        async created() {\n\n            this.$watch(()=>currentContract.default_account, (val, oldval) => {\n                if(!val || !oldval) return;\n                if(val.toLowerCase() == oldval.toLowerCase()) return;\n                this.mounted();\n            })\n            this.$watch(()=>currentContract.initializedContracts, val => {\n                if(val) this.mounted();\n            })\n            this.$watch(()=>currentContract.currentContract, (val, oldval) => {\n                this.setInputStyles(false, val, oldval)\n                if(currentContract.initializedContracts) this.mounted();\n            })\n\n        },\n        watch: {\n        \tasync depositc(val, oldval) {\n        \t\tthis.changeSwapInfo(val)\n        \t\tawait this.handle_sync_balances()\n        \t\t!this.max_balances && this.highlightAllInputs();\n        \t\t//await Promise.all([...Array(currentContract.N_COINS).keys()].map(i=>this.change_currency(i, false)))\n        \t\tawait this.calcSlippage()\n        \t},\n            getMaxSlippage() {\n                this.getLPCrvReceived()\n            },\n        },\n        computed: {\n          ...getters,\n          minAmount() {\n          \tif(['tbtc', 'ren', 'sbtc'].includes(currentContract.currentContract)) return 1e-8\n          \treturn 0.01\n          },\n          calcFee() {\n            let N_COINS = allabis[currentContract.currentContract].N_COINS\n            return this.fee / 100 * N_COINS / (4 * (N_COINS -1))\n          },\n          compareInputsWarning() {\n            let currencies = []\n            for(let [i, currency] of Object.keys(this.currencies).entries()) {\n                let balance = this.wallet_balances[i]\n                if(this.currentPool == 'susdv2' && i == 3) {\n                    balance = this.susdWaitingPeriod ? 0 : this.transferableBalance\n                }\n                let diff3 = BN(BN(balance).times(this.rates[i])).minus(this.inputs[i])\n                if(diff3.lt(BN(-0.01))) currencies.push(this.depositc ? this.currencies[currency] : currency.toUpperCase())\n            }\n            return currencies\n          },\n          depositingZeroWarning() {\n            return this.inputs.filter(v=>+v==0).length == this.N_COINS && !this.disabledButtons\n          },\n          isPlain() {\n            return ['susdv2', 'tbtc', 'ren', 'sbtc'].includes(this.currentPool)\n          },\n          transferableBalanceText() {\n            return this.toFixed((this.transferableBalance / 1e18))\n          },\n          virtual_price() {\n            return currentContract.virtual_price\n          },\n          lpCrvReceivedText() {\n            return this.toFixed(this.lpCrvReceived)\n          },\n          gasPrice() {\n            return gasPriceStore.state.gasPrice\n          },\n          gasPriceWei() {\n            return gasPriceStore.state.gasPriceWei\n          },\n          stakePercentageInvalid() {\n            return this.stakepercentage < 0 || this.stakepercentage > 100\n          },\n          getMaxSlippage() {\n            let maxSlippage = +this.maxSlippage;\n            if(this.maxInputSlippage) maxSlippage = +this.maxInputSlippage;\n            return (100 - maxSlippage)/100\n          },\n          warningInputSlippage() {\n            if(!this.maxInputSlippage) return false\n            return +this.maxInputSlippage < 0.5\n          },\n          isZeroSlippage() {\n            return this.maxInputSlippage !== '' && (+this.maxInputSlippage == 0 || isNaN(this.maxInputSlippage))\n          },\n        },\n        mounted() {\n\t        this.setInputStyles(true)\n            if(currentContract.initializedContracts) this.mounted();\n        },\n        methods: {\n        \tasync stakeTokens(tokens, deposit_and_stake = false) {\n                if(this.loadingAction == 3) return;\n                this.setLoadingAction(3);\n                if(!tokens) {\n                    tokens = BN(await currentContract.swap_token.methods.balanceOf(currentContract.default_account).call());\n                    tokens = BN(this.stakepercentage / 100).times(tokens)\n                }\n                this.waitingMessage = `Please approve staking ${this.toFixed(tokens.div(BN(1e18)))} of your sCurve tokens`\n                var { dismiss } = notifyNotification(this.waitingMessage)\n                await common.ensure_stake_allowance(tokens, currentContract.curveRewards, this.inf_approval);\n                dismiss()\n                this.waitingMessage = `Please confirm stake transaction ${deposit_and_stake ? '(2/2)' : ''}`\n                var { dismiss } = notifyNotification(this.waitingMessage)\n                let promises = await Promise.all([helpers.getETHPrice()])\n                this.ethPrice = promises[0]\n                this.estimateGas = 200000\n                try {\n                    await currentContract.curveRewards.methods.stake(tokens.toFixed(0,1)).send({\n                        from: currentContract.default_account,\n                        gasPrice: this.gasPriceWei,\n                        gas: 400000,\n                    })\n                    .once('transactionHash', hash => {\n\t\t\t\t        this.waitingMessage = `Waiting for stake transaction to confirm\n                            ${deposit_and_stake ? '(2/2)' : ''}: no further action needed`\n                        dismiss()\n                        notifyHandler(hash)\n                    })\n\t\t\t\t    currentContract.totalShare -= tokens\n                    common.update_fee_info()\n                }\n                catch(err) {\n                    console.error(err)\n                    dismiss()\n                    errorStore.handleError(err)\n                }\n\t\t\t\tthis.waitingMessage = ''\n\t\t\t\tthis.show_loading = false;\n\t\t\t},\n\n            async mounted(oldContract) {\n\n            \tif(['susd', 'susdv2', 'tbtc', 'ren', 'sbtc'].includes(currentContract.currentContract)) this.depositc = true;\n                else this.depositc = false;\n            \tthis.changeSwapInfo(this.depositc)\n            \tcurrentContract.showSlippage = false;\n        \t\tcurrentContract.slippage = 0;\n                await this.handle_sync_balances();\n                await this.getLPCrvReceived()\n                await this.calcSlippage()\n                let calls = [...Array(currentContract.N_COINS).keys()].map(i=>[this.coins[i]._address,\n                \tthis.coins[i].methods.allowance(currentContract.default_account || '0x0000000000000000000000000000000000000000', this.swap_address).encodeABI()])\n                if(['susdv2', 'sbtc', 'y', 'swusd'].includes(this.currentPool))\n                    calls.push([currentContract.curveRewards._address, currentContract.curveRewards.methods.periodFinish().encodeABI()])\n                let aggcalls = await common.clean_and_multi_call(calls);\n                let decoded = aggcalls[1].map(hex => currentContract.web3.eth.abi.decodeParameter('uint256', hex))\n                console.log('decoded approvals amounts', JSON.stringify(decoded));\n                if(decoded.slice(0,decoded.length-1).some(v=>BN(v).lte(currentContract.max_allowance.div(BN(2))) > 0))\n                \tthis.inf_approval = false\n                let now = Date.now() / 1000\n                if(['susdv2', 'sbtc', 'y', 'swusd'].includes(this.currentPool) && +decoded[decoded.length-1] < now)\n                    this.hasRewards = false\n\n                this.disabledButtons = false;\n            },\n            getTokenIcon(token) {\n                return helpers.getTokenIcon(token, this.depositc, this.currentPool)\n            },\n            toFixed(num, precisions = 2, round = 4) {\n                if(+num == 0 && ['ren', 'sbtc'].includes(currentContract.currentContract)) return '0.00'\n                if(precisions == 2 && ['tbtc', 'ren', 'sbtc'].includes(currentContract.currentContract)) precisions = 8\n                let rounded = (+num).toFixed(precisions)\n                return isNaN(rounded) ? '0.00' : rounded\n            },\n            maxBalanceCoin(i) {\n                return this.toFixed(this.wallet_balances[i] * this.rates[i])\n            },\n            setMaxBalanceCoin(i) {\n                Vue.set(this.inputs, i, this.maxBalanceCoin(i))\n                if(this.currentPool == 'susdv2' && i == 3 || this.currentPool == 'sbtc' && i == 2) {\n                    let maxbalance_susd = this.susdWaitingPeriod ? 0 : BN(this.transferableBalance).times(this.rates[i]).toString()\n                    Vue.set(this.inputs, i, maxbalance_susd)\n                }\n            },\n        \tinputsFormat(i) {\n        \t\tif(this.inputs[i]) {\n        \t\t\treturn this.toFixed(+this.inputs[i])\n        \t\t}\n        \t\treturn '0.00'\n        \t},\n            changeSwapInfo(val) {\n            \tif(val) {\n                    this.coins = currentContract.coins\n                    if(this.currentPool == 'susdv2') Vue.set(this.coins, 3, currentContract.underlying_coins[3])\n                    if(this.currentPool == 'sbtc') Vue.set(this.coins, 2, currentContract.underlying_coins[2])\n\t            \tthis.rates = currentContract.c_rates\n\t            \tthis.swap_address = currentContract.swap_address\n        \t\t}\n            \telse {\n            \t\tthis.coins = currentContract.underlying_coins\n            \t\tthis.rates = currentContract.coin_precisions.map(cp=>1/cp)\n            \t\tthis.swap_address = currentContract.deposit_zap._address\n            \t}\n            },\n            setInputStyles(newInputs = false, newContract, oldContract) {\n\t\t\t\tif(oldContract) {\n\t\t\t\t\tfor(let i = 0; i < allabis[newContract].N_COINS - allabis[oldContract].N_COINS; i++) {\n\t\t\t\t\t\tthis.inputs.push('0.00')\n\t\t\t\t\t}\n\t\t\t\t\tif(allabis[oldContract].N_COINS - allabis[newContract].N_COINS > 0) {\n\t\t\t\t\t\tthis.inputs = this.inputs.filter((_, i) => i < allabis[newContract].N_COINS)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if(newInputs) {\n\t\t\t\t\tthis.inputs = new Array(Object.keys(this.currencies).length).fill('0.00')\n\t\t\t\t}\n\t        \tthis.bgColors = Array(currentContract.N_COINS).fill({\n\t        \t\tbackgroundColor: '#707070',\n\t        \t\tcolor: '#d0d0d0',\n\t        \t})\n            },\n            async calcSlippage() {\n            \ttry {\n\t            \tthis.slippagePromise.cancel();\n\t        \t\tthis.slippagePromise = helpers.makeCancelable(common.calc_slippage(this.inputs, true))\n\t        \t\tawait this.slippagePromise;\n            \t}\n            \tcatch(err) {\n            \t\tconsole.error(err)\n            \t}\n            },\n            async handle_sync_balances() {\n\t\t\t    await common.update_fee_info();\n                let calls = []\n                console.log('currentContract.N_COINS', currentContract.N_COINS);\n\t\t\t    for (let i = 0; i < currentContract.N_COINS; i++) {\n\t\t\t    \tcalls.push([this.coins[i]._address, this.coins[i].methods.balanceOf(currentContract.default_account || '0x0000000000000000000000000000000000000000').encodeABI()])\n\t\t\t    \tcalls.push([currentContract.swap._address, currentContract.swap.methods.balances(i).encodeABI()])\n\t\t\t    }\n\t\t\t    let aggcalls = await common.clean_and_multi_call(calls);\n\t\t\t    let decoded = aggcalls[1].map(hex => currentContract.web3.eth.abi.decodeParameter('uint256', hex))\n                let balances = decoded\n\t\t\t    helpers.chunkArr(balances, 2).map((v, i) => {\n\t\t\t    \tVue.set(this.wallet_balances, i, v[0])\n\t\t\t    \tif(!currentContract.default_account) Vue.set(this.wallet_balances, i, 0)\n\t\t\t    \tVue.set(this.balances, i, +v[1])\n\t\t\t    })\n\t\t\t    if (this.max_balances) {\n\t\t\t        this.disabled = true;\n\t\t\t        for (let i = 0; i < currentContract.N_COINS; i++) {\n\t\t\t        \tlet amount = this.wallet_balances[i] * currentContract.c_rates[i]\n\t\t\t        \tif(!this.depositc) amount = this.wallet_balances[i] / allabis[currentContract.currentContract].coin_precisions[i]\n\t\t\t            var val = amount\n\t\t\t            var val = this.toFixed(amount);\n\t\t\t            if(val == 0) val = '0.00'\n\t\t\t            Vue.set(this.inputs, i, this.toFixed(val))\n\t\t\t        }\n\t\t\t    }\n\t\t\t    else\n\t\t\t        this.disabled = false;\n\t\t\t},\n\t\t\tasync handle_sync_balances_proportion() {\n\t\t\t\tawait this.handle_sync_balances();\n\t\t\t\t//for(let i = 0; i < currentContract.N_COINS; i++) this.change_currency(i)\n\t\t\t},\n\t\t\tdeposit_stake() {\n\t\t\t\tthis.show_loading = true;\n\t\t\t\tthis.handle_add_liquidity(true)\n\t\t\t},\n            setLoadingAction(val) {\n                this.loadingAction = val\n                setTimeout(() => this.loadingAction = false, 500)\n            },\n\t\t\tasync handle_add_liquidity(stake = false) {\n                let actionType = stake == false ? 1 : 2;\n                if(this.loadingAction == actionType) return;\n                this.setLoadingAction(actionType)\n                let promises = await Promise.all([helpers.getETHPrice()])\n                this.ethPrice = promises[0]\n\n\t\t\t\tthis.show_loading = true\n                let calls = [...Array(currentContract.N_COINS).keys()].map(i=> {\n                          if(this.currentPool == 'susdv2' && i == 3 || this.currentPool == 'sbtc' && i == 2)\n                            return [this.coins[i]._address, this.coins[i].methods.transferableSynths(currentContract.default_account).encodeABI()]\n                          return [this.coins[i]._address, this.coins[i].methods.balanceOf(currentContract.default_account).encodeABI()]\n                        }\n                    )\n                let endOffset = 0\n                calls.push([currentContract.swap_token._address, currentContract.swap_token.methods.totalSupply().encodeABI()])\n                if(['susdv2', 'sbtc'].includes(this.currentPool)) {\n                    let currencyKey = '0x7355534400000000000000000000000000000000000000000000000000000000'\n                    if(this.currentPool == 'sbtc')\n                        currencyKey = '0x7342544300000000000000000000000000000000000000000000000000000000'\n                    calls.push([\n                            currentContract.snxExchanger._address,\n                            currentContract.snxExchanger.methods\n                            .maxSecsLeftInWaitingPeriod(currentContract.default_account, currencyKey)\n                            .encodeABI()\n                        ])\n                    endOffset = 1\n                }\n                let aggcalls = await common.clean_and_multi_call(calls);\n                let decoded = aggcalls[1].map(hex=>currentContract.web3.eth.abi.decodeParameter('uint256',hex))\n                decoded.slice(0, decoded.length-endOffset).forEach((balance, i) => {\n                    let abi = allabis[currentContract.currentContract]\n                    let precisions = this.depositc ? abi.wrapped_precisions[i] : abi.coin_precisions[i]\n                    let bal = BN(balance)\n                    if(this.depositc) bal = BN(bal).times(currentContract.c_rates[i])\n                    else bal = BN(bal).div(precisions)\n                    if((this.currentPool == 'susdv2' && i == 3 || this.currentPool == 'sbtc' && i == 2)\n                        && +decoded[decoded.length - 1] != 0) bal = BN(0)\n                    let maxDiff = BN(bal).minus(BN(this.inputs[i]))\n                    if(!this.inputs[i]) {\n                        return Vue.set(this.amounts, i, 0)\n                    }\n                    if(BN(bal).gt(0) && maxDiff.lt(0) && BN(maxDiff).lt(BN(this.minAmount))) {\n                        if(!this.depositc) balance = BN(balance).div(precisions).div(currentContract.c_rates[i])\n                        Vue.set(this.amounts, i, BN(balance).toFixed(0,1))\n                    }\n                    else {\n                        Vue.set(this.amounts, i, BN(this.inputs[i]).div(currentContract.c_rates[i]).toFixed(0,1))\n                    }\n                })\n                this.amounts = this.amounts.map(v => v || 0)\n\t\t\t\tlet total_supply = +decoded[decoded.length-endOffset];\n\t\t\t\tthis.waitingMessage = 'Please approve spending your coins'\n\t\t\t    let nonZeroInputs = this.inputs.filter(Number).length\n                let amounts = this.inputs.map((v, i)=>{\n                    if(!v) return 0\n                    let abi = allabis[currentContract.currentContract]\n                    let maxDiff = (BN(this.wallet_balances[i]).div(abi.coin_precisions[i])).minus(v)\n                    let balance = this.wallet_balances[i]\n                    if(this.currentPool == 'susdv2' && i == 3 || this.currentPool == 'sbtc' && i == 2) balance = this.transferableBalance\n                    if((this.currentPool == 'susdv2' && i == 3 || this.currentPool == 'sbtc' && i == 2)\n                        && +decoded[decoded.length - 1] != 0) balance = 0\n                    if(BN(balance).gt(0) && maxDiff.lt(0) && maxDiff.lt(BN(this.minAmount))) return BN(balance).toFixed(0, 1)\n                    return BN(v).times(currentContract.coin_precisions[i]).toFixed(0, 1)\n                })\n                var token_amount = 0;\n                if(total_supply > 0) {\n                    let token_amounts = this.amounts\n                    token_amount = await currentContract.swap.methods.calc_token_amount(token_amounts, true).call();\n                    token_amount = BN(token_amount).times(BN(1).minus(BN(this.calcFee)))\n                    token_amount = BN(token_amount).times(BN(this.getMaxSlippage)).toFixed(0,1);\n                }\n\t\t\t\tif(this.depositc)\n\t\t\t\t\tthis.estimateGas = contractGas.deposit[this.currentPool] / 2\n\t\t\t\telse\n\t\t\t\t\tthis.estimateGas = (contractGas.depositzap[this.currentPool].deposit(nonZeroInputs) | 0) / 1.5\n\t\t\t    if (this.inf_approval)\n\t\t\t        await common.ensure_allowance(this.amounts, !this.depositc, undefined, undefined, true)\n\t\t\t    else if(this.depositc) {\n\t\t\t        await common.ensure_allowance(this.amounts, false);\n\t\t\t    }\n\t\t\t    else {\n\t\t\t    \tawait common.ensure_allowance(amounts, true)\n                }\n\t\t\t    let receipt;\n\t\t\t    let minted = 0;\n\t\t\t    if(this.depositc) {\n                    this.waitingMessage = 'Please confirm deposit transaction'\n                    var { dismiss } = notifyNotification(this.waitingMessage)\n                    await helpers.setTimeoutPromise(100)\n\t\t\t    \tlet add_liquidity = currentContract.swap.methods.add_liquidity(this.amounts, token_amount).send({\n\t\t\t\t        from: currentContract.default_account,\n                        gasPrice: this.gasPriceWei,\n\t\t\t\t        gas: contractGas.deposit[this.currentPool],\n\t\t\t\t    }).once('transactionHash', hash => {\n                        dismiss()\n                        notifyHandler(hash)\n                        this.waitingMessage =\n                        `Waiting for deposit\n                            <a href='http://etherscan.io/tx/${hash}'>transaction</a>\n                            to confirm ${stake ? 'before staking' : 'no further action required'}`\n                    })\n\t\t\t\t    try {\n\t\t\t\t    \treceipt = await add_liquidity\n\t\t\t\t    }\n\t\t\t\t    catch(err) {\n                        console.error(err)\n                        dismiss()\n                        errorStore.handleError(err)\n\t\t\t\t    \tif(err.code == -32603) {\n\t\t\t\t    \t\tawait common.setTimeout(300)\n\t\t\t\t    \t\treceipt = await add_liquidity\n\t\t\t\t    \t}\n\t\t\t\t    }\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t    \tlet gas = contractGas.depositzap[this.currentPool].deposit(nonZeroInputs) | 0\n\t\t\t    \tconsole.warn(this.inputs, 'inputs', amounts, 'uamounts',\n\t\t\t    \t\tthis.amounts, 'amounts', currentContract.swap._address, 'swap address', currentContract.coin_precisions, 'coin precisions',\n\t\t\t    \t\tcurrentContract.c_rates, 'c rates',\n\t\t\t    \t\tcurrentContract.coins.map(c=>c._address), 'coins', currentContract.underlying_coins.map(uc=>uc._address), 'underlying_coins',\n\t\t\t    \t\tcurrentContract.virtual_price, 'virtual_price', token_amount, 'token_amount', Date.now())\n                    this.waitingMessage = 'Please confirm deposit transaction'\n                    await helpers.setTimeoutPromise(100)\n\t\t\t\t\tlet add_liquidity = currentContract.swap.methods.add_liquidity(amounts, token_amount).send({\n\t\t\t\t\t\tfrom: currentContract.default_account,\n                        gasPrice: this.gasPriceWei,\n\t\t\t\t\t\tgas: gas,\n\t\t\t\t\t})\n\t\t\t\t\t.once('transactionHash', hash => {\n                        notifyHandler(hash)\n\t\t\t\t\t\tthis.waitingMessage = `Waiting for deposit\n                            <a href='http://etherscan.io/tx/${hash}'>transaction</a>\n                            to confirm ${stake ? 'before staking (1/2)' : 'no further action required'}`\n\t\t\t\t\t\tconsole.warn(hash, 'tx hash')\n\t\t\t\t\t})\n\t\t\t\t\ttry {\n\t\t\t\t    \treceipt = await add_liquidity\n\t\t\t\t    }\n\t\t\t\t    catch(err) {\n                        console.error(err)\n                        errorStore.handleError(err)\n\t\t\t\t    \tif(err.code == -32603) {\n\t\t\t\t    \t\tawait common.setTimeout(300)\n\t\t\t\t    \t\treceipt = await add_liquidity\n\t\t\t\t    \t}\n\t\t\t\t    }\n\t\t\t\t}\n\t\t\t\tthis.waitingMessage = ''\n\t\t\t\tif(!stake ) this.show_loading = false\n\t\t\t\tif(stake && ['susdv2', 'sbtc', 'y', 'swusd'].includes(this.currentPool)) {\n                    console.warn(receipt.events)\n                    try {\n    \t\t\t\t\tminted = BN(\n    \t\t\t\t\t\tObject.values(receipt.events).filter(event => {\n    \t\t\t\t\t\t\treturn (event.address.toLowerCase() == allabis.susdv2.token_address.toLowerCase()\n                                            || event.address.toLowerCase() == allabis.sbtc.token_address.toLowerCase()\n                                            || event.address.toLowerCase() == allabis.swusd.token_address.toLowerCase()\n                                        )\n    \t\t\t\t\t\t\t\t\t&& event.raw.topics[1] == \"0x0000000000000000000000000000000000000000000000000000000000000000\"\n    \t\t\t\t\t\t\t\t\t&& (\n                                            event.raw.topics[2].toLowerCase() == '0x000000000000000000000000' + currentContract.default_account.slice(2).toLowerCase()\n                                            || event.raw.topics[2].toLowerCase() == '0x000000000000000000000000' + allabis.swusd.deposit_address.slice(2).toLowerCase()\n                                            )\n    \t\t\t\t\t\t})[0].raw.data)\n                        await helpers.setTimeoutPromise(100)\n    \t\t\t\t\tawait this.stakeTokens(minted, true)\n                    }\n                    catch(err) {\n                        try {\n                            minted = BN(\n                                Object.values(receipt.logs).filter(event => {\n                                    return (event.address.toLowerCase() == allabis.susdv2.token_address.toLowerCase()\n                                                || event.address.toLowerCase() == allabis.sbtc.token_address.toLowerCase()\n                                                || event.address.toLowerCase() == allabis.swusd.token_address.toLowerCase()\n                                            )\n                                            && event.topics[1] == \"0x0000000000000000000000000000000000000000000000000000000000000000\"\n                                            && (\n                                                event.topics[2].toLowerCase() == '0x000000000000000000000000' + currentContract.default_account.slice(2).toLowerCase()\n                                                || event.raw.topics[2].toLowerCase() == '0x000000000000000000000000' + allabis.swusd.deposit_address.slice(2).toLowerCase()\n                                                )\n                                })[0].data)\n                            await helpers.setTimeoutPromise(100)\n                            await this.stakeTokens(minted, true)\n                        }\n                        catch(err) {\n                            console.error(err)\n                            this.errorStaking = true;\n                        }\n                    }\n\t\t\t\t}\n\t\t\t\tthis.estimateGas = 0\n                this.justDeposit = false\n\n\t\t\t    await this.handle_sync_balances();\n\t\t\t    common.update_fee_info();\n\t\t\t},\n\t\t\thighlightAllInputs() {\n\t\t\t\tfor(let i = 0; i < currentContract.N_COINS; i++) this.highlightInputs(i)\n\t\t\t},\n\t\t\thighlightInputs(i) {\n\t\t\t\tlet value = this.inputs[i]\n                let balance = this.wallet_balances[i]\n                if(this.currentPool == 'susdv2' && i == 3 || this.currentPool == 'sbtc' && i == 2) balance = this.transferableBalance\n\t\t\t\tif (value > balance * this.rates[i])\n\t                Vue.set(this.bgColors, i, 'red');\n\t            else\n\t                Vue.set(this.bgColors, i, 'blue');\n\t\t\t},\n            async getLPCrvReceived() {\n                return this.lpCrvReceived = 0;\n                // blowing up for some reason, not sure\n                let inputs = this.inputs.map(v => v || 0)\n                this.lpCrvReceived = (await currentContract.swap.methods\n                    .calc_token_amount(inputs.map((v, i) => BN(v).div(currentContract.c_rates[i]).toFixed(0,1)), true).call() / 1e18) * this.getMaxSlippage\n            },\n\t\t\tasync change_currency(i, setInputs = true, event) {\n\t\t\t\tif(event) {\n\t\t\t\t\tthis.inputs[i] = event.target.value\n\t\t\t\t}\n                var value = this.inputs[i]\n                this.highlightInputs(i)\n\n                if (this.sync_balances && !this.max_balances) {\n                    for (let j = 0; j < currentContract.N_COINS; j++)\n                        if (j != i) {\n                            var value_j = this.inputs[j]\n\n                            if (this.balances[i] * currentContract.c_rates[i] > 1) {\n                                // proportional\n                                var newval = value / currentContract.c_rates[i] * this.balances[j] / this.balances[i];\n                                newval = Math.floor(newval * currentContract.c_rates[j] * 100) / 100;\n                                setInputs && Vue.set(this.inputs, j, newval);\n\n                            } else {\n                                // same value as we type\n                                var newval = value;\n                                setInputs && Vue.set(this.inputs, j, newval);\n                            }\n\n                            // Balance not enough highlight\n                            if (newval > this.wallet_balances[j] * this.rates[j])\n                                Vue.set(this.bgColors, j, 'red');\n                            else\n                                Vue.set(this.bgColors, j, 'blue');\n                        }\n                }\n                await this.getLPCrvReceived()\n\t            await this.calcSlippage()\n\t        },\n\t        handle_migrate_new() {\n\t        \tcommon.handle_migrate_new('new')\n\t        }\n        }\n    }\n\n</script>\n\n<style>\n\n\t#mintr {\n        margin-top: 1em;\n\t\tmargin-left: 1em;\n\t\ttext-align: center;\n\t}\n \t#stakeunstaked {\n \t\tmargin-left: 1em;\n    }\n    .pulse {\n        background: red;\n        animation: pulse 1s 3;\n        margin: 0;\n        margin-bottom: 8px;\n    }\n    .pulseinfo {\n        animation: pulse 1s 3;\n    }\n    .maxBalanceCoin {\n        cursor: pointer;\n    }\n    .maxBalanceCoin:hover {\n        text-decoration: underline;\n    }\n    .maxBalanceCoin > span {\n        font-size: 0.7em;\n    }\n    .pulse p {\n        margin-bottom: 0;\n    }\n    .currency_label {\n        display: block;\n        margin-bottom: 0.3em;\n    }\n    .currency_label .token-icon {\n        margin-right: 0.6em;\n    }\n    .curvelpusd {\n        display: inline-block;\n        padding-top: 1em;\n    }\n    .advancedoptions {\n        margin-top: 1em;\n    }\n    .advancedoptions + div fieldset {\n        margin-top: 1em;\n    }\n    .advancedoptions + div legend {\n        text-align: center;\n    }\n    #stakepercentage {\n        width: 2.6em;\n    }\n    label[for='stakepercentage'] {\n        margin-right: 1em;\n    }\n    #stakepercentage.invalid, #max_slippage .invalid {\n        background-color: red;\n    }\n    #max_slippage {\n        margin-top: 0.4em;\n    }\n    .do-center {\n        text-align: center;\n    }\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Deposit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Deposit.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Deposit.vue?vue&type=template&id=260f3fba&\"\nimport script from \"./Deposit.vue?vue&type=script&lang=js&\"\nexport * from \"./Deposit.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Deposit.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nmodule.exports = _asyncToGenerator;","'use strict';\nvar $ = require('../internals/export');\nvar $some = require('../internals/array-iteration').some;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar STRICT_METHOD = arrayMethodIsStrict('some');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('some');\n\n// `Array.prototype.some` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.some\n$({ target: 'Array', proto: true, forced: !STRICT_METHOD || !USES_TO_LENGTH }, {\n  some: function some(callbackfn /* , thisArg */) {\n    return $some(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GasPrice.vue?vue&type=style&index=0&id=11f75e20&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GasPrice.vue?vue&type=style&index=0&id=11f75e20&scoped=true&lang=css&\"","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar isForced = require('../internals/is-forced');\nvar redefine = require('../internals/redefine');\nvar has = require('../internals/has');\nvar classof = require('../internals/classof-raw');\nvar inheritIfRequired = require('../internals/inherit-if-required');\nvar toPrimitive = require('../internals/to-primitive');\nvar fails = require('../internals/fails');\nvar create = require('../internals/object-create');\nvar getOwnPropertyNames = require('../internals/object-get-own-property-names').f;\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar defineProperty = require('../internals/object-define-property').f;\nvar trim = require('../internals/string-trim').trim;\n\nvar NUMBER = 'Number';\nvar NativeNumber = global[NUMBER];\nvar NumberPrototype = NativeNumber.prototype;\n\n// Opera ~12 has broken Object#toString\nvar BROKEN_CLASSOF = classof(create(NumberPrototype)) == NUMBER;\n\n// `ToNumber` abstract operation\n// https://tc39.github.io/ecma262/#sec-tonumber\nvar toNumber = function (argument) {\n  var it = toPrimitive(argument, false);\n  var first, third, radix, maxCode, digits, length, index, code;\n  if (typeof it == 'string' && it.length > 2) {\n    it = trim(it);\n    first = it.charCodeAt(0);\n    if (first === 43 || first === 45) {\n      third = it.charCodeAt(2);\n      if (third === 88 || third === 120) return NaN; // Number('+0x1') should be NaN, old V8 fix\n    } else if (first === 48) {\n      switch (it.charCodeAt(1)) {\n        case 66: case 98: radix = 2; maxCode = 49; break; // fast equal of /^0b[01]+$/i\n        case 79: case 111: radix = 8; maxCode = 55; break; // fast equal of /^0o[0-7]+$/i\n        default: return +it;\n      }\n      digits = it.slice(2);\n      length = digits.length;\n      for (index = 0; index < length; index++) {\n        code = digits.charCodeAt(index);\n        // parseInt parses a string to a first unavailable symbol\n        // but ToNumber should return NaN if a string contains unavailable symbols\n        if (code < 48 || code > maxCode) return NaN;\n      } return parseInt(digits, radix);\n    }\n  } return +it;\n};\n\n// `Number` constructor\n// https://tc39.github.io/ecma262/#sec-number-constructor\nif (isForced(NUMBER, !NativeNumber(' 0o1') || !NativeNumber('0b1') || NativeNumber('+0x1'))) {\n  var NumberWrapper = function Number(value) {\n    var it = arguments.length < 1 ? 0 : value;\n    var dummy = this;\n    return dummy instanceof NumberWrapper\n      // check on 1..constructor(foo) case\n      && (BROKEN_CLASSOF ? fails(function () { NumberPrototype.valueOf.call(dummy); }) : classof(dummy) != NUMBER)\n        ? inheritIfRequired(new NativeNumber(toNumber(it)), dummy, NumberWrapper) : toNumber(it);\n  };\n  for (var keys = DESCRIPTORS ? getOwnPropertyNames(NativeNumber) : (\n    // ES3:\n    'MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,' +\n    // ES2015 (in case, if modules with ES2015 Number statics required before):\n    'EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,' +\n    'MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger'\n  ).split(','), j = 0, key; keys.length > j; j++) {\n    if (has(NativeNumber, key = keys[j]) && !has(NumberWrapper, key)) {\n      defineProperty(NumberWrapper, key, getOwnPropertyDescriptor(NativeNumber, key));\n    }\n  }\n  NumberWrapper.prototype = NumberPrototype;\n  NumberPrototype.constructor = NumberWrapper;\n  redefine(global, NUMBER, NumberWrapper);\n}\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Deposit.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Deposit.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('p',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.errorMessage),expression:\"errorMessage\"}],staticClass:\"simple-error pulse\"},[_vm._v(\" \"+_vm._s(_vm.errorMessage)+\" \")]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.gasPriceMedium),expression:\"gasPriceMedium\"}],staticClass:\"do-center\",attrs:{\"id\":\"gas_price\"}},[_c('span',{staticStyle:{\"color\":\"#86fce7\"}},[_vm._v(\"Gas price:\")]),_c('input',{attrs:{\"id\":\"gasstandard\",\"type\":\"radio\",\"name\":\"gas\"},domProps:{\"value\":_vm.gasPriceMedium},on:{\"click\":function($event){_vm.customGasDisabled = true; _vm.gasPrice = _vm.gasPriceMedium}}}),_c('label',{attrs:{\"for\":\"gasstandard\"}},[_vm._v(_vm._s(Math.round(_vm.gasPriceMedium))+\" Standard\")]),_c('input',{attrs:{\"id\":\"gasfast\",\"type\":\"radio\",\"name\":\"gas\",\"checked\":\"\"},domProps:{\"value\":_vm.gasPriceFast},on:{\"click\":function($event){_vm.customGasDisabled = true; _vm.gasPrice = _vm.gasPriceFast}}}),_c('label',{attrs:{\"for\":\"gasfast\"}},[_vm._v(_vm._s(Math.round(_vm.gasPriceFast))+\" Fast\")]),_c('input',{attrs:{\"id\":\"gasinstant\",\"type\":\"radio\",\"name\":\"gas\"},domProps:{\"value\":_vm.gasPriceFastest},on:{\"click\":function($event){_vm.customGasDisabled = true; _vm.gasPrice = _vm.gasPriceFastest}}}),_c('label',{attrs:{\"for\":\"gasinstant\"}},[_vm._v(_vm._s(Math.round(_vm.gasPriceFastest))+\" Instant\")]),_c('input',{attrs:{\"id\":\"custom_gas\",\"type\":\"radio\",\"name\":\"gas\",\"value\":\"-\"},on:{\"click\":function($event){_vm.customGasDisabled = false; _vm.gasPrice = _vm.gasPriceSlow}}}),_c('label',{attrs:{\"for\":\"custom_gas\"},on:{\"click\":function($event){_vm.customGasDisabled = false; _vm.gasPrice = _vm.gasPriceSlow}}},[_c('input',{attrs:{\"type\":\"text\",\"id\":\"custom_gas_input\",\"disabled\":_vm.customGasDisabled,\"name\":\"custom_gas_input\"},domProps:{\"value\":_vm.customGasPriceInput},on:{\"input\":function($event){return _vm.setCustomGas($event)}}}),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.customGasPriceInput == _vm.gasPriceSlow),expression:\"customGasPriceInput == gasPriceSlow\"}]}),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.customGasPriceInput && _vm.customGasPriceInput < _vm.gasPriceSlow),expression:\"customGasPriceInput && customGasPriceInput < gasPriceSlow\"}],staticClass:\"gastoolow\"},[_vm._m(0)])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"tooltip\"},[_vm._v(\" Low \"),_c('span',{staticClass:\"tooltiptext\"},[_vm._v(\" Too low gas price. Your transaction may be dropped. \")])])}]\n\nexport { render, staticRenderFns }","<template>\n    <div>\n        <p class='simple-error pulse' v-show='errorMessage'>\n            {{errorMessage}}\n        </p>\n    \t<div class=\"do-center\" id='gas_price' v-show='gasPriceMedium'><span style=\"color:#86fce7\">Gas price:</span>\n            <input id=\"gasstandard\" type=\"radio\" name=\"gas\" :value='gasPriceMedium' @click='customGasDisabled = true; gasPrice = gasPriceMedium'>\n            <label for=\"gasstandard\">{{Math.round(gasPriceMedium)}} Standard</label>\n\n            <input id=\"gasfast\" type=\"radio\" name=\"gas\" checked :value='gasPriceFast' @click='customGasDisabled = true; gasPrice = gasPriceFast'>\n            <label for=\"gasfast\">{{Math.round(gasPriceFast)}} Fast</label>\n\n            <input id=\"gasinstant\" type=\"radio\" name=\"gas\" :value='gasPriceFastest' @click='customGasDisabled = true; gasPrice = gasPriceFastest'>\n            <label for=\"gasinstant\">{{Math.round(gasPriceFastest)}} Instant</label>\n            <input id=\"custom_gas\" type=\"radio\" name=\"gas\" value='-' @click=\"customGasDisabled = false; gasPrice = gasPriceSlow\">\n            <label for=\"custom_gas\" @click=\"customGasDisabled = false; gasPrice = gasPriceSlow\">\n                <input type=\"text\" id=\"custom_gas_input\" \n                    :disabled='customGasDisabled'\n                    name=\"custom_gas_input\"\n                    :value = 'customGasPriceInput'\n                   \t@input='setCustomGas($event)'>\n                <span v-show='customGasPriceInput == gasPriceSlow'></span>\n                <span v-show='customGasPriceInput && customGasPriceInput < gasPriceSlow' class='gastoolow'> \n                    <span class='tooltip'>\n                        Low\n                        <span class='tooltiptext'>\n                            Too low gas price. Your transaction may be dropped.\n                        </span>\n                    </span>\n                </span>\n            </label>\n        </div>\n    </div>\n</template>\n\n<script>\n\timport { state } from './gasPriceStore'\n    import { state as errorState } from './errorStore'\n    import { retry } from '../../utils/helpers'\n\n    import { setIntervalAsync, clearIntervalAsync } from 'set-interval-async/dynamic'\n\n    import BN from 'bignumber.js'\n\n\n\texport default {\n\t\tdata: () => ({\n            customGasDisabled: true,\n\t\t}),\n\n\t\tcomputed: {\n            gasPriceSlow() {\n                return state.gasPriceInfo && state.gasPriceInfo.low || 15\n            },\n\t\t\tgasPriceMedium() {\n                return state.gasPriceInfo && state.gasPriceInfo.standard || 20\n            },\n            gasPriceFast() {\n                return state.gasPriceInfo && state.gasPriceInfo.fast || 25\n            },\n            gasPriceFastest() {\n                return state.gasPriceInfo && state.gasPriceInfo.instant || 30\n            },\n            gasPrice: {\n            \tget() {\n            \t\treturn state.gasPrice\n            \t},\n            \tset(val) {\n            \t\tstate.gasPrice = val\n            \t},\n            },\n            customGasPriceInput() {\n            \tif(this.customGasDisabled) return this.gasPriceSlow\n            \treturn this.gasPrice\n            },\n            errorMessage() {\n                setTimeout(() => errorState.txError = null, 2200)\n                return errorState.txError\n            },\n\t\t},\n\n\t\tasync created() {\n            !state.fetched && this.getGasPrice()\n            state.gasPriceInterval && clearIntervalAsync(state.gasPriceInterval)\n            if(!state.gasPriceInterval || state.gasPriceInterval.stopped) {\n                state.gasPriceInterval = setIntervalAsync(() => this.getGasPrice(), 3000)\n            }\n\t\t\tthis.$watch(() => state.gasPrice, val => {\n\t\t\t\tstate.gasPriceWei = BN(val).times(1e9).toFixed(0,1)\n\t\t\t}, {\n\t\t\t\timmediate: true,\n\t\t\t})\n\t\t},\n\n        methods: {\n            async getGasPrice() {\n                try {\n                    let gasPriceInfo = await retry(fetch('https://gasprice.poa.network/'))\n                    gasPriceInfo = await gasPriceInfo.json()\n                    state.gasPriceInfo = gasPriceInfo\n                    state.gasPriceInfo.low = state.gasPriceInfo.slow\n                    if(state.gasPriceInfo.fast > 1000) throw new Error('too high!')\n                }\n                catch(err) {\n                    console.error(err)\n                    let gasPrice = (await web3.eth.getGasPrice()) / 1e9;\n                    state.gasPriceInfo = {\n                        low: gasPrice -2,\n                        standard: gasPrice,\n                        fast: gasPrice + 2,\n                        instant: gasPrice + 4,\n                    }\n                }\n            \n                if(!state.fetched) {\n                    state.gasPrice = state.gasPriceInfo.fast\n                    state.fetched = true\n                }\n            },\n\n            async setCustomGas(event) {\n                let value = event.target.value\n                if(event.target.value > this.gasPriceFastest * 2)\n                    value = this.gasPriceFastest * 2\n                this.gasPrice = value\n            },\n        },\n\n\t}\n</script>\n\n<style scoped>\n    .pulse {\n        animation: pulse 1s 3;\n        margin-bottom: 8px;\n    }\n    #custom_gas_wrapper {\n        margin-top: 0.4em;\n        margin-left: 6em;\n        display: block;\n    }\n    .gastoolow {\n        color: darkred;\n    }\n    @media only screen and (max-device-width: 730px) {\n        #custom_gas_wrapper, #gas_price label {\n            margin-top: 0;\n            margin-left: 0;\n        }\n    }\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GasPrice.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GasPrice.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./GasPrice.vue?vue&type=template&id=11f75e20&scoped=true&\"\nimport script from \"./GasPrice.vue?vue&type=script&lang=js&\"\nexport * from \"./GasPrice.vue?vue&type=script&lang=js&\"\nimport style0 from \"./GasPrice.vue?vue&type=style&index=0&id=11f75e20&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"11f75e20\",\n  null\n  \n)\n\nexport default component.exports","import _asyncToGenerator from '@babel/runtime/helpers/asyncToGenerator';\n\n/**\n * Copyright (c) 2019 Emilio Almansi. All rights reserved.\n * This work is licensed under the terms of the MIT license.\n * For a copy, see the file LICENSE in the root directory.\n */\nconst MAX_INTERVAL_MS = Math.pow(2, 31) - 1;\n/**\n * Stops an execution cycle started by setIntervalAsync.<br>\n * Any ongoing function executions will run until completion,\n * but all future ones will be cancelled.\n *\n * @param {SetIntervalAsyncTimer} timer\n * @returns {Promise}\n *          A promise which resolves when all pending executions have finished.\n */\n\nfunction clearIntervalAsync(_x) {\n  return _clearIntervalAsync.apply(this, arguments);\n}\n\nfunction _clearIntervalAsync() {\n  _clearIntervalAsync = _asyncToGenerator(function* (timer) {\n    timer.stopped = true;\n\n    for (var _i = 0, _Object$values = Object.values(timer.timeouts); _i < _Object$values.length; _i++) {\n      const timeout = _Object$values[_i];\n      clearTimeout(timeout);\n    }\n\n    const noop = () => {};\n\n    const promises = Object.values(timer.promises).map(promise => {\n      promise.catch(noop);\n    });\n    const noopInterval = setInterval(noop, MAX_INTERVAL_MS);\n    yield Promise.all(promises);\n    clearInterval(noopInterval);\n  });\n  return _clearIntervalAsync.apply(this, arguments);\n}\n\n/**\n * Copyright (c) 2019 Emilio Almansi. All rights reserved.\n * This work is licensed under the terms of the MIT license.\n * For a copy, see the file LICENSE in the root directory.\n */\n\n/**\n * Error thrown by setIntervalAsync when invalid arguments are provided.\n */\nclass SetIntervalAsyncError extends Error {}\n\nObject.defineProperty(SetIntervalAsyncError.prototype, 'name', {\n  value: 'SetIntervalAsyncError'\n});\n\n/**\n * Copyright (c) 2019 Emilio Almansi. All rights reserved.\n * This work is licensed under the terms of the MIT license.\n * For a copy, see the file LICENSE in the root directory.\n */\nconst MIN_INTERVAL_MS = 10;\n/**\n * @private\n *\n * @param {function} handler - Handler function to be executed in intervals.<br>\n *                             May be asynchronous.\n */\n\nfunction validateHandler(handler) {\n  if (!(typeof handler === 'function')) {\n    throw new SetIntervalAsyncError('Invalid argument: \"handler\". Expected a function.');\n  }\n}\n/**\n * @private\n *\n * @param {number} interval - Interval in milliseconds. Must be at least 10 ms.\n */\n\nfunction validateInterval(interval) {\n  if (!(typeof interval === 'number' && MIN_INTERVAL_MS <= interval)) {\n    throw new SetIntervalAsyncError(`Invalid argument: \"interval\". Expected a number greater than or equal to ${MIN_INTERVAL_MS}.`);\n  }\n}\n\n/**\n * Copyright (c) 2019 Emilio Almansi. All rights reserved.\n * This work is licensed under the terms of the MIT license.\n * For a copy, see the file LICENSE in the root directory.\n */\n\n/**\n * Timer object returned by setIntervalAsync.<br>\n * Can be used together with {@link clearIntervalAsync} to stop execution.\n */\nclass SetIntervalAsyncTimer {\n  constructor() {\n    this.stopped = false;\n    this.id = 0;\n    this.timeouts = {};\n    this.promises = {};\n  }\n\n}\n\n/**\n * Attempts to execute the given handler at regular intervals, while preventing<br>\n * multiple concurrent executions. The handler will never be executed concurrently<br>\n * more than once in any given moment. If the running time of any execution exceeds<br>\n * the desired interval, the following execution will be scheduled as soon as<br>\n * possible; ie. immediately after the previous execution concludes.\n *\n * @param {function} handler - Handler function to be executed in intervals.<br>\n *                             May be asynchronous.\n * @param {number} interval - Interval in milliseconds. Must be at least 10 ms.\n * @param {...*} args - Any number of arguments to pass on to the handler.\n * @returns {SetIntervalAsyncTimer}\n *          A timer object which can be used to stop execution with {@link clearIntervalAsync}.\n *\n * @alias [Dynamic] setIntervalAsync\n */\n\nfunction setIntervalAsync(handler, interval, ...args) {\n  validateHandler(handler);\n  validateInterval(interval);\n  const timer = new SetIntervalAsyncTimer();\n  const id = timer.id;\n  timer.timeouts[id] = setTimeout(timeoutHandler, interval, timer, handler, interval, ...args);\n  return timer;\n}\n\nfunction timeoutHandler(timer, handler, interval, ...args) {\n  const id = timer.id;\n  timer.promises[id] = _asyncToGenerator(function* () {\n    const startTime = new Date();\n\n    try {\n      yield handler(...args);\n    } catch (err) {\n      console.error(err);\n    }\n\n    const endTime = new Date();\n\n    if (!timer.stopped) {\n      const executionTime = endTime - startTime;\n      const timeout = interval > executionTime ? interval - executionTime : 0;\n      timer.timeouts[id + 1] = setTimeout(timeoutHandler, timeout, timer, handler, interval, ...args);\n    }\n\n    delete timer.timeouts[id];\n    delete timer.promises[id];\n  })();\n  timer.id = id + 1;\n}\n\nexport { SetIntervalAsyncError, clearIntervalAsync, setIntervalAsync };\n//# sourceMappingURL=index.mjs.map\n"],"sourceRoot":""}