{"version":3,"sources":["webpack:///./node_modules/set-interval-async/node_modules/@babel/runtime/helpers/asyncToGenerator.js","webpack:///./src/components/common/GasPrice.vue?a0b7","webpack:///./node_modules/core-js/modules/es.array.flat-map.js","webpack:///./node_modules/core-js/modules/es.array.unscopables.flat-map.js","webpack:///./node_modules/core-js/internals/flatten-into-array.js","webpack:///./src/components/CurvePay.vue?05bc","webpack:///./src/components/common/GasPrice.vue?f1bc","webpack:///src/components/common/GasPrice.vue","webpack:///./src/components/common/GasPrice.vue?86bc","webpack:///./src/components/common/GasPrice.vue","webpack:///./src/components/CurvePay.vue?fb0e","webpack:///src/components/CurvePay.vue","webpack:///./src/components/CurvePay.vue?92d4","webpack:///./src/components/CurvePay.vue","webpack:///./node_modules/set-interval-async/dynamic/index.mjs"],"names":["asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","error","done","Promise","then","_asyncToGenerator","fn","self","this","args","arguments","apply","err","undefined","module","exports","$","flattenIntoArray","toObject","toLength","aFunction","arraySpeciesCreate","target","proto","flatMap","callbackfn","A","O","sourceLen","length","addToUnscopables","isArray","bind","original","source","start","depth","mapper","thisArg","element","targetIndex","sourceIndex","mapFn","TypeError","render","_vm","_h","$createElement","_c","_self","directives","name","rawName","expression","staticClass","_v","_s","errorMessage","attrs","staticStyle","domProps","gasPriceMedium","on","$event","customGasDisabled","gasPrice","Math","round","gasPriceFast","gasPriceFastest","gasPriceSlow","customGasPriceInput","setCustomGas","_m","staticRenderFns","component","currency","style","backgroundColor","bgColor","composing","amount","$$selectedVal","Array","prototype","filter","call","options","o","selected","map","val","_value","token","multiple","_l","v","i","balances","includes","toFixed","virtual_prices","setMaxBalance","currentBalance","class","crvAmount","to","isValidAddress","pay","MAX_INTERVAL_MS","pow","clearIntervalAsync","_x","_clearIntervalAsync","timer","stopped","_i","_Object$values","Object","values","timeouts","timeout","clearTimeout","noop","promises","promise","catch","noopInterval","setInterval","all","clearInterval","SetIntervalAsyncError","Error","defineProperty","MIN_INTERVAL_MS","validateHandler","handler","validateInterval","interval","SetIntervalAsyncTimer","id","setIntervalAsync","setTimeout","timeoutHandler","startTime","Date","console","endTime","executionTime"],"mappings":"qGAAA,SAASA,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQC,EAAKC,GACpE,IACE,IAAIC,EAAOP,EAAIK,GAAKC,GAChBE,EAAQD,EAAKC,MACjB,MAAOC,GAEP,YADAP,EAAOO,GAILF,EAAKG,KACPT,EAAQO,GAERG,QAAQV,QAAQO,GAAOI,KAAKT,EAAOC,GAIvC,SAASS,EAAkBC,GACzB,OAAO,WACL,IAAIC,EAAOC,KACPC,EAAOC,UACX,OAAO,IAAIP,SAAQ,SAAUV,EAASC,GACpC,IAAIF,EAAMc,EAAGK,MAAMJ,EAAME,GAEzB,SAASd,EAAMK,GACbT,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQ,OAAQI,GAGlE,SAASJ,EAAOgB,GACdrB,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQ,QAASgB,GAGnEjB,OAAMkB,O,UAKZC,EAAOC,QAAUV,G,kCCpCjB,yBAAyf,EAAG,G,oCCC5f,IAAIW,EAAI,EAAQ,QACZC,EAAmB,EAAQ,QAC3BC,EAAW,EAAQ,QACnBC,EAAW,EAAQ,QACnBC,EAAY,EAAQ,QACpBC,EAAqB,EAAQ,QAIjCL,EAAE,CAAEM,OAAQ,QAASC,OAAO,GAAQ,CAClCC,QAAS,SAAiBC,GACxB,IAEIC,EAFAC,EAAIT,EAASV,MACboB,EAAYT,EAASQ,EAAEE,QAK3B,OAHAT,EAAUK,GACVC,EAAIL,EAAmBM,EAAG,GAC1BD,EAAEG,OAASZ,EAAiBS,EAAGC,EAAGA,EAAGC,EAAW,EAAG,EAAGH,EAAYf,UAAUmB,OAAS,EAAInB,UAAU,QAAKG,GACjGa,M,gDChBX,IAAII,EAAmB,EAAQ,QAE/BA,EAAiB,Y,kCCHjB,IAAIC,EAAU,EAAQ,QAClBZ,EAAW,EAAQ,QACnBa,EAAO,EAAQ,QAIff,EAAmB,SAAUK,EAAQW,EAAUC,EAAQN,EAAWO,EAAOC,EAAOC,EAAQC,GAC1F,IAGIC,EAHAC,EAAcL,EACdM,EAAc,EACdC,IAAQL,GAASL,EAAKK,EAAQC,EAAS,GAG3C,MAAOG,EAAcb,EAAW,CAC9B,GAAIa,KAAeP,EAAQ,CAGzB,GAFAK,EAAUG,EAAQA,EAAMR,EAAOO,GAAcA,EAAaR,GAAYC,EAAOO,GAEzEL,EAAQ,GAAKL,EAAQQ,GACvBC,EAAcvB,EAAiBK,EAAQW,EAAUM,EAASpB,EAASoB,EAAQV,QAASW,EAAaJ,EAAQ,GAAK,MACzG,CACL,GAAII,GAAe,iBAAkB,MAAMG,UAAU,sCACrDrB,EAAOkB,GAAeD,EAGxBC,IAEFC,IAEF,OAAOD,GAGT1B,EAAOC,QAAUE,G,kCC/BjB,yBAAue,EAAG,G,yDCA1e,IAAI2B,EAAS,WAAa,IAAIC,EAAIrC,KAASsC,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,IAAI,CAACE,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASpD,MAAO6C,EAAgB,aAAEQ,WAAW,iBAAiBC,YAAY,sBAAsB,CAACT,EAAIU,GAAG,IAAIV,EAAIW,GAAGX,EAAIY,cAAc,OAAOT,EAAG,MAAM,CAACE,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASpD,MAAO6C,EAAkB,eAAEQ,WAAW,mBAAmBC,YAAY,YAAYI,MAAM,CAAC,GAAK,cAAc,CAACV,EAAG,OAAO,CAACW,YAAY,CAAC,MAAQ,YAAY,CAACd,EAAIU,GAAG,gBAAgBP,EAAG,QAAQ,CAACU,MAAM,CAAC,GAAK,cAAc,KAAO,QAAQ,KAAO,OAAOE,SAAS,CAAC,MAAQf,EAAIgB,gBAAgBC,GAAG,CAAC,MAAQ,SAASC,GAAQlB,EAAImB,mBAAoB,EAAMnB,EAAIoB,SAAWpB,EAAIgB,mBAAmBb,EAAG,QAAQ,CAACU,MAAM,CAAC,IAAM,gBAAgB,CAACb,EAAIU,GAAGV,EAAIW,GAAGU,KAAKC,MAAMtB,EAAIgB,iBAAiB,eAAeb,EAAG,QAAQ,CAACU,MAAM,CAAC,GAAK,UAAU,KAAO,QAAQ,KAAO,MAAM,QAAU,IAAIE,SAAS,CAAC,MAAQf,EAAIuB,cAAcN,GAAG,CAAC,MAAQ,SAASC,GAAQlB,EAAImB,mBAAoB,EAAMnB,EAAIoB,SAAWpB,EAAIuB,iBAAiBpB,EAAG,QAAQ,CAACU,MAAM,CAAC,IAAM,YAAY,CAACb,EAAIU,GAAGV,EAAIW,GAAGU,KAAKC,MAAMtB,EAAIuB,eAAe,WAAWpB,EAAG,QAAQ,CAACU,MAAM,CAAC,GAAK,aAAa,KAAO,QAAQ,KAAO,OAAOE,SAAS,CAAC,MAAQf,EAAIwB,iBAAiBP,GAAG,CAAC,MAAQ,SAASC,GAAQlB,EAAImB,mBAAoB,EAAMnB,EAAIoB,SAAWpB,EAAIwB,oBAAoBrB,EAAG,QAAQ,CAACU,MAAM,CAAC,IAAM,eAAe,CAACb,EAAIU,GAAGV,EAAIW,GAAGU,KAAKC,MAAMtB,EAAIwB,kBAAkB,cAAcrB,EAAG,QAAQ,CAACU,MAAM,CAAC,GAAK,aAAa,KAAO,QAAQ,KAAO,MAAM,MAAQ,KAAKI,GAAG,CAAC,MAAQ,SAASC,GAAQlB,EAAImB,mBAAoB,EAAOnB,EAAIoB,SAAWpB,EAAIyB,iBAAiBtB,EAAG,QAAQ,CAACU,MAAM,CAAC,IAAM,cAAcI,GAAG,CAAC,MAAQ,SAASC,GAAQlB,EAAImB,mBAAoB,EAAOnB,EAAIoB,SAAWpB,EAAIyB,gBAAgB,CAACtB,EAAG,QAAQ,CAACU,MAAM,CAAC,KAAO,OAAO,GAAK,mBAAmB,SAAWb,EAAImB,kBAAkB,KAAO,oBAAoBJ,SAAS,CAAC,MAAQf,EAAI0B,qBAAqBT,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOlB,EAAI2B,aAAaT,OAAYf,EAAG,OAAO,CAACE,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASpD,MAAO6C,EAAI0B,qBAAuB1B,EAAIyB,aAAcjB,WAAW,0CAA0CL,EAAG,OAAO,CAACE,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASpD,MAAO6C,EAAI0B,qBAAuB1B,EAAI0B,oBAAsB1B,EAAIyB,aAAcjB,WAAW,8DAA8DC,YAAY,aAAa,CAACT,EAAI4B,GAAG,YAC9yEC,EAAkB,CAAC,WAAa,IAAI7B,EAAIrC,KAASsC,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,OAAO,CAACM,YAAY,WAAW,CAACT,EAAIU,GAAG,SAASP,EAAG,OAAO,CAACM,YAAY,eAAe,CAACT,EAAIU,GAAG,+D,2HC4C3M,GACA,uBACM,mBAAN,IAGA,UACI,aADJ,WAEM,OAAN,kDAEA,eAJA,WAKM,OAAN,uDAEI,aAPJ,WAQM,OAAN,mDAEI,gBAVJ,WAWM,OAAN,sDAEI,SAAJ,CACM,IADN,WAEQ,OAAR,iBAEM,IAJN,SAIA,GACQ,EAAR,kBAGI,oBArBJ,WAsBM,OAAN,yCACA,eAEI,aAzBJ,WA2BM,OADA,YAAN,WAAQ,OAAR,4BACA,iBAIA,QApCA,WAoCA,yJACA,gCACA,kFACA,4DACgB,EAAhB,+FAEA,2DACA,oDACA,CACA,eATA,8CAaE,QAAF,CACI,YADJ,WACM,OAAN,qDAAQ,IAAR,IAAQ,OAAR,qCAAU,MAAV,EAAY,OAAZ,+CAEA,uDAFA,cAEgB,EAFhB,gBAGA,SAHA,UAGgB,EAHhB,OAIgB,EAAhB,oBACgB,EAAhB,iDACA,8BANA,uBAMA,uBANA,oEASgB,QAAhB,YATA,UAUA,uBAVA,oBAUgB,EAVhB,KAUA,IACgB,EAAhB,mBACkB,IAAlB,IACkB,SAAlB,EACkB,KAAlB,IACkB,QAAlB,KAfA,QAmBA,iBACkB,EAAlB,uCACkB,EAAlB,iBArBA,6DAyBI,aA1BJ,SA0BA,GAAM,IAAN,OAAM,OAAN,qDAAQ,IAAR,EAAQ,OAAR,qCAAU,MAAV,EAAY,OAAZ,sBACgB,EAAhB,eACA,qCACA,uBACgB,EAAhB,WAJA,gDCxHiW,I,wBCQ7VoB,EAAY,eACd,EACA/B,EACA8B,GACA,EACA,KACA,WACA,MAIa,OAAAC,E,kDCnBf,IAAI/B,EAAS,WAAa,IAAIC,EAAIrC,KAASsC,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACM,YAAY,gBAAgB,CAACN,EAAG,WAAW,CAACA,EAAG,SAAS,CAACH,EAAIU,GAAG,UAAUV,EAAIW,GAAGX,EAAI+B,UAAU,yBAAyB5B,EAAG,MAAM,CAACM,YAAY,gBAAgB,CAACN,EAAG,MAAM,CAACM,YAAY,kBAAkB,CAACN,EAAG,QAAQ,CAACU,MAAM,CAAC,IAAM,cAAc,CAACb,EAAIU,GAAG,aAAaV,EAAIW,GAAGX,EAAI+B,UAAU,OAAO5B,EAAG,QAAQ,CAACE,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUpD,MAAO6C,EAAU,OAAEQ,WAAW,WAAWwB,MAAM,CAAEC,gBAAiBjC,EAAIkC,SAAUrB,MAAM,CAAC,KAAO,OAAO,GAAK,aAAaE,SAAS,CAAC,MAASf,EAAU,QAAGiB,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOzC,OAAO0D,YAAqBnC,EAAIoC,OAAOlB,EAAOzC,OAAOtB,aAAYgD,EAAG,SAAS,CAACE,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUpD,MAAO6C,EAAS,MAAEQ,WAAW,UAAUC,YAAY,UAAUQ,GAAG,CAAC,OAAS,SAASC,GAAQ,IAAImB,EAAgBC,MAAMC,UAAUC,OAAOC,KAAKvB,EAAOzC,OAAOiE,SAAQ,SAASC,GAAG,OAAOA,EAAEC,YAAWC,KAAI,SAASF,GAAG,IAAIG,EAAM,WAAYH,EAAIA,EAAEI,OAASJ,EAAExF,MAAM,OAAO2F,KAAO9C,EAAIgD,MAAM9B,EAAOzC,OAAOwE,SAAWZ,EAAgBA,EAAc,MAAMrC,EAAIkD,GAAIlD,EAAc,YAAE,SAASmD,EAAEC,GAAG,OAAOjD,EAAG,SAAS,CAACY,SAAS,CAAC,MAAQoC,IAAI,CAACnD,EAAIU,GAAGV,EAAIW,GAAGwC,GAAG,IAAInD,EAAIW,GAAGX,EAAIqD,SAASD,KAAO,CAAC,SAAU,WAAWE,SAASH,GAAK,IAAM,KAAOnD,EAAIuD,QAAQvD,EAAIqD,SAASD,GAAKpD,EAAIwD,eAAeJ,GAAK,KAAMD,IAAI,UAAS,GAAGhD,EAAG,MAAM,CAACU,MAAM,CAAC,GAAK,WAAWI,GAAG,CAAC,MAAQjB,EAAIyD,gBAAgB,CAACzD,EAAIU,GAAG,aAAaV,EAAIW,IAAIX,EAAI0D,eAAiB,MAAOH,QAAQ,IAAI,QAAQpD,EAAG,MAAM,CAACM,YAAY,eAAeN,EAAG,MAAM,CAACH,EAAIU,GAAG,cAAcV,EAAIW,GAAGX,EAAIgD,OAAO,MAAM7C,EAAG,OAAO,CAACwD,MAAM,CAAC,eAAiC,MAAjB3D,EAAI4D,YAAoB,CAACzD,EAAG,OAAO,CAACE,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASpD,MAAwB,MAAjB6C,EAAI4D,UAAmBpD,WAAW,uBAAuB,CAACR,EAAIU,GAAG,IAAIV,EAAIW,GAAGX,EAAI4D,WAAW,WAAWzD,EAAG,MAAM,CAACM,YAAY,eAAeN,EAAG,QAAQ,CAACU,MAAM,CAAC,IAAM,YAAY,CAACb,EAAIU,GAAG,kBAAkBP,EAAG,QAAQ,CAACE,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUpD,MAAO6C,EAAM,GAAEQ,WAAW,OAAOK,MAAM,CAAC,KAAO,OAAO,GAAK,WAAWE,SAAS,CAAC,MAASf,EAAM,IAAGiB,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOzC,OAAO0D,YAAqBnC,EAAI6D,GAAG3C,EAAOzC,OAAOtB,WAAUgD,EAAG,MAAM,CAACM,YAAY,yBAAyBN,EAAG,IAAI,CAACE,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASpD,MAAO6C,EAAI6D,KAAO7D,EAAI8D,eAAgBtD,WAAW,0BAA0BC,YAAY,gBAAgB,CAACT,EAAIU,GAAG,gCAAgCP,EAAG,MAAM,CAACM,YAAY,yBAAyBN,EAAG,SAAS,CAACU,MAAM,CAAC,GAAK,SAAS,UAAYb,EAAI8D,gBAAgB7C,GAAG,CAAC,MAAQjB,EAAI+D,MAAM,CAAC/D,EAAIU,GAAG,WAAWP,EAAG,cAAc,MACzgF0B,EAAkB,G,iRCoDtB,GACA,YACA,iBAEA,uBACA,aACA,0EACA,UACA,aACA,SACA,oBACA,YACA,kBACA,cACA,eACA,QACA,iBAEA,OACA,OADA,WAEA,yBAEA,MAJA,WAKA,0BAGA,UACA,eADA,WAEA,0CACA,mDAEA,UALA,WAMA,6BACA,0CACA,uCACA,oCACA,2FACA,UAEA,KAbA,WAcA,sFAEA,eAhBA,WAiBA,6CAEA,SAnBA,WAoBA,6DAEA,YAtBA,WAuBA,4BAGA,QApDA,WAqDA,0DAEA,QAvDA,WAuDA,WACA,uFACA,GACA,eAEA,8BAEA,GADA,oBACA,GACA,+FACA,gCAGA,SACA,QADA,WACA,wJACA,2GACA,kHACA,WACA,kGACA,+FAEA,mBAPA,8CASA,QAVA,SAUA,8KACA,EADA,mCACA,qBADA,YACA,QADA,aAEA,oBAFA,EAEA,QAEgB,EAAhB,0CAJA,kBAOA,2BACA,mCACA,MACA,4BACA,uBACoB,IAApB,QAEA,oCACoB,IACA,OAApB,OAAoB,CAApB,GACoB,OATpB,UAWA,YACoB,IACA,EAApB,SArBA,0DA0BgB,QAAhB,UACgB,EAAhB,WA3BA,4DA8BA,IAxCA,WAwCA,qKACA,gCACA,mFACA,sEACA,6CAEA,UACA,oCAPA,mBAQA,uBACA,iCATA,gCASA,+CATA,wBAWA,qDACA,MACA,4BACA,uBACA,UAfA,QAiBA,mBAjBA,+CAmBA,eA3DA,WA2DA,yKACA,gCACA,OACA,+FACA,gFAGA,yIAPA,SAQA,6CARA,OAQA,EARA,OASA,mFACA,gEACA,sCACA,sEAEA,2EACA,2EAfA,+CAiBA,iBA5EA,WA6EA,0CACA,wEACA,wEACA,qBAEA,cAlFA,WAmFA,0DAEA,QArFA,SAqFA,KACA,sDACA,gBC/MkV,I,wBCQ9UC,EAAY,eACd,EACA/B,EACA8B,GACA,EACA,KACA,WACA,MAIa,aAAAC,E,2CCnBf,iLAOA,MAAMkC,EAAkB3C,KAAK4C,IAAI,EAAG,IAAM,EAW1C,SAASC,EAAmBC,GAC1B,OAAOC,EAAoBtG,MAAMH,KAAME,WAGzC,SAASuG,IAkBP,OAjBAA,EAAsB,GAAkB,UAAWC,GACjDA,EAAMC,SAAU,EAEhB,IAAK,IAAIC,EAAK,EAAGC,EAAiBC,OAAOC,OAAOL,EAAMM,UAAWJ,EAAKC,EAAexF,OAAQuF,IAAM,CACjG,MAAMK,EAAUJ,EAAeD,GAC/BM,aAAaD,GAGf,MAAME,EAAO,OAEPC,EAAWN,OAAOC,OAAOL,EAAMU,UAAUlC,IAAImC,IACjDA,EAAQC,MAAMH,KAEVI,EAAeC,YAAYL,EAAMd,SACjC1G,QAAQ8H,IAAIL,GAClBM,cAAcH,MAETd,EAAoBtG,MAAMH,KAAME,WAYzC,MAAMyH,UAA8BC,OAEpCd,OAAOe,eAAeF,EAAsB/C,UAAW,OAAQ,CAC7DpF,MAAO,0BAQT,MAAMsI,EAAkB,GAQxB,SAASC,EAAgBC,GACvB,GAAyB,oBAAZA,EACX,MAAM,IAAIL,EAAsB,qDASpC,SAASM,EAAiBC,GACxB,KAA0B,kBAAbA,GAAyBJ,GAAmBI,GACvD,MAAM,IAAIP,EAAsB,4EAA4EG,MAchH,MAAMK,EACJ,cACEnI,KAAK2G,SAAU,EACf3G,KAAKoI,GAAK,EACVpI,KAAKgH,SAAW,GAChBhH,KAAKoH,SAAW,IAsBpB,SAASiB,EAAiBL,EAASE,KAAajI,GAC9C8H,EAAgBC,GAChBC,EAAiBC,GACjB,MAAMxB,EAAQ,IAAIyB,EACZC,EAAK1B,EAAM0B,GAEjB,OADA1B,EAAMM,SAASoB,GAAME,WAAWC,EAAgBL,EAAUxB,EAAOsB,EAASE,KAAajI,GAChFyG,EAGT,SAAS6B,EAAe7B,EAAOsB,EAASE,KAAajI,GACnD,MAAMmI,EAAK1B,EAAM0B,GACjB1B,EAAMU,SAASgB,GAAM,GAAkB,YACrC,MAAMI,EAAY,IAAIC,KAEtB,UACQT,KAAW/H,GACjB,MAAOG,GACPsI,QAAQjJ,MAAMW,GAGhB,MAAMuI,EAAU,IAAIF,KAEpB,IAAK/B,EAAMC,QAAS,CAClB,MAAMiC,EAAgBD,EAAUH,EAC1BvB,EAAUiB,EAAWU,EAAgBV,EAAWU,EAAgB,EACtElC,EAAMM,SAASoB,EAAK,GAAKE,WAAWC,EAAgBtB,EAASP,EAAOsB,EAASE,KAAajI,UAGrFyG,EAAMM,SAASoB,UACf1B,EAAMU,SAASgB,KAlBH,GAoBrB1B,EAAM0B,GAAKA,EAAK","file":"js/chunk-12fea6ec.18797aea.js","sourcesContent":["function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nmodule.exports = _asyncToGenerator;","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GasPrice.vue?vue&type=style&index=0&id=11f75e20&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GasPrice.vue?vue&type=style&index=0&id=11f75e20&scoped=true&lang=css&\"","'use strict';\nvar $ = require('../internals/export');\nvar flattenIntoArray = require('../internals/flatten-into-array');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar aFunction = require('../internals/a-function');\nvar arraySpeciesCreate = require('../internals/array-species-create');\n\n// `Array.prototype.flatMap` method\n// https://github.com/tc39/proposal-flatMap\n$({ target: 'Array', proto: true }, {\n  flatMap: function flatMap(callbackfn /* , thisArg */) {\n    var O = toObject(this);\n    var sourceLen = toLength(O.length);\n    var A;\n    aFunction(callbackfn);\n    A = arraySpeciesCreate(O, 0);\n    A.length = flattenIntoArray(A, O, O, sourceLen, 0, 1, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n    return A;\n  }\n});\n","// this method was added to unscopables after implementation\n// in popular engines, so it's moved to a separate module\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\naddToUnscopables('flatMap');\n","'use strict';\nvar isArray = require('../internals/is-array');\nvar toLength = require('../internals/to-length');\nvar bind = require('../internals/function-bind-context');\n\n// `FlattenIntoArray` abstract operation\n// https://tc39.github.io/proposal-flatMap/#sec-FlattenIntoArray\nvar flattenIntoArray = function (target, original, source, sourceLen, start, depth, mapper, thisArg) {\n  var targetIndex = start;\n  var sourceIndex = 0;\n  var mapFn = mapper ? bind(mapper, thisArg, 3) : false;\n  var element;\n\n  while (sourceIndex < sourceLen) {\n    if (sourceIndex in source) {\n      element = mapFn ? mapFn(source[sourceIndex], sourceIndex, original) : source[sourceIndex];\n\n      if (depth > 0 && isArray(element)) {\n        targetIndex = flattenIntoArray(target, original, element, toLength(element.length), targetIndex, depth - 1) - 1;\n      } else {\n        if (targetIndex >= 0x1FFFFFFFFFFFFF) throw TypeError('Exceed the acceptable array length');\n        target[targetIndex] = element;\n      }\n\n      targetIndex++;\n    }\n    sourceIndex++;\n  }\n  return targetIndex;\n};\n\nmodule.exports = flattenIntoArray;\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CurvePay.vue?vue&type=style&index=0&id=bb9f26a0&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CurvePay.vue?vue&type=style&index=0&id=bb9f26a0&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('p',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.errorMessage),expression:\"errorMessage\"}],staticClass:\"simple-error pulse\"},[_vm._v(\" \"+_vm._s(_vm.errorMessage)+\" \")]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.gasPriceMedium),expression:\"gasPriceMedium\"}],staticClass:\"do-center\",attrs:{\"id\":\"gas_price\"}},[_c('span',{staticStyle:{\"color\":\"#86fce7\"}},[_vm._v(\"Gas price:\")]),_c('input',{attrs:{\"id\":\"gasstandard\",\"type\":\"radio\",\"name\":\"gas\"},domProps:{\"value\":_vm.gasPriceMedium},on:{\"click\":function($event){_vm.customGasDisabled = true; _vm.gasPrice = _vm.gasPriceMedium}}}),_c('label',{attrs:{\"for\":\"gasstandard\"}},[_vm._v(_vm._s(Math.round(_vm.gasPriceMedium))+\" Standard\")]),_c('input',{attrs:{\"id\":\"gasfast\",\"type\":\"radio\",\"name\":\"gas\",\"checked\":\"\"},domProps:{\"value\":_vm.gasPriceFast},on:{\"click\":function($event){_vm.customGasDisabled = true; _vm.gasPrice = _vm.gasPriceFast}}}),_c('label',{attrs:{\"for\":\"gasfast\"}},[_vm._v(_vm._s(Math.round(_vm.gasPriceFast))+\" Fast\")]),_c('input',{attrs:{\"id\":\"gasinstant\",\"type\":\"radio\",\"name\":\"gas\"},domProps:{\"value\":_vm.gasPriceFastest},on:{\"click\":function($event){_vm.customGasDisabled = true; _vm.gasPrice = _vm.gasPriceFastest}}}),_c('label',{attrs:{\"for\":\"gasinstant\"}},[_vm._v(_vm._s(Math.round(_vm.gasPriceFastest))+\" Instant\")]),_c('input',{attrs:{\"id\":\"custom_gas\",\"type\":\"radio\",\"name\":\"gas\",\"value\":\"-\"},on:{\"click\":function($event){_vm.customGasDisabled = false; _vm.gasPrice = _vm.gasPriceSlow}}}),_c('label',{attrs:{\"for\":\"custom_gas\"},on:{\"click\":function($event){_vm.customGasDisabled = false; _vm.gasPrice = _vm.gasPriceSlow}}},[_c('input',{attrs:{\"type\":\"text\",\"id\":\"custom_gas_input\",\"disabled\":_vm.customGasDisabled,\"name\":\"custom_gas_input\"},domProps:{\"value\":_vm.customGasPriceInput},on:{\"input\":function($event){return _vm.setCustomGas($event)}}}),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.customGasPriceInput == _vm.gasPriceSlow),expression:\"customGasPriceInput == gasPriceSlow\"}]}),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.customGasPriceInput && _vm.customGasPriceInput < _vm.gasPriceSlow),expression:\"customGasPriceInput && customGasPriceInput < gasPriceSlow\"}],staticClass:\"gastoolow\"},[_vm._m(0)])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"tooltip\"},[_vm._v(\" Low \"),_c('span',{staticClass:\"tooltiptext\"},[_vm._v(\" Too low gas price. Your transaction may be dropped. \")])])}]\n\nexport { render, staticRenderFns }","<template>\n    <div>\n        <p class='simple-error pulse' v-show='errorMessage'>\n            {{errorMessage}}\n        </p>\n    \t<div class=\"do-center\" id='gas_price' v-show='gasPriceMedium'><span style=\"color:#86fce7\">Gas price:</span>\n            <input id=\"gasstandard\" type=\"radio\" name=\"gas\" :value='gasPriceMedium' @click='customGasDisabled = true; gasPrice = gasPriceMedium'>\n            <label for=\"gasstandard\">{{Math.round(gasPriceMedium)}} Standard</label>\n\n            <input id=\"gasfast\" type=\"radio\" name=\"gas\" checked :value='gasPriceFast' @click='customGasDisabled = true; gasPrice = gasPriceFast'>\n            <label for=\"gasfast\">{{Math.round(gasPriceFast)}} Fast</label>\n\n            <input id=\"gasinstant\" type=\"radio\" name=\"gas\" :value='gasPriceFastest' @click='customGasDisabled = true; gasPrice = gasPriceFastest'>\n            <label for=\"gasinstant\">{{Math.round(gasPriceFastest)}} Instant</label>\n            <input id=\"custom_gas\" type=\"radio\" name=\"gas\" value='-' @click=\"customGasDisabled = false; gasPrice = gasPriceSlow\">\n            <label for=\"custom_gas\" @click=\"customGasDisabled = false; gasPrice = gasPriceSlow\">\n                <input type=\"text\" id=\"custom_gas_input\" \n                    :disabled='customGasDisabled'\n                    name=\"custom_gas_input\"\n                    :value = 'customGasPriceInput'\n                   \t@input='setCustomGas($event)'>\n                <span v-show='customGasPriceInput == gasPriceSlow'></span>\n                <span v-show='customGasPriceInput && customGasPriceInput < gasPriceSlow' class='gastoolow'> \n                    <span class='tooltip'>\n                        Low\n                        <span class='tooltiptext'>\n                            Too low gas price. Your transaction may be dropped.\n                        </span>\n                    </span>\n                </span>\n            </label>\n        </div>\n    </div>\n</template>\n\n<script>\n\timport { state } from './gasPriceStore'\n    import { state as errorState } from './errorStore'\n    import { retry } from '../../utils/helpers'\n\n    import { setIntervalAsync, clearIntervalAsync } from 'set-interval-async/dynamic'\n\n    import BN from 'bignumber.js'\n\n\n\texport default {\n\t\tdata: () => ({\n            customGasDisabled: true,\n\t\t}),\n\n\t\tcomputed: {\n            gasPriceSlow() {\n                return state.gasPriceInfo && state.gasPriceInfo.low || 15\n            },\n\t\t\tgasPriceMedium() {\n                return state.gasPriceInfo && state.gasPriceInfo.standard || 20\n            },\n            gasPriceFast() {\n                return state.gasPriceInfo && state.gasPriceInfo.fast || 25\n            },\n            gasPriceFastest() {\n                return state.gasPriceInfo && state.gasPriceInfo.instant || 30\n            },\n            gasPrice: {\n            \tget() {\n            \t\treturn state.gasPrice\n            \t},\n            \tset(val) {\n            \t\tstate.gasPrice = val\n            \t},\n            },\n            customGasPriceInput() {\n            \tif(this.customGasDisabled) return this.gasPriceSlow\n            \treturn this.gasPrice\n            },\n            errorMessage() {\n                setTimeout(() => errorState.txError = null, 2200)\n                return errorState.txError\n            },\n\t\t},\n\n\t\tasync created() {\n            !state.fetched && this.getGasPrice()\n            state.gasPriceInterval && clearIntervalAsync(state.gasPriceInterval)\n            if(!state.gasPriceInterval || state.gasPriceInterval.stopped) {\n                state.gasPriceInterval = setIntervalAsync(() => this.getGasPrice(), 3000)\n            }\n\t\t\tthis.$watch(() => state.gasPrice, val => {\n\t\t\t\tstate.gasPriceWei = BN(val).times(1e9).toFixed(0,1)\n\t\t\t}, {\n\t\t\t\timmediate: true,\n\t\t\t})\n\t\t},\n\n        methods: {\n            async getGasPrice() {\n                try {\n                    let gasPriceInfo = await retry(fetch('https://gasprice.poa.network/'))\n                    gasPriceInfo = await gasPriceInfo.json()\n                    state.gasPriceInfo = gasPriceInfo\n                    state.gasPriceInfo.low = state.gasPriceInfo.slow\n                    if(state.gasPriceInfo.fast > 1000) throw new Error('too high!')\n                }\n                catch(err) {\n                    console.error(err)\n                    let gasPrice = (await web3.eth.getGasPrice()) / 1e9;\n                    state.gasPriceInfo = {\n                        low: gasPrice -2,\n                        standard: gasPrice,\n                        fast: gasPrice + 2,\n                        instant: gasPrice + 4,\n                    }\n                }\n            \n                if(!state.fetched) {\n                    state.gasPrice = state.gasPriceInfo.fast\n                    state.fetched = true\n                }\n            },\n\n            async setCustomGas(event) {\n                let value = event.target.value\n                if(event.target.value > this.gasPriceFastest * 2)\n                    value = this.gasPriceFastest * 2\n                this.gasPrice = value\n            },\n        },\n\n\t}\n</script>\n\n<style scoped>\n    .pulse {\n        animation: pulse 1s 3;\n        margin-bottom: 8px;\n    }\n    #custom_gas_wrapper {\n        margin-top: 0.4em;\n        margin-left: 6em;\n        display: block;\n    }\n    .gastoolow {\n        color: darkred;\n    }\n    @media only screen and (max-device-width: 730px) {\n        #custom_gas_wrapper, #gas_price label {\n            margin-top: 0;\n            margin-left: 0;\n        }\n    }\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GasPrice.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GasPrice.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./GasPrice.vue?vue&type=template&id=11f75e20&scoped=true&\"\nimport script from \"./GasPrice.vue?vue&type=script&lang=js&\"\nexport * from \"./GasPrice.vue?vue&type=script&lang=js&\"\nimport style0 from \"./GasPrice.vue?vue&type=style&index=0&id=11f75e20&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"11f75e20\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"white window\"},[_c('fieldset',[_c('legend',[_vm._v(\"Pay in \"+_vm._s(_vm.currency)+\" with Swerve tokens\")]),_c('div',{staticClass:\"paycontainer\"},[_c('div',{staticClass:\"inputcontainer\"},[_c('label',{attrs:{\"for\":\"payamount\"}},[_vm._v(\"Amount in \"+_vm._s(_vm.currency)+\":\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.amount),expression:\"amount\"}],style:({backgroundColor: _vm.bgColor}),attrs:{\"type\":\"text\",\"id\":\"payamount\"},domProps:{\"value\":(_vm.amount)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.amount=$event.target.value}}})]),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.token),expression:\"token\"}],staticClass:\"tvision\",on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.token=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.tokenNames),function(v,i){return _c('option',{domProps:{\"value\":v}},[_vm._v(_vm._s(v)+\" \"+_vm._s(_vm.balances[i] && (['renCrv', 'sbtcCrv'].includes(v) ? '₿' : '$') + _vm.toFixed(_vm.balances[i] * _vm.virtual_prices[i] / 1e36, v))+\" \")])}),0),_c('div',{attrs:{\"id\":\"balance\"},on:{\"click\":_vm.setMaxBalance}},[_vm._v(\" Balance: \"+_vm._s((_vm.currentBalance / 1e36 ).toFixed(2))+\"$ \")]),_c('div',{staticClass:\"flex-break\"}),_c('div',[_vm._v(\" Amount in \"+_vm._s(_vm.token)+\": \"),_c('span',{class:{'loading line': _vm.crvAmount == null}},[_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.crvAmount != null),expression:\"crvAmount != null\"}]},[_vm._v(\" \"+_vm._s(_vm.crvAmount)+\" \")])])]),_c('div',{staticClass:\"flex-break\"}),_c('label',{attrs:{\"for\":\"address\"}},[_vm._v(\"ETH address:\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.to),expression:\"to\"}],attrs:{\"type\":\"text\",\"id\":\"address\"},domProps:{\"value\":(_vm.to)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.to=$event.target.value}}}),_c('div',{staticClass:\"flex-breakc noheight\"}),_c('p',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.to && !_vm.isValidAddress),expression:\"to && !isValidAddress\"}],staticClass:\"simple-error\"},[_vm._v(\" Please enter ETH address \")]),_c('div',{staticClass:\"flex-breakc noheight\"}),_c('button',{attrs:{\"id\":\"submit\",\"disabled\":!_vm.isValidAddress},on:{\"click\":_vm.pay}},[_vm._v(\"Pay\")])]),_c('gas-price')],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div class='white window'>\n\t\t<fieldset>\n\t\t\t<legend>Pay in {{ currency }} with Swerve tokens</legend>\n\t\t\t<div class='paycontainer'>\n\t\t\t\t\t<div class='inputcontainer'>\n\t\t\t\t\t\t<label for='payamount'>Amount in {{ currency }}:</label>\n\t\t\t\t\t\t<input type='text' :style = \"{backgroundColor: bgColor}\" v-model='amount' id='payamount'>\n\t\t\t\t\t</div>\n\t\t\t\t\t<select class='tvision' v-model = 'token' >\n\t\t\t\t\t\t<option v-for = '(v, i) in tokenNames' :value='v'>{{v}}\n\t\t\t\t\t\t\t{{balances[i] && (['renCrv', 'sbtcCrv'].includes(v) ? '₿' : '$') + toFixed(balances[i] * virtual_prices[i] / 1e36, v)}}\n\t\t\t\t\t\t</option>\n\t\t\t\t\t</select>\n\t\t\t\t\t<div id='balance' @click='setMaxBalance'>\n\t\t\t\t\t\tBalance: {{(currentBalance / 1e36 ).toFixed(2)}}$\n\t\t\t\t\t</div>\n\n\t\t\t\t<div class='flex-break'></div>\n\t\t\t\t<div>\n\t\t\t\t\tAmount in {{token}}:\n\t\t\t\t\t<span :class=\"{'loading line': crvAmount == null}\">\n\t\t\t\t\t\t<span v-show='crvAmount != null'> {{crvAmount}} </span>\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t\t<div class='flex-break'></div>\n\t\t\t\t<label for='address'>ETH address:</label>\n\t\t\t\t<input type='text' v-model='to' id='address'>\n\t\t\t\t<div class='flex-breakc noheight'></div>\n\t\t\t\t<p class='simple-error' v-show='to && !isValidAddress'>\n\t\t            Please enter ETH address\n\t\t        </p>\n\t\t        <div class='flex-breakc noheight'></div>\n\t\t\t\t<button id='submit' @click='pay' :disabled='!isValidAddress'>Pay</button>\n\t\t\t</div>\n\t\t\t<gas-price></gas-price>\n\t\t</fieldset>\n\t</div>\n</template>\n\n<script>\n\timport Vue from 'vue'\n\timport { notifyHandler, notifyNotification } from '../init'\n    import { contract as contract} from '../contract'\n    import allabis, { ERC20_abi } from '../allabis'\n\n    import * as gasPriceStore from './common/gasPriceStore'\n    import GasPrice from './common/GasPrice.vue'\n\n    import * as errorStore from './common/errorStore'\n\n    import BN from 'bignumber.js'\n\n  export default {\n\t\tcomponents: {\n\t\t\tGasPrice,\n\t\t},\n\t\tdata: () => ({\n\t\t\ttoken: 'cCrv',\n\t\t\ttokenNames: ['cCrv', 'tCrv', 'yCrv', 'bCrv', 'sCrv', 'pCrv', 'renCrv', 'sbtcCrv'],\n\t\t\ttokens: [],\n\t\t\tcontracts: [],\n\t\t\tswaps: [],\n\t\t\tunstakedBalances: [],\n\t\t\tbalances: [],\n\t\t\tvirtual_prices: [],\n\t\t\tamount: '0.00',\n\t\t\tmaxAmount: null,\n\t\t\tto: null,\n\t\t\tbgColor: 'blue',\n\t\t}),\n\t\twatch: {\n\t\t\tamount() {\n\t\t\t\tthis.highlight_amount();\n\t\t\t},\n\t\t\ttoken() {\n\t\t\t\tthis.highlight_amount();\n\t\t\t}\n\t\t},\n\t\tcomputed: {\n\t\t\tcurrentBalance() {\n\t\t\t\tlet index = this.tokenNames.indexOf(this.token)\n\t\t\t\treturn (this.balances[index] * this.virtual_prices[index]) || 0\n\t\t\t},\n\t\t\tcrvAmount() {\n\t\t\t\tif(!this.amount) return '0.00'\n\t\t\t\tlet index = this.tokenNames.indexOf(this.token)\n\t\t\t\tif(!this.virtual_prices[index]) return null;\n\t\t\t\tconsole.log(this.token, \"THE TOKEN\")\n\t\t\t\tlet maxAmount = this.toFixed(BN(this.amount).div(BN(this.virtual_prices[index]).div(1e18)), this.token);\n\t\t\t\treturn maxAmount;\n\t\t\t},\n\t\t\tabis() {\n\t\t\t\treturn Object.keys(allabis).filter(pool => pool != 'susd' && pool != 'y' && pool != 'tbtc');\n\t\t\t},\n\t\t\tisValidAddress() {\n\t\t\t\treturn contract.web3.utils.isAddress(this.to)\n\t\t\t},\n\t\t\tcurrency() {\n\t\t\t\treturn ['renCrv', 'sbtcCrv'].includes(this.token) ? 'BTC' : 'USD'\n\t\t\t},\n\t\t\tgasPriceWei() {\n\t            return gasPriceStore.state.gasPriceWei\n          \t},\n\t\t},\n\t\tmounted() {\n\t\t\tcontract.default_account && contract.multicall && this.mounted();\n\t\t},\n\t\tcreated() {\n\t\t\tthis.$watch(() => contract.default_account && contract.multicall, (val) => {\n\t\t\t\tif(!val) return;\n\t\t\t\tthis.mounted();\n\t\t\t})\n\t\t\tlet poolParam = this.$route.params.pool;\n\t\t\tif(poolParam == 'y') poolParam = 'swusd'\n\t\t\tif(poolParam) {\n\t\t\t\tlet tokenIndex = Object.keys(allabis).filter(pool => pool != 'y' && pool != 'susd' && pool != 'tbtc').indexOf(poolParam)\n\t\t\t\tthis.token = this.tokenNames[tokenIndex]\n\t\t\t}\n\t\t},\n\t\tmethods: {\n\t\t\tasync mounted() {\n\t\t\t\tthis.contracts = this.abis.map(pool => new contract.web3.eth.Contract(ERC20_abi, allabis[pool].token_address))\n\t\t\t\tthis.swaps = this.abis.map(pool => new contract.web3.eth.Contract(allabis[pool].swap_abi, allabis[pool].swap_address))\n\t\t\t\tthis.rewards = [\n\t\t\t\t\tnew contract.web3.eth.Contract(allabis.susdv2.sCurveRewards_abi, allabis.susdv2.sCurveRewards_address),\n\t\t\t\t\tnew contract.web3.eth.Contract(allabis.sbtc.sCurveRewards_abi, allabis.sbtc.sCurveRewards_address),\n\t\t\t\t]\n\t\t\t\tthis.updateBalances();\n\t\t\t},\n\t\t\tasync unstake(amount) {\n\t\t\t\tlet waitingMessage = `Please confirm unstaking ${this.toFixed(amount, this.token)} ${this.token} tokens`\n                var { dismiss } = notifyNotification(waitingMessage)\n\n                let rewardContract = this.token == 'sCrv' ? this.rewards[0] : this.rewards[1]\n\n                try {\n    \t\t\t\tawait new Promise((resolve, reject) => {\n    \t\t\t\t\trewardContract.methods.withdraw(amount.toFixed(0,1))\n    \t\t\t\t\t\t.send({\n    \t\t\t\t\t\t\tfrom: contract.default_account,\n    \t\t\t\t\t\t\tgasPrice: this.gasPriceWei,\n                                gas: 125000,\n    \t\t\t\t\t\t})\n    \t\t\t\t\t\t.once('transactionHash', hash => {\n                                dismiss()\n                                notifyHandler(hash)\n                                resolve()\n                            })\n                            .catch(err => {\n                                dismiss()\n                                reject(err)\n                            })\n    \t\t\t\t})\n                }\n                catch(err) {\n                    console.log(err)\n                    errorStore.handleError(err)\n                }\n\t\t\t},\n\t\t\tasync pay() {\n\t\t\t\tlet index = this.tokenNames.indexOf(this.token)\n\t\t\t\tlet payAmount = BN(this.amount).times(1e18).div(BN(this.virtual_prices[index])).times(1e18).toFixed(0, 1);\n\t\t\t\tif(this.maxAmount.minus(BN(this.amount).times(1e36)).div(1e36).lt(BN(0.01))) {\n\t\t\t\t\tpayAmount = this.maxAmount.div(BN(this.virtual_prices[index]))\n\t\t\t\t}\n\t\t\t\tpayAmount = BN(payAmount)\n\t\t\t\tif(['sCrv','renCrv'].includes(this.token)) {\n\t\t\t\t\tlet i = this.token == 'sCrv' ? 4 : 6\n\t\t\t\t\tif(payAmount.gt(BN(this.unstakedBalances[i]))) await this.unstake(payAmount.minus(BN(this.unstakedBalances[i])))\n\t\t\t\t}\n\t\t\t\tawait this.contracts[index].methods.transfer(this.to, payAmount.toFixed(0,1))\n\t\t\t\t\t\t.send({\n\t\t\t\t\t\t\tfrom: contract.default_account,\n\t\t\t\t\t\t\tgasPrice: this.gasPriceWei,\n\t\t\t\t\t\t\tgas: 100000,\n\t\t\t\t\t\t})\n\t\t\t\tthis.updateBalances()\n\t\t\t},\n\t\t\tasync updateBalances() {\n\t\t\t\tlet calls = this.abis.flatMap((pool, i) => {\n\t\t\t\t\treturn [\n\t\t\t\t\t\t[allabis[pool].token_address, this.contracts[i].methods.balanceOf(contract.default_account).encodeABI()],\n\t\t\t\t\t\t[allabis[pool].swap_address, this.swaps[i].methods.get_virtual_price().encodeABI()]\n\t\t\t\t\t]\n\t\t\t\t})\n\t\t\t\tcalls.push(...this.rewards.map(reward => [reward._address, reward.methods.balanceOf(contract.default_account).encodeABI()]))\n\t\t\t\tlet aggcalls = await contract.multicall.methods.aggregate(calls).call()\n\t\t\t\tlet decoded = aggcalls[1].map(hex => contract.web3.eth.abi.decodeParameter('uint256', hex))\n\t\t\t\tthis.balances = decoded.slice(0, -2).filter((_, i) => i % 2 == 0)\n\t\t\t\tthis.unstakedBalances = this.balances.slice()\n\t\t\t\tthis.virtual_prices = decoded.slice(0, -2).filter((_, i) => i % 2 != 0)\n\n\t\t\t\tVue.set(this.balances, 4, BN(this.balances[4]).plus(decoded[decoded.length-2]).toString())\n\t\t\t\tVue.set(this.balances, 6, BN(this.balances[6]).plus(decoded[decoded.length-1]).toString())\n\t\t\t},\n\t\t\thighlight_amount() {\n\t\t\t\tlet index = this.tokenNames.indexOf(this.token)\n\t\t\t\tthis.maxAmount = BN(this.balances[index]).times(BN(this.virtual_prices[index]));\n\t\t\t\tif(BN(this.amount).times(BN(1e36)).gt(this.maxAmount)) this.bgColor = 'red'\n\t\t\t\telse this.bgColor = 'blue'\n\t\t\t},\n\t\t\tsetMaxBalance() {\n\t\t\t\tthis.amount = Math.floor((this.currentBalance / 1e36) * 100) / 100;\n\t\t\t},\n\t\t\ttoFixed(amount, token) {\n\t\t\t\tif(['renCrv','sbtcCrv'].includes(token)) return +amount.toFixed(8)\n\t\t\t\treturn +amount.toFixed(2)\n\t\t\t},\n\t\t},\n\t}\n</script>\n\n<style scoped>\n\tfieldset {\n\t\tpadding-top: 20px;\n\t\tpadding-bottom: 20px;\n\t}\n\tlegend {\n\t\ttext-align: center;\n\t}\n\t.simple-error {\n\t\twidth: 100%;\n\t}\n\t.noheight {\n\t\theight: 0;\n\t}\n\t.paycontainer {\n\t\tdisplay: flex;\n\t\tflex-wrap: wrap;\n\t}\n\t.paycontainer select {\n\t\tmargin-left: 0.5em;\n\t}\n\t#payamount {\n\t\tmax-width: 10em;\n\t\tmargin-left: 3px;\n\t}\n\t#submit {\n\t\tmargin-top: 10px;\n\t}\n\t#submit {\n\t\tmargin-left: 3px;\n\t}\n\t.flex-break {\n\t\tflex-basis: 100%;\n\t\theight: 0;\n\t\tmargin-top: 10px;\n\t}\n\t#balance {\n\t\tmargin-left: 7px;\n\t\talign-self: center;\n\t\tcursor: pointer;\n\t}\n\t#balance:hover {\n\t\ttext-decoration: underline;\n\t}\n\tselect {\n\t\tbox-shadow: none;\n\t}\n\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CurvePay.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CurvePay.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CurvePay.vue?vue&type=template&id=bb9f26a0&scoped=true&\"\nimport script from \"./CurvePay.vue?vue&type=script&lang=js&\"\nexport * from \"./CurvePay.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CurvePay.vue?vue&type=style&index=0&id=bb9f26a0&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"bb9f26a0\",\n  null\n  \n)\n\nexport default component.exports","import _asyncToGenerator from '@babel/runtime/helpers/asyncToGenerator';\n\n/**\n * Copyright (c) 2019 Emilio Almansi. All rights reserved.\n * This work is licensed under the terms of the MIT license.\n * For a copy, see the file LICENSE in the root directory.\n */\nconst MAX_INTERVAL_MS = Math.pow(2, 31) - 1;\n/**\n * Stops an execution cycle started by setIntervalAsync.<br>\n * Any ongoing function executions will run until completion,\n * but all future ones will be cancelled.\n *\n * @param {SetIntervalAsyncTimer} timer\n * @returns {Promise}\n *          A promise which resolves when all pending executions have finished.\n */\n\nfunction clearIntervalAsync(_x) {\n  return _clearIntervalAsync.apply(this, arguments);\n}\n\nfunction _clearIntervalAsync() {\n  _clearIntervalAsync = _asyncToGenerator(function* (timer) {\n    timer.stopped = true;\n\n    for (var _i = 0, _Object$values = Object.values(timer.timeouts); _i < _Object$values.length; _i++) {\n      const timeout = _Object$values[_i];\n      clearTimeout(timeout);\n    }\n\n    const noop = () => {};\n\n    const promises = Object.values(timer.promises).map(promise => {\n      promise.catch(noop);\n    });\n    const noopInterval = setInterval(noop, MAX_INTERVAL_MS);\n    yield Promise.all(promises);\n    clearInterval(noopInterval);\n  });\n  return _clearIntervalAsync.apply(this, arguments);\n}\n\n/**\n * Copyright (c) 2019 Emilio Almansi. All rights reserved.\n * This work is licensed under the terms of the MIT license.\n * For a copy, see the file LICENSE in the root directory.\n */\n\n/**\n * Error thrown by setIntervalAsync when invalid arguments are provided.\n */\nclass SetIntervalAsyncError extends Error {}\n\nObject.defineProperty(SetIntervalAsyncError.prototype, 'name', {\n  value: 'SetIntervalAsyncError'\n});\n\n/**\n * Copyright (c) 2019 Emilio Almansi. All rights reserved.\n * This work is licensed under the terms of the MIT license.\n * For a copy, see the file LICENSE in the root directory.\n */\nconst MIN_INTERVAL_MS = 10;\n/**\n * @private\n *\n * @param {function} handler - Handler function to be executed in intervals.<br>\n *                             May be asynchronous.\n */\n\nfunction validateHandler(handler) {\n  if (!(typeof handler === 'function')) {\n    throw new SetIntervalAsyncError('Invalid argument: \"handler\". Expected a function.');\n  }\n}\n/**\n * @private\n *\n * @param {number} interval - Interval in milliseconds. Must be at least 10 ms.\n */\n\nfunction validateInterval(interval) {\n  if (!(typeof interval === 'number' && MIN_INTERVAL_MS <= interval)) {\n    throw new SetIntervalAsyncError(`Invalid argument: \"interval\". Expected a number greater than or equal to ${MIN_INTERVAL_MS}.`);\n  }\n}\n\n/**\n * Copyright (c) 2019 Emilio Almansi. All rights reserved.\n * This work is licensed under the terms of the MIT license.\n * For a copy, see the file LICENSE in the root directory.\n */\n\n/**\n * Timer object returned by setIntervalAsync.<br>\n * Can be used together with {@link clearIntervalAsync} to stop execution.\n */\nclass SetIntervalAsyncTimer {\n  constructor() {\n    this.stopped = false;\n    this.id = 0;\n    this.timeouts = {};\n    this.promises = {};\n  }\n\n}\n\n/**\n * Attempts to execute the given handler at regular intervals, while preventing<br>\n * multiple concurrent executions. The handler will never be executed concurrently<br>\n * more than once in any given moment. If the running time of any execution exceeds<br>\n * the desired interval, the following execution will be scheduled as soon as<br>\n * possible; ie. immediately after the previous execution concludes.\n *\n * @param {function} handler - Handler function to be executed in intervals.<br>\n *                             May be asynchronous.\n * @param {number} interval - Interval in milliseconds. Must be at least 10 ms.\n * @param {...*} args - Any number of arguments to pass on to the handler.\n * @returns {SetIntervalAsyncTimer}\n *          A timer object which can be used to stop execution with {@link clearIntervalAsync}.\n *\n * @alias [Dynamic] setIntervalAsync\n */\n\nfunction setIntervalAsync(handler, interval, ...args) {\n  validateHandler(handler);\n  validateInterval(interval);\n  const timer = new SetIntervalAsyncTimer();\n  const id = timer.id;\n  timer.timeouts[id] = setTimeout(timeoutHandler, interval, timer, handler, interval, ...args);\n  return timer;\n}\n\nfunction timeoutHandler(timer, handler, interval, ...args) {\n  const id = timer.id;\n  timer.promises[id] = _asyncToGenerator(function* () {\n    const startTime = new Date();\n\n    try {\n      yield handler(...args);\n    } catch (err) {\n      console.error(err);\n    }\n\n    const endTime = new Date();\n\n    if (!timer.stopped) {\n      const executionTime = endTime - startTime;\n      const timeout = interval > executionTime ? interval - executionTime : 0;\n      timer.timeouts[id + 1] = setTimeout(timeoutHandler, timeout, timer, handler, interval, ...args);\n    }\n\n    delete timer.timeouts[id];\n    delete timer.promises[id];\n  })();\n  timer.id = id + 1;\n}\n\nexport { SetIntervalAsyncError, clearIntervalAsync, setIntervalAsync };\n//# sourceMappingURL=index.mjs.map\n"],"sourceRoot":""}