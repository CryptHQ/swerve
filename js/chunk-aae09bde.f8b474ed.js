(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-aae09bde","chunk-458de676"],{"07ac":function(e,t,a){var n=a("23e7"),s=a("6f53").values;n({target:"Object",stat:!0},{values:function(e){return s(e)}})},"0c33":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("p",{directives:[{name:"show",rawName:"v-show",value:e.showSlippage&&e.slippage<-.005,expression:"showSlippage && slippage < -0.005"}],staticClass:"simple-error",attrs:{id:"highslippage-warning"}},[a("span",{staticClass:"text"},[e._v(" Warning! High slippage(plus pricing): "),a("span",{staticClass:"percent"},[e._v(e._s((100*-e.slippage).toFixed(3)))]),e._v("% "),e._m(0)])]),a("p",{directives:[{name:"show",rawName:"v-show",value:e.showSlippage&&e.slippage<=0&&e.slippage>=-.005,expression:"showSlippage && slippage <= 0 && slippage >= -0.005"}],staticClass:"info-message",attrs:{id:"slippage-warning"}},[a("span",{staticClass:"text"},[e._v(" Slippage(plus pricing): ")]),a("span",{staticClass:"percent"},[e._v(e._s((100*-e.slippage).toFixed(3)))]),e._v("% "),e._m(1)]),a("p",{directives:[{name:"show",rawName:"v-show",value:e.showSlippage&&e.slippage>0,expression:"showSlippage && slippage > 0"}],staticClass:"success",attrs:{id:"bonus-window"}},[e._v(" Bonus(plus pricing): "),a("span",[e._v(e._s((100*e.slippage).toFixed(3)))]),e._v("% "),a("span",{staticClass:"tooltip"},[e._v("[?] "),a("span",{staticClass:"tooltiptext long"},[e._v(" Bonus comes as an advantage from current coin prices which usually appears for coins which are "+e._s("Deposit"==e.$route.name?"low":"high")+" in balance ")])])]),a("p",{directives:[{name:"show",rawName:"v-show",value:e.show_nobalance,expression:"show_nobalance"}],staticClass:"simple-error",attrs:{id:"nobalance-warning"}},[e._v(" Warning! Not enough balance for "+e._s(e.noBalanceText)+" token in the contract ")]),a("p",{directives:[{name:"show",rawName:"v-show",value:"susdv2"==e.currentPool&&e.showSlippage&&e.slippage<-.01,expression:"currentPool == 'susdv2' && showSlippage && slippage < -0.01"}],staticClass:"info-message gentle-message",attrs:{id:"susd-warning"}},[e._v(" Please add coins in a balanced proportion ")])])},s=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"tooltip"},[e._v("[?] "),a("span",{staticClass:"tooltiptext long"},[e._v(" Slippage comes from depositing too many coins not in balance, and current coin prices are additionally accounted for ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"tooltip"},[e._v("[?] "),a("span",{staticClass:"tooltiptext long"},[e._v(" Slippage comes from depositing too many coins not in balance, and current coin prices are additionally accounted for ")])])}],r=(a("4fad"),a("5530")),i=a("51bf"),c={props:["show_nobalance","show_nobalance_i"],computed:Object(r["a"])(Object(r["a"])({},i["g"]),{},{noBalanceText:function(){if(!this.show_nobalance)return"";var e=Object.entries(this.currencies)[this.show_nobalance_i];return 2==this.show_nobalance_i&&"usdt"==this.currentPool||"susdv2"==this.currentPool?e[1]:e[1]+" (in "+e[0]+")"}})},o=c,u=a("2877"),l=Object(u["a"])(o,n,s,!1,null,"556a4168",null);t["a"]=l.exports},"2bd5":function(e,t,a){"use strict";a.d(t,"b",(function(){return c})),a.d(t,"a",(function(){return o}));a("caad"),a("4fad"),a("2ca0");var n,s=a("3835"),r=a("ade3"),i=a("2b0e"),c=i["a"].observable((n={address:null,sdk:null,transactions:[]},Object(r["a"])(n,"address",null),Object(r["a"])(n,"default_account",null),Object(r["a"])(n,"minersFee",17e3),Object(r["a"])(n,"minersLockFee",0),Object(r["a"])(n,"minersReleaseFee",0),Object(r["a"])(n,"mintFee",0),Object(r["a"])(n,"burnFee",0),Object(r["a"])(n,"confirmations",6),Object(r["a"])(n,"space",null),Object(r["a"])(n,"box",null),Object(r["a"])(n,"showModal",!1),Object(r["a"])(n,"showModal1",!1),Object(r["a"])(n,"showModalRecover",!1),Object(r["a"])(n,"msg_signature",null),Object(r["a"])(n,"password",null),Object(r["a"])(n,"aes_key",null),Object(r["a"])(n,"fireUser",null),Object(r["a"])(n,"loaded",!1),Object(r["a"])(n,"adapterContract",null),Object(r["a"])(n,"recover",!1),n));function o(){for(var e=0,t=0,a=Object.entries(localStorage);t<a.length;t++){var n=Object(s["a"])(a[t],2),r=n[0],i=n[1];r.startsWith("swervebtc_")&&(i=JSON.parse(i),i.removed||([0,3].includes(i.type)&&![14,15,17].includes(i.state)&&e++,1==i.type&&65!=i.state&&e++))}return e}},"2ca0":function(e,t,a){"use strict";var n=a("23e7"),s=a("06cf").f,r=a("50c4"),i=a("5a34"),c=a("1d80"),o=a("ab13"),u=a("c430"),l="".startsWith,d=Math.min,p=o("startsWith"),h=!u&&!p&&!!function(){var e=s(String.prototype,"startsWith");return e&&!e.writable}();n({target:"String",proto:!0,forced:!h&&!p},{startsWith:function(e){var t=String(c(this));i(e);var a=r(d(arguments.length>1?arguments[1]:void 0,t.length)),n=String(e);return l?l.call(t,n,a):t.slice(a,a+n.length)===n}})},3746:function(e,t,a){"use strict";var n=a("42a71"),s=a.n(n),r=a("bf2b"),i=a.n(r),c=a("69f2"),o=a.n(c),u=a("1c35");const l=s()("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),d=e=>u["Buffer"].from(o()("sha256").update(e).digest()),p={0:{type:"p2pkh",network:"mainnet"},111:{type:"p2pkh",network:"testnet"},5:{type:"p2sh",network:"mainnet"},196:{type:"p2sh",network:"testnet"}},h=e=>{let t;try{t=i.a.decode(e)}catch(o){return!1}const a={bc:"mainnet",tb:"testnet",bcrt:"regtest"},n=a[t.prefix];if(void 0===n)return!1;const s=t.words[0];if(s<0||s>16)return!1;const r=i.a.fromWords(t.words.slice(1));let c;return 20===r.length?c="p2wpkh":32===r.length&&(c="p2wsh"),{bech32:!0,network:n,address:e,type:c}},g=e=>{if(!e)return!1;let t;const a=e.substr(0,2);if("bc"===a||"tb"===a)return h(e);try{t=l.decode(e)}catch(o){return!1}const{length:n}=t;if(25!==n)return!1;const s=t.readUInt8(0),r=t.slice(n-4,n),i=t.slice(0,n-4),c=d(d(i)).slice(0,4);return!!r.equals(c)&&(!!p[s]&&Object.assign({address:e,bech32:!1},p[s]))},m=(e,t)=>{const a=g(e);return!!a&&(t?a.network===t:a)};t["a"]=m},"3bdc":function(e,t,a){function n(e,t,a,n,s,r,i){try{var c=e[r](i),o=c.value}catch(u){return void a(u)}c.done?t(o):Promise.resolve(o).then(n,s)}function s(e){return function(){var t=this,a=arguments;return new Promise((function(s,r){var i=e.apply(t,a);function c(e){n(i,s,r,c,o,"next",e)}function o(e){n(i,s,r,c,o,"throw",e)}c(void 0)}))}}a("d3b7"),e.exports=s},5199:function(e,t,a){"use strict";var n=a("64ea"),s=a.n(n);s.a},"5a6d":function(e,t,a){},"64ea":function(e,t,a){},a9e3:function(e,t,a){"use strict";var n=a("83ab"),s=a("da84"),r=a("94ca"),i=a("6eeb"),c=a("5135"),o=a("c6b6"),u=a("7156"),l=a("c04e"),d=a("d039"),p=a("7c73"),h=a("241c").f,g=a("06cf").f,m=a("9bf2").f,f=a("58a8").trim,w="Number",v=s[w],_=v.prototype,b=o(p(_))==w,x=function(e){var t,a,n,s,r,i,c,o,u=l(e,!1);if("string"==typeof u&&u.length>2)if(u=f(u),t=u.charCodeAt(0),43===t||45===t){if(a=u.charCodeAt(2),88===a||120===a)return NaN}else if(48===t){switch(u.charCodeAt(1)){case 66:case 98:n=2,s=49;break;case 79:case 111:n=8,s=55;break;default:return+u}for(r=u.slice(2),i=r.length,c=0;c<i;c++)if(o=r.charCodeAt(c),o<48||o>s)return NaN;return parseInt(r,n)}return+u};if(r(w,!v(" 0o1")||!v("0b1")||v("+0x1"))){for(var k,P=function(e){var t=arguments.length<1?0:e,a=this;return a instanceof P&&(b?d((function(){_.valueOf.call(a)})):o(a)!=w)?u(new v(x(t)),a,P):x(t)},y=n?h(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),S=0;y.length>S;S++)c(v,k=y[S])&&!c(P,k)&&m(P,k,g(v,k));P.prototype=_,_.constructor=P,i(s,w,P)}},b4a0:function(e,t,a){"use strict";var n=a("5a6d"),s=a.n(n);s.a},bf2b:function(e,t,a){"use strict";for(var n="qpzry9x8gf2tvdw0s3jn54khce6mua7l",s={},r=0;r<n.length;r++){var i=n.charAt(r);if(void 0!==s[i])throw new TypeError(i+" is ambiguous");s[i]=r}function c(e){var t=e>>25;return(33554431&e)<<5^996825010&-(t>>0&1)^642813549&-(t>>1&1)^513874426&-(t>>2&1)^1027748829&-(t>>3&1)^705979059&-(t>>4&1)}function o(e){for(var t=1,a=0;a<e.length;++a){var n=e.charCodeAt(a);if(n<33||n>126)return"Invalid prefix ("+e+")";t=c(t)^n>>5}for(t=c(t),a=0;a<e.length;++a){var s=e.charCodeAt(a);t=c(t)^31&s}return t}function u(e,t,a){if(a=a||90,e.length+7+t.length>a)throw new TypeError("Exceeds length limit");e=e.toLowerCase();var s=o(e);if("string"===typeof s)throw new Error(s);for(var r=e+"1",i=0;i<t.length;++i){var u=t[i];if(u>>5!==0)throw new Error("Non 5-bit word");s=c(s)^u,r+=n.charAt(u)}for(i=0;i<6;++i)s=c(s);for(s^=1,i=0;i<6;++i){var l=s>>5*(5-i)&31;r+=n.charAt(l)}return r}function l(e,t){if(t=t||90,e.length<8)return e+" too short";if(e.length>t)return"Exceeds length limit";var a=e.toLowerCase(),n=e.toUpperCase();if(e!==a&&e!==n)return"Mixed-case string "+e;e=a;var r=e.lastIndexOf("1");if(-1===r)return"No separator character for "+e;if(0===r)return"Missing prefix for "+e;var i=e.slice(0,r),u=e.slice(r+1);if(u.length<6)return"Data too short";var l=o(i);if("string"===typeof l)return l;for(var d=[],p=0;p<u.length;++p){var h=u.charAt(p),g=s[h];if(void 0===g)return"Unknown character "+h;l=c(l)^g,p+6>=u.length||d.push(g)}return 1!==l?"Invalid checksum for "+e:{prefix:i,words:d}}function d(){var e=l.apply(null,arguments);if("object"===typeof e)return e}function p(e){var t=l.apply(null,arguments);if("object"===typeof t)return t;throw new Error(t)}function h(e,t,a,n){for(var s=0,r=0,i=(1<<a)-1,c=[],o=0;o<e.length;++o){s=s<<t|e[o],r+=t;while(r>=a)r-=a,c.push(s>>r&i)}if(n)r>0&&c.push(s<<a-r&i);else{if(r>=t)return"Excess padding";if(s<<a-r&i)return"Non-zero padding"}return c}function g(e){var t=h(e,8,5,!0);if(Array.isArray(t))return t}function m(e){var t=h(e,8,5,!0);if(Array.isArray(t))return t;throw new Error(t)}function f(e){var t=h(e,5,8,!1);if(Array.isArray(t))return t}function w(e){var t=h(e,5,8,!1);if(Array.isArray(t))return t;throw new Error(t)}e.exports={decodeUnsafe:d,decode:p,encode:u,toWordsUnsafe:g,toWords:m,fromWordsUnsafe:f,fromWords:w}},cc13:function(e,t,a){"use strict";a.r(t);var n=function(){var e,t=this,a=t.$createElement,n=t._self._c||a;return n("div",{staticClass:"add-liquidity"},[n("fieldset",{staticClass:"percentage"},[n("legend",[t._v(" Share of liquidity (%) "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.showstaked,expression:"showstaked"}],attrs:{id:"showstaked",type:"checkbox",name:"showstaked"},domProps:{checked:Array.isArray(t.showstaked)?t._i(t.showstaked,null)>-1:t.showstaked},on:{change:function(e){var a=t.showstaked,n=e.target,s=!!n.checked;if(Array.isArray(a)){var r=null,i=t._i(a,r);n.checked?i<0&&(t.showstaked=a.concat([r])):i>-1&&(t.showstaked=a.slice(0,i).concat(a.slice(i+1)))}else t.showstaked=s}}}),n("label",{directives:[{name:"show",rawName:"v-show",value:"sbtc"==t.currentPool,expression:"currentPool == 'sbtc'"}],attrs:{for:"showstaked"}},[t._v(" Show staked ")])]),n("ul",[n("li",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.share,expression:"share"}],style:t.shareStyles,attrs:{type:"text",id:"liquidity-share",name:"liquidity-share"},domProps:{value:t.share},on:{input:[function(e){e.target.composing||(t.share=e.target.value)},t.handle_change_share],focus:t.handle_change_share}})])])]),n("fieldset",{staticClass:"currencies"},[n("legend",[t._v("Currencies:")]),n("ul",t._l(Object.keys(t.currencies),(function(e,a){var s;return n("li",[n("label",{staticClass:"currency_label",attrs:{for:"currency_"+a}},[n("img",{class:(s={"token-icon":!0},s[e+"-icon"]=!0,s["y"]=t.withdrawc,s[t.currentPool]=!0,s),attrs:{src:t.getTokenIcon(0==a?"btc":e)}}),n("span",{directives:[{name:"show",rawName:"v-show",value:t.withdrawc,expression:"withdrawc"}]},[t._v(t._s(t.currencies[e])+" "),n("span",{directives:[{name:"show",rawName:"v-show",value:!("usdt"==e&&"usdt"==t.currentPool)&&!["susdv2","ren","sbtc"].includes(t.currentPool),expression:"!(currency == 'usdt' && currentPool == 'usdt') && !['susdv2','ren','sbtc'].includes(currentPool)"}]},[t._v("(in "+t._s(t._f("capitalize")(e))+")")])]),n("span",{directives:[{name:"show",rawName:"v-show",value:!t.withdrawc&&!["susdv2","tbtc","ren"].includes(t.currentPool),expression:"!withdrawc && !['susdv2', 'tbtc', 'ren'].includes(currentPool)"}]},[t._v(t._s(t._f("capitalize")(e)))]),n("span",{directives:[{name:"show",rawName:"v-show",value:!t.withdrawc&&["susdv2","tbtc","ren"].includes(t.currentPool),expression:"!withdrawc && ['susdv2', 'tbtc', 'ren'].includes(currentPool)"}]},[t._v(t._s(t.currencies[e]))])]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.inputs[a],expression:"inputs[i]"}],ref:"inputs"+a,refInFor:!0,style:t.inputStyles[a],attrs:{type:"text",id:"currency_"+a,name:"from_cur",disabled:"susd"==t.currentPool},domProps:{value:t.inputs[a]},on:{input:[function(e){e.target.composing||t.$set(t.inputs,a,e.target.value)},function(e){return t.handle_change_amounts(a)}],focus:function(e){return t.handle_change_amounts(a)}}}),n("div",{directives:[{name:"show",rawName:"v-show",value:0==a&&t.amountAfterBTC>0,expression:"i == 0 && amountAfterBTC > 0"}]},[t._v(" BTC Amount received after renVM fees: "+t._s(t.amountAfterBTC)+" ")]),n("div",{directives:[{name:"show",rawName:"v-show",value:0==a&&t.amountAfterBTC<0,expression:"i == 0 && amountAfterBTC < 0"}]},[t._v(" Minimum withdraw amount in BTC is "+t._s(t.minOrderSize)+" ")])])})),0)]),n("fieldset",{directives:[{name:"show",rawName:"v-show",value:"susd"!=t.currentPool,expression:"currentPool != 'susd'"}]},[t._m(0),n("ul",[n("li",{directives:[{name:"show",rawName:"v-show",value:!["susdv2","tbtc","ren","sbtc"].includes(t.currentPool),expression:"!['susdv2','tbtc','ren','sbtc'].includes(currentPool)"}]},[n("input",{attrs:{type:"radio",id:"to_cur_comb",name:"to_cur"},domProps:{value:10,checked:10===t.to_currency},on:{click:function(e){return t.handleCheck(10)}}}),n("label",{attrs:{for:"to_cur_comb"}},[t._v(" Combination of all coins "),t._l(Object.keys(t.currencies),(function(e,a){var s;return n("span",[n("span",{directives:[{name:"show",rawName:"v-show",value:a>0,expression:"i > 0"}]},[t._v("+")]),n("img",{class:(s={"token-icon":!0},s[e+"-icon"]=!0,s["y"]=t.withdrawc,s[t.currentPool]=!0,s),attrs:{src:t.getTokenIcon(0==a?"btc":e)}})])}))],2)]),n("li",{staticClass:"withdrawin"},[n("input",{attrs:{type:"radio",id:"to_cur_0",name:"to_cur"},domProps:{value:0,checked:0===t.to_currency},on:{click:function(e){return t.handleCheck(0)}}}),n("label",{attrs:{for:"to_cur_0"}},[n("img",{class:(e={"token-icon":!0},e["btc-icon"]=!0,e),attrs:{src:t.getTokenIcon("btc")}}),n("span",[t._v(" BTC ")])])])])]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.showWithdrawSlippage,expression:"showWithdrawSlippage"}],attrs:{id:"max_slippage"}},[n("span",[t._v("Max slippage:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.maxSlippage,expression:"maxSlippage"}],attrs:{id:"slippage02",type:"radio",name:"slippage",value:"0.2"},domProps:{checked:t._q(t.maxSlippage,"0.2")},on:{change:function(e){t.maxSlippage="0.2"}}}),n("label",{attrs:{for:"slippage02"}},[t._v("0.2%")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.maxSlippage,expression:"maxSlippage"}],attrs:{id:"slippage1",type:"radio",name:"slippage",checked:"",value:"3"},domProps:{checked:t._q(t.maxSlippage,"3")},on:{change:function(e){t.maxSlippage="3"}}}),n("label",{attrs:{for:"slippage1"}},[t._v("3%")]),n("input",{attrs:{id:"custom_slippage",type:"radio",name:"slippage",value:"-"},on:{click:function(e){t.customippageDisabled=!1}}}),n("label",{attrs:{for:"custom_slippage"},on:{click:function(e){t.customSlippageDisabled=!1}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.maxInputSlippage,expression:"maxInputSlippage"}],attrs:{type:"text",id:"custom_slippage_input",disabled:t.customSlippageDisabled,name:"custom_slippage_input"},domProps:{value:t.maxInputSlippage},on:{input:function(e){e.target.composing||(t.maxInputSlippage=e.target.value)}}}),t._v(" % ")])]),n("div",{staticClass:"input address btc"},[n("label",{attrs:{for:"address"}},[t._v("BTC withdrawal address")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.btcAddress,expression:"btcAddress"}],attrs:{id:"address",type:"text",placeholder:"Address"},domProps:{value:t.btcAddress},on:{input:function(e){e.target.composing||(t.btcAddress=e.target.value)}}})]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.nobalance,expression:"nobalance"}],staticClass:"info-message gentle-message",attrs:{id:"amount-warning"}},[t._v(" You don't have any available amount to withdraw ")]),n("approve-chi"),n("gas-price"),n("div",{staticClass:"buttons",attrs:{id:"withdraw_buttons"}},[n("p",{directives:[{name:"show",rawName:"v-show",value:"ren"==t.currentPool,expression:"currentPool == 'ren'"}]},[n("a",{attrs:{href:"https://bridge.renproject.io/"}},[t._v(" Mint/redeem renBTC ")])]),n("p",{directives:[{name:"show",rawName:"v-show",value:t.btcAddress&&!t.checkAddress,expression:"btcAddress && !checkAddress"}],staticClass:"simple-error invalid-address"},[t._v(" Invalid "+t._s(0==t.from_currency?"ETH":"BTC")+" address ")]),n("button",{directives:[{name:"show",rawName:"v-show",value:"susd"!=t.currentPool,expression:"currentPool != 'susd'"}],staticClass:"simplebutton",attrs:{id:"remove-liquidity",disabled:!t.btcAddress||t.amountAfterBTC<0||!t.checkAddress},on:{click:function(e){return t.handle_remove_liquidity()}}},[t._v(" Withdraw "),n("span",{directives:[{name:"show",rawName:"v-show",value:1==t.loadingAction,expression:"loadingAction == 1"}],staticClass:"loading line"})]),n("button",{directives:[{name:"show",rawName:"v-show",value:["susdv2","sbtc"].includes(t.currentPool)&&t.staked_balance>0,expression:"['susdv2', 'sbtc'].includes(currentPool) && staked_balance > 0 "}],staticClass:"simplebutton",attrs:{id:"remove-liquidity-unstake",disabled:t.slippage<-.03||!t.btcAddress||t.amountAfterBTC<0||!t.checkAddress},on:{click:function(e){return t.handle_remove_liquidity(!0)}}},[t._v(" Withdraw & claim "),n("span",{directives:[{name:"show",rawName:"v-show",value:2==t.loadingAction,expression:"loadingAction == 2"}],staticClass:"loading line"})]),n("button",{directives:[{name:"show",rawName:"v-show",value:["susdv2","sbtc"].includes(t.currentPool)&&t.pendingSNXRewards>0,expression:"['susdv2', 'sbtc'].includes(currentPool) && pendingSNXRewards > 0"}],attrs:{id:"claim-snx"},on:{click:t.claim_SNX}},[t._v(" Claim "+t._s((t.pendingSNXRewards/1e18).toFixed(2))+" SNX "),n("span",{directives:[{name:"show",rawName:"v-show",value:"sbtc"==t.currentPool,expression:"currentPool == 'sbtc'"}]},[t._v(" + "+t._s((t.pendingRENRewards/1e18).toFixed(2))+" REN")])]),n("button",{directives:[{name:"show",rawName:"v-show",value:["susdv2","sbtc"].includes(t.currentPool)&&t.staked_balance>0,expression:"['susdv2', 'sbtc'].includes(currentPool) && staked_balance > 0"}],attrs:{id:"unstake-snx"},on:{click:function(e){return t.handle_remove_liquidity(!0,!0)}}},[t._v(" Unstake ")]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.show_loading,expression:"show_loading"}],staticClass:"info-message gentle-message"},[n("span",{domProps:{innerHTML:t._s(t.waitingMessage)}}),t._v(" "),n("span",{staticClass:"loading line"})]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.estimateGas,expression:"estimateGas"}],staticClass:"info-message gentle-message"},[t._v(" Estimated tx cost: "+t._s((t.estimateGas*t.gasPrice/1e9*t.ethPrice).toFixed(2))+"$ ")]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.warninglow,expression:"warninglow"}],staticClass:"simple-error"},[t._v(" You're withdrawing too little amount in one coin ")]),n("Slippage",t._b({},"Slippage",{show_nobalance:t.show_nobalance,show_nobalance_i:t.show_nobalance_i},!1))],1),n("tx-table")],1)},s=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("legend",[e._v(" Withdraw % in: "),a("span",{staticClass:"tooltip"},[e._v(" [?] "),a("span",{staticClass:"tooltiptext long"},[e._v(" You can also withdraw in one coin by typing in a currency field ")])])])}],r=(a("cb29"),a("4de4"),a("c740"),a("4160"),a("caad"),a("d81d"),a("fb6a"),a("0d03"),a("a9e3"),a("b680"),a("b64b"),a("d3b7"),a("25f0"),a("3ca3"),a("159b"),a("ddb0"),a("4795"),a("2909")),i=(a("96cf"),a("1da1")),c=a("5530"),o=a("2b0e"),u=a("d99e"),l=a("cf45"),d=a("51bf"),p=a("5245"),h=a("2fa3"),g=a("901e"),m=a.n(g),f=a("0c33"),w=a("1079"),v=a("757b"),_=a("2bd5"),b=a("0a37"),x=a("e7e9"),k=a("0c7c"),P=a("cbc1"),y=a("3746"),S=(p["g"].compound,{components:{Slippage:f["a"],"tx-table":w["a"],"approve-chi":P["a"],GasPrice:x["a"]},data:function(){return{share:"100.00",shareStyles:{backgroundColor:"#707070",color:"#d0d0d0"},inputs:[],btcAddress:"",inputStyles:[],swapbtc:!1,loading:!1,wallet_balances:[],calc_balances:[],balances:[],staked_balance:null,token_balance:null,token_supply:0,show_nobalance:!1,show_nobalance_i:0,bgColor:[],amounts:[],to_currency:10,test:null,withdrawc:!1,donate_dust:!1,showstaked:!1,pendingSNXRewards:0,pendingRENRewards:0,balancerPool:null,show_loading:!1,waitingMessage:"",showWithdrawSlippage:!1,maxSlippage:.2,setSlippage:!1,maxInputSlippage:"",customSlippageDisabled:!0,estimateGas:0,customGasDisabled:!0,customGasInput:null,ethPrice:0,loadingAction:!1,warninglow:!1,slippagePromise:h["l"](Promise.resolve())}},created:function(){var e=this;this.$watch((function(){return d["e"].default_account}),(function(t,a){t&&a&&t.toLowerCase()!=a.toLowerCase()&&t&&e.mounted()})),this.$watch((function(){return d["e"].initializedContracts}),(function(t){t&&e.mounted()})),this.$watch((function(){return d["e"].currentContract}),(function(t,a){e.setInputStyles(!1,t,a),d["e"].initializedContracts&&e.mounted()}))},watch:{to_currency:function(e){0!=this.share&&"---"!=this.share||(this.share=100),this.setInputStyles(),null!==e&&this.handle_change_share()},withdrawc:function(e){"---"!=this.share&&(e||null!==this.to_currency||(this.to_currency=10),e&&null!==this.to_currency&&(this.to_currency=null))},maxSlippage:function(){this.setSlippage=!0},maxInputSlippage:function(e){e&&(this.setSlippage=!0)}},computed:Object(c["a"])(Object(c["a"])({},d["g"]),{},{currencies:function(){return"ren"==d["e"].currentContract?{btc:"BTC",wbtc:"WBTC"}:"sbtc"==d["e"].currentContract?{btc:"BTC",wbtc:"wBTC",sbtc:"sBTC"}:void 0},showMigrateNew:function(){return"compound"==this.currentPool&&this.oldBalance>0||"susd"==this.currentPool},nobalance:function(){return this.staked_balance&&this.token_balance.plus(this.staked_balance).eq(m()(0))},getMaxSlippage:function(){var e=this.maxSlippage;return this.maxInputSlippage&&(e=this.maxInputSlippage),(100+e)/100},minAmount:function(){return["tbtc","ren","sbtc"].includes(d["e"].currentContract)?1e-8:.01},calcFee:function(){var e=p["g"][d["e"].currentContract].N_COINS;return this.fee*e/(4*(e-1))},amountAfterBTC:function(){return m()(this.inputs[0]).times(1e8).times(1-_["b"].mintFee/1e4).minus(_["b"].minersLockFee).div(1e8).toFixed(8)},minOrderSize:function(){return((_["b"].minersReleaseFee+_["b"].burnFee/1e4)/1e8+547e-8).toFixed(8)},gasPrice:function(){return b["a"].gasPrice},gasPriceWei:function(){return b["a"].gasPriceWei},checkAddress:function(){return!1!==Object(y["a"])(this.btcAddress)}}),mounted:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$emit("loaded"),e.$watch((function(){return e.showstaked}),e.handle_change_share),e.setInputStyles(!0),d["e"].initializedContracts&&e.mounted();case 4:case"end":return t.stop()}}),t)})))()},methods:{mounted:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a,n,s,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(["susdv2","tbtc","ren"].includes(e.currentPool)&&(e.withdrawc=!0,e.to_currency=null),"sbtc"==e.currentPool&&(e.showstaked=!0),d["e"].showSlippage=!1,d["e"].slippage=0,a=d["e"].curveRewards,!["sbtc"].includes(e.currentPool)){t.next=14;break}return e.balancerPool=new d["e"].web3.eth.Contract(p["d"],p["e"]),n=[[a._address,a.methods.earned(e.default_account).encodeABI()],[e.balancerPool._address,e.balancerPool.methods.totalSupply().encodeABI()],[e.balancerPool._address,e.balancerPool.methods.getBalance("0xc011a73ee8576fb46f5e1c5751ca3b9fe0af2a6f").encodeABI()],[e.balancerPool._address,e.balancerPool.methods.getBalance("0x408e41876cccdc0f92210600ef50372656052a38").encodeABI()]],t.next=10,d["e"].multicall.methods.aggregate(n).call();case 10:s=t.sent,r=s[1].map((function(e){return d["e"].web3.eth.abi.decodeParameter("uint256",e)})),e.pendingSNXRewards=r[0]*r[2]/r[1],e.pendingRENRewards=r[0]*r[3]/r[1];case 14:return t.next=16,l["update_fee_info"]();case 16:return t.next=18,e.update_balances();case 18:e.setCalcBalances(),e.handle_change_share();case 20:case"end":return t.stop()}}),t)})))()},getTokenIcon:function(e){return h["h"](e,this.withdrawc,this.currentPool)},toFixed:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(""==e||void 0==e||0==+e)return"0.00";2==t&&["tbtc","ren","sbtc"].includes(d["e"].currentContract)&&(t=8);var a=e.toFixed(t);return isNaN(a)?"0.00":a},inputsFormat:function(e){return this.inputs[e]?this.toFixed(+this.inputs[e]):"0.00"},setInputStyles:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0;if(a){for(var n=0;n<p["g"][t].N_COINS-p["g"][a].N_COINS;n++)this.inputs.push("0.00");p["g"][a].N_COINS-p["g"][t].N_COINS>0&&(this.inputs=this.inputs.filter((function(e,a){return a<p["g"][t].N_COINS})))}else e&&(this.inputs=new Array(Object.keys(this.currencies).length).fill("0.00"));this.inputStyles=Array(Object.keys(this.currencies).length).fill({backgroundColor:"#707070",color:"#d0d0d0"})},calcSlippage:function(){var e=arguments,t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.slippagePromise.cancel(),t.slippagePromise=h["l"](l["calc_slippage"].apply(l,Object(r["a"])(e))),a.next=4,t.slippagePromise;case 4:case"end":return a.stop()}}),a)})))()},handleCheck:function(e){e===this.to_currency?(this.to_currency=null,d["e"].slippage=0,d["e"].showSlippage=!1):this.to_currency=e},setCalcBalances:function(){for(var e=0;e<d["e"].N_COINS;e++){var t=this.showstaked?this.token_balance.plus(this.staked_balance):this.token_balance,a=m()(1*this.balances[e]*d["e"].c_rates[e]*t/this.token_supply);o["a"].set(this.calc_balances,e,a)}},update_balances:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a,n,s,r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=[],d["e"].default_account){for(n=0;n<d["e"].N_COINS;n++)a.push([d["e"].underlying_coins[n]._address,d["e"].underlying_coins[n].methods.balanceOf(d["e"].default_account||"0x0000000000000000000000000000000000000000").encodeABI()]);a.push([d["e"].swap_token._address,d["e"].swap_token.methods.balanceOf(d["e"].default_account||"0x0000000000000000000000000000000000000000").encodeABI()])}else e.token_balance=m()(0);for(s=0;s<d["e"].N_COINS;s++)a.push([d["e"].swap._address,d["e"].swap.methods.balances(s).encodeABI()]);return["susdv2","sbtc"].includes(e.currentPool)&&a.push([d["e"].curveRewards._address,d["e"].curveRewards.methods.balanceOf(d["e"].default_account||"0x0000000000000000000000000000000000000000").encodeABI()]),a.push([d["e"].swap_token._address,d["e"].swap_token.methods.totalSupply().encodeABI()]),t.next=7,d["e"].multicall.methods.aggregate(a).call();case 7:r=t.sent,i=r[1].map((function(e){return d["e"].web3.eth.abi.decodeParameter("uint256",e)})),d["e"].default_account&&(i.slice(0,d["e"].N_COINS).map((function(t,a){o["a"].set(e.wallet_balances,a,+t/p["g"][e.currentPool].coin_precisions[a])})),e.token_balance=m()(i[d["e"].N_COINS]),i=i.slice(d["e"].N_COINS+1)),i.slice(0,d["e"].N_COINS+1+d["e"].N_COINS).map((function(t,a){o["a"].set(e.balances,a,+t),d["e"].default_account||o["a"].set(e.balances,a,0)})),["susdv2","sbtc"].includes(e.currentPool)?e.staked_balance=m()(i[i.length-2]):e.staked_balance=m()(0),e.token_supply=+i[i.length-1];case 13:case"end":return t.stop()}}),t)})))()},handle_change_amounts:function(e,t){var a=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var s,i,c,o,u,l;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(a.showWithdrawSlippage=!0,a.show_nobalance=!1,!t){n.next=5;break}return a.inputs[e]=t.target.value,n.abrupt("return");case 5:return a.to_currency=null,s=a.inputs.map((function(e,t){return e/d["e"].c_rates[t]})),s=s.map((function(e){return m()(Math.floor(e).toString()).toFixed(0)})),a.show_nobalance=!1,a.show_nobalance_i=0,i=Object(r["a"])(Array(d["e"].N_COINS).keys()).map((function(e){return[d["e"].swap._address,d["e"].swap.methods.balances(e).encodeABI()]})),i.push([d["e"].swap._address,d["e"].swap.methods.calc_token_amount(s,!1).encodeABI()]),i.push([d["e"].swap_token._address,d["e"].swap_token.methods.balanceOf(d["e"].default_account||"0x0000000000000000000000000000000000000000").encodeABI()]),n.prev=13,n.next=16,d["e"].multicall.methods.aggregate(i).call();case 16:c=n.sent,o=c[1].map((function(e){return d["e"].web3.eth.abi.decodeParameter("uint256",e)})),o.slice(0,d["e"].N_COINS).forEach((function(e,t){var n=+e*d["e"].c_rates[t];n<a.inputs[t]?(a.show_nobalance|=!0,a.show_nobalance_i=t):a.show_nobalance|=!1})),u=m()(o[o.length-2]),u=u.div(m()(1-d["e"].fee*d["e"].N_COINS/(4*(d["e"].N_COINS-1)))),l=m()(o[o.length-1]),1==e&&u.gt(l.plus(m()(a.staked_balance)))||0==e&&a.amountAfterBTC<0?a.setAllInputBackground("red"):0==e&&a.amountAfterBTC>0&&a.setAllInputBackground("blue"),a.calcSlippage(a.inputs,!1),a.share="---",a.shareStyles={backgroundColor:"#707070",color:"#d0d0d0"},n.next=34;break;case 28:n.prev=28,n.t0=n["catch"](13),console.error(n.t0),a.show_nobalance=!0,a.show_nobalance_i=d["e"].bal_info.findIndex((function(e,t){return+a.inputs[t]>+e})),a.setAllInputBackground("red");case 34:case"end":return n.stop()}}),n,null,[[13,28]])})))()},getMinAmounts:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,l["update_fee_info"]();case 2:for(a=[],n=0;n<d["e"].N_COINS;n++)a[n]=m()(1).div(m()(e.getMaxSlippage)).times(e.share/100).times(m()(e.balances[n])),a[n]=a[n].times(m()(e.token_balance)).div(m()(e.token_supply)).toFixed(0,1);return t.abrupt("return",a);case 5:case"end":return t.stop()}}),t)})))()},claim_SNX:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a,n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.show_loading=!0,e.waitingMessage="Claiming ".concat((e.pendingSNXRewards/1e18).toFixed(2)," SNX"),"sbtc"==e.currentPool&&(e.waitingMessage+=" and ".concat((e.pendingRENRewards/1e18).toFixed(2)," REN")),a=Object(u["d"])(e.waitingMessage),n=a.dismiss,t.next=6,d["e"].curveRewards.methods.earned(d["e"].default_account).call();case 6:return s=t.sent,t.next=9,new Promise((function(t,a){d["e"].curveRewards.methods.getReward().send({from:d["e"].default_account,gasPrice:e.gasPriceWei,gas:2e5}).once("transactionHash",(function(e){n(),Object(u["c"])(e),t()})).on("receipt",(function(){return e.pendingSNXRewards=0}))["catch"]((function(e){n(),k["a"](e),a(e)}))}));case 9:if("sbtc"!=e.currentPool){t.next=19;break}return t.prev=10,t.next=13,e.balancerPool.methods.exitPool(s,["0","0"]).send({from:d["e"].default_account,gasPrice:e.gasPriceWei,gas:6e5}).once("transactionHash",(function(e){Object(u["c"])(e)}));case 13:t.next=19;break;case 15:t.prev=15,t.t0=t["catch"](10),console.error(t.t0),k["a"](t.t0);case 19:case"end":return t.stop()}}),t,null,[[10,15]])})))()},unstake:function(e){var t=arguments,a=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var s,r,i,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return s=t.length>1&&void 0!==t[1]&&t[1],r=t.length>2&&void 0!==t[2]&&t[2],a.waitingMessage=r?"\n                        Unstaking ".concat(a.toFixed(e.div(m()(1e18)))," tokens from Mintr\n                    "):"\n                    Need to unstake ".concat(a.toFixed(e.div(m()(1e18)))," tokens from Mintr for withdrawal.\n                    <br>\n                    A bit more tokens are needed to unstake to ensure that withdrawal is successful.\n                    You'll see them in your unstaked balance afterwards.\n\n                "),i=Object(u["d"])(a.waitingMessage),c=i.dismiss,n.prev=4,n.next=7,new Promise((function(t,n){d["e"].curveRewards.methods.withdraw(e.toFixed(0,1)).send({from:d["e"].default_account,gasPrice:a.gasPriceWei,gas:125e3}).once("transactionHash",(function(e){c(),Object(u["c"])(e),t()})).on("receipt",(function(t){a.staked_balance=a.staked_balance.minus(e),d["e"].curveStakedBalance-=e,l["update_fee_info"]()}))["catch"]((function(e){c(),n(e)}))}));case 7:s&&a.claim_SNX(),n.next=17;break;case 10:throw n.prev=10,n.t0=n["catch"](4),console.error(n.t0),k["a"](n.t0),a.waitingMessage="",a.show_loading=!1,n.t0;case 17:case"end":return n.stop()}}),n,null,[[4,10]])})))()},setLoadingAction:function(e){var t=this;this.loadingAction=e,setTimeout((function(){return t.loadingAction=!1}),500)},handle_remove_liquidity:function(){var e=arguments,t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var n,s,r,i,c,g,f,w,_,b,x,k,P,y,S,N,C,I,A,O;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(n=e.length>0&&void 0!==e[0]&&e[0],s=e.length>1&&void 0!==e[1]&&e[1],r=0==n?1:2,t.loadingAction!=r){a.next=5;break}return a.abrupt("return");case 5:return t.setLoadingAction(r),a.next=8,Promise.all([h["g"]()]);case 8:for(i=a.sent,t.ethPrice=i[0],t.estimateGas=0,d["e"].deposit_zap,["tbtc","ren","sbtc"].includes(d["e"].currentContract)&&d["e"].swap,[],c=0;c<d["e"].N_COINS;c++)g=m()(t.calc_balances[c]).minus(m()(t.inputs[c])),f=t.calc_balances[c]>0&&g.lte(m()(t.minAmount))&&g>0,f?o["a"].set(t.amounts,c,m()(t.calc_balances[c]).div(d["e"].c_rates[c]).toFixed(0,1)):o["a"].set(t.amounts,c,m()(Math.floor(t.inputs[c]/d["e"].c_rates[c]).toString()).toFixed(0,1));if("---"!=t.share){a.next=52;break}return a.prev=16,a.next=19,d["e"].swap.methods.calc_token_amount(t.amounts,!1).call();case 19:w=a.sent,a.next=27;break;case 22:a.prev=22,a.t0=a["catch"](16),console.error(a.t0),t.show_nobalance=!0,t.show_nobalance_i=t.to_currency;case 27:if(w=m()(w).times(m()(1).plus(t.calcFee)),w=m()(Math.floor(w*t.getMaxSlippage).toString()).toFixed(0,1),!t.token_balance.lt(m()(w))&&!n||!["susdv2","sbtc"].includes(t.currentPool)){a.next=32;break}return a.next=32,t.unstake(m()(w).minus(m()(t.token_balance)),n&&!s,s);case 32:if(!s){a.next=34;break}return a.abrupt("return");case 34:return _=t.inputs.filter(Number).length,b=0|d["f"].withdraw[t.currentPool].imbalance(_),t.estimateGas=b/2,a.prev=37,a.next=40,l["ensure_allowance_zap_out"](w,void 0,p["g"][d["e"].currentContract].adapterBiconomyAddress);case 40:return x=Object(u["d"])("Please confirm withdrawal transaction"),k=x.dismiss,a.next=43,v["k"]({address:t.btcAddress,coinDestination:d["e"].default_account,amounts:t.amounts,renBTCAmount:t.inputs[0],max_burn_amount:w,gasPrice:t.gasPriceWei,dismiss:k});case 43:a.next=50;break;case 45:throw a.prev=45,a.t1=a["catch"](37),t.waitingMessage="",t.show_loading=!1,a.t1;case 50:a.next=106;break;case 52:if(P=m()(t.token_balance),100!=t.share){a.next=59;break}return a.t2=m.a,a.next=57,d["e"].swap_token.methods.balanceOf(d["e"].default_account).call();case 57:a.t3=a.sent,P=(0,a.t2)(a.t3);case 59:if(t.showstaked&&(P=P.plus(t.staked_balance)),y=m()(t.share).div(m()(100)).times(P),!t.token_balance.lt(m()(y))&&!n||!["susdv2","sbtc"].includes(t.currentPool)){a.next=64;break}return a.next=64,t.unstake(m()(y).minus(m()(t.token_balance)),n&&!s,s);case 64:if(!s){a.next=66;break}return a.abrupt("return");case 66:if(y=y.toFixed(0,1),!(null!==t.to_currency&&t.to_currency<10)){a.next=90;break}return t.waitingMessage="Please approve ".concat(t.toFixed(y/1e18)," tokens for withdrawal"),S=Object(u["d"])(t.waitingMessage),k=S.dismiss,t.estimateGas=d["f"].depositzap[t.currentPool].withdraw/2,a.prev=71,a.next=74,d["e"].swap.methods.calc_withdraw_one_coin(y,t.to_currency).call();case 74:N=a.sent,N=m()(N).times(m()(1).minus(t.calcFee)),a.next=83;break;case 78:a.prev=78,a.t4=a["catch"](71),console.error(a.t4),t.show_nobalance=!0,t.show_nobalance_i=t.to_currency;case 83:return t.waitingMessage="Please confirm withdrawal transaction",C=Object(u["d"])(t.waitingMessage),k=C.dismiss,console.log("remove liqudiity one coin then burn"),a.next=88,v["l"]({address:t.btcAddress,coinDestination:d["e"].default_account,token_amounts:y,renBTCAmount:t.inputs[0],min_amount:m()(N).times(m()(1).div(m()(t.getMaxSlippage))).toFixed(0,1),gasPrice:t.gasPriceWei,dismiss:k});case 88:a.next=106;break;case 90:return a.prev=90,a.next=93,t.getMinAmounts();case 93:return I=a.sent,t.waitingMessage="Please confirm withdrawal transaction",A=Object(u["d"])(t.waitingMessage),k=A.dismiss,t.estimateGas=6e5,a.next=99,v["m"]({address:t.btcAddress,coinDestination:d["e"].default_account,amount:y,renBTCAmount:t.inputs[0],min_amounts:I,gasPrice:t.gasPriceWei,dismiss:k});case 99:a.next=106;break;case 101:throw a.prev=101,a.t5=a["catch"](90),t.waitingMessage="",t.show_loading=!1,a.t5;case 106:if("---"==t.share)for(O=0;O<d["e"].N_COINS;O++)t.handle_change_amounts(O);return t.show_loading=!1,t.waitingMessage="",t.estimateGas=0,t.gasPrice=0,a.next=113,t.update_balances();case 113:return a.next=115,l["update_fee_info"]();case 115:case"end":return a.stop()}}),a,null,[[16,22],[37,45],[71,78],[90,101]])})))()},handle_change_share:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a,n,s,r,i,c,u,l,h;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=d["e"].deposit_zap,["tbtc","ren","sbtc"].includes(d["e"].currentContract)&&(a=d["e"].swap),e.warninglow=!1,e.showWithdrawSlippage=!1,e.show_nobalance=!1,null==e.to_currency&&0==e.withdrawc&&"---"==e.share&&(e.to_currency=10),"---"!=e.share&&null!=e.to_currency&&10!=e.to_currency&&(e.showWithdrawSlippage=!0),n=e.showstaked?e.token_balance.plus(e.staked_balance):e.token_balance,console.log(n,"TOKEN BALANCE"),d["e"].showSlippage=!1,d["e"].slippage=0,!(null!==e.to_currency&&e.to_currency<10)){t.next=40;break}if(s=m()(e.share).div(m()(100)).times(n).toFixed(0,1),100!=e.share){t.next=18;break}return t.next=16,d["e"].swap_token.methods.balanceOf(d["e"].default_account||"0x0000000000000000000000000000000000000000").call();case 16:s=t.sent,e.showstaked&&(s=m()(s).plus(m()(e.staked_balance)).toFixed(0,1));case 18:return r=p["g"][d["e"].currentContract].coin_precisions[e.to_currency],i=Array(d["e"].N_COINS).fill(0),t.prev=20,e.warninglow=!1,c=0,t.next=25,a.methods.calc_withdraw_one_coin(s,e.to_currency).call();case 25:c=t.sent,i[e.to_currency]=m()(c),i[e.to_currency].eq(m()(0))&&(e.warninglow=!0),t.next=34;break;case 30:t.prev=30,t.t0=t["catch"](20),console.log("calc withdraw one coin error 4444"),""!=e.share&&(e.show_nobalance=!0,e.show_nobalance_i=e.to_currency);case 34:return u=Array(d["e"].N_COINS).fill(0),u[e.to_currency]=i[e.to_currency].div(r),e.inputs=e.inputs.map((function(e){return 0})),e.inputs[e.to_currency]=e.toFixed(m()(u[e.to_currency]),2,1),t.next=40,e.calcSlippage([],!1,i,e.to_currency);case 40:if(e.shareStyles.backgroundColor="blue",e.shareStyles.color="aqua","---"==e.share?e.share=0:e.share>100|e.share<0&&(e.shareStyles.backgroundColor="red"),!(null!==e.to_currency&&e.to_currency<10)){t.next=45;break}return t.abrupt("return");case 45:for(l=0;l<d["e"].N_COINS;l++)e.share>=0&e.share<=100?(h=m()(e.share/100*e.balances[l]*d["e"].c_rates[l]*n/e.token_supply),o["a"].set(e.inputs,l,e.toFixed(h,2,1))):o["a"].set(e.inputs,l,0),o["a"].set(e.inputStyles,l,{backgroundColor:"#707070",color:"#d0d0d0"});case 46:case"end":return t.stop()}}),t,null,[[20,30]])})))()},setAllInputBackground:function(e){for(var t=0;t<d["e"].N_COINS;t++)o["a"].set(this.inputStyles,t,Object.assign(this.inputStyles[t]||{},{backgroundColor:e}))},handle_migrate_new:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("compound"!=e.currentPool){t.next=2;break}return t.abrupt("return",l["handle_migrate_new"]("new"));case 2:return e.share=100,t.next=5,e.handle_remove_liquidity();case 5:case"end":return t.stop()}}),t)})))()}}}),N=S,C=(a("b4a0"),a("2877")),I=Object(C["a"])(N,n,s,!1,null,null,null);t["default"]=I.exports},e7e9:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("p",{directives:[{name:"show",rawName:"v-show",value:e.errorMessage,expression:"errorMessage"}],staticClass:"simple-error pulse"},[e._v(" "+e._s(e.errorMessage)+" ")]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.gasPriceMedium,expression:"gasPriceMedium"}],staticClass:"do-center",attrs:{id:"gas_price"}},[a("span",{staticStyle:{color:"#86fce7"}},[e._v("Gas price:")]),a("input",{attrs:{id:"gasstandard",type:"radio",name:"gas"},domProps:{value:e.gasPriceMedium},on:{click:function(t){e.customGasDisabled=!0,e.gasPrice=e.gasPriceMedium}}}),a("label",{attrs:{for:"gasstandard"}},[e._v(e._s(Math.round(e.gasPriceMedium))+" Standard")]),a("input",{attrs:{id:"gasfast",type:"radio",name:"gas",checked:""},domProps:{value:e.gasPriceFast},on:{click:function(t){e.customGasDisabled=!0,e.gasPrice=e.gasPriceFast}}}),a("label",{attrs:{for:"gasfast"}},[e._v(e._s(Math.round(e.gasPriceFast))+" Fast")]),a("input",{attrs:{id:"gasinstant",type:"radio",name:"gas"},domProps:{value:e.gasPriceFastest},on:{click:function(t){e.customGasDisabled=!0,e.gasPrice=e.gasPriceFastest}}}),a("label",{attrs:{for:"gasinstant"}},[e._v(e._s(Math.round(e.gasPriceFastest))+" Instant")]),a("input",{attrs:{id:"custom_gas",type:"radio",name:"gas",value:"-"},on:{click:function(t){e.customGasDisabled=!1,e.gasPrice=e.gasPriceSlow}}}),a("label",{attrs:{for:"custom_gas"},on:{click:function(t){e.customGasDisabled=!1,e.gasPrice=e.gasPriceSlow}}},[a("input",{attrs:{type:"text",id:"custom_gas_input",disabled:e.customGasDisabled,name:"custom_gas_input"},domProps:{value:e.customGasPriceInput},on:{input:function(t){return e.setCustomGas(t)}}}),a("span",{directives:[{name:"show",rawName:"v-show",value:e.customGasPriceInput==e.gasPriceSlow,expression:"customGasPriceInput == gasPriceSlow"}]}),a("span",{directives:[{name:"show",rawName:"v-show",value:e.customGasPriceInput&&e.customGasPriceInput<e.gasPriceSlow,expression:"customGasPriceInput && customGasPriceInput < gasPriceSlow"}],staticClass:"gastoolow"},[e._m(0)])])])])},s=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"tooltip"},[e._v(" Low "),a("span",{staticClass:"tooltiptext"},[e._v(" Too low gas price. Your transaction may be dropped. ")])])}],r=(a("b680"),a("d3b7"),a("4795"),a("96cf"),a("1da1")),i=a("0a37"),c=a("0c7c"),o=a("2fa3"),u=a("fe5c"),l=a("901e"),d=a.n(l),p={data:function(){return{customGasDisabled:!0}},computed:{gasPriceSlow:function(){return i["a"].gasPriceInfo&&i["a"].gasPriceInfo.low||15},gasPriceMedium:function(){return i["a"].gasPriceInfo&&i["a"].gasPriceInfo.standard||20},gasPriceFast:function(){return i["a"].gasPriceInfo&&i["a"].gasPriceInfo.fast||25},gasPriceFastest:function(){return i["a"].gasPriceInfo&&i["a"].gasPriceInfo.instant||30},gasPrice:{get:function(){return i["a"].gasPrice},set:function(e){i["a"].gasPrice=e}},customGasPriceInput:function(){return this.customGasDisabled?this.gasPriceSlow:this.gasPrice},errorMessage:function(){return setTimeout((function(){return c["b"].txError=null}),2200),c["b"].txError}},created:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:!i["a"].fetched&&e.getGasPrice(),i["a"].gasPriceInterval&&Object(u["clearIntervalAsync"])(i["a"].gasPriceInterval),i["a"].gasPriceInterval&&!i["a"].gasPriceInterval.stopped||(i["a"].gasPriceInterval=Object(u["setIntervalAsync"])((function(){return e.getGasPrice()}),3e3)),e.$watch((function(){return i["a"].gasPrice}),(function(e){i["a"].gasPriceWei=d()(e).times(1e9).toFixed(0,1)}),{immediate:!0});case 4:case"end":return t.stop()}}),t)})))()},methods:{getGasPrice:function(){return Object(r["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(o["o"])(fetch("https://gasprice.poa.network/"));case 3:return t=e.sent,e.next=6,t.json();case 6:if(t=e.sent,i["a"].gasPriceInfo=t,i["a"].gasPriceInfo.low=i["a"].gasPriceInfo.slow,!(i["a"].gasPriceInfo.fast>1e3)){e.next=11;break}throw new Error("too high!");case 11:e.next=21;break;case 13:return e.prev=13,e.t0=e["catch"](0),console.error(e.t0),e.next=18,web3.eth.getGasPrice();case 18:e.t1=e.sent,a=e.t1/1e9,i["a"].gasPriceInfo={low:a-2,standard:a,fast:a+2,instant:a+4};case 21:i["a"].fetched||(i["a"].gasPrice=i["a"].gasPriceInfo.fast,i["a"].fetched=!0);case 22:case"end":return e.stop()}}),e,null,[[0,13]])})))()},setCustomGas:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:n=e.target.value,e.target.value>2*t.gasPriceFastest&&(n=2*t.gasPriceFastest),t.gasPrice=n;case 3:case"end":return a.stop()}}),a)})))()}}},h=p,g=(a("5199"),a("2877")),m=Object(g["a"])(h,n,s,!1,null,"11f75e20",null);t["a"]=m.exports},fe5c:function(e,t,a){"use strict";a.r(t),a.d(t,"SetIntervalAsyncError",(function(){return c})),a.d(t,"clearIntervalAsync",(function(){return r})),a.d(t,"setIntervalAsync",(function(){return p}));var n=a("3bdc");const s=Math.pow(2,31)-1;function r(e){return i.apply(this,arguments)}function i(){return i=n((function*(e){e.stopped=!0;for(var t=0,a=Object.values(e.timeouts);t<a.length;t++){const e=a[t];clearTimeout(e)}const n=()=>{},r=Object.values(e.promises).map(e=>{e.catch(n)}),i=setInterval(n,s);yield Promise.all(r),clearInterval(i)})),i.apply(this,arguments)}class c extends Error{}Object.defineProperty(c.prototype,"name",{value:"SetIntervalAsyncError"});const o=10;function u(e){if("function"!==typeof e)throw new c('Invalid argument: "handler". Expected a function.')}function l(e){if(!("number"===typeof e&&o<=e))throw new c(`Invalid argument: "interval". Expected a number greater than or equal to ${o}.`)}class d{constructor(){this.stopped=!1,this.id=0,this.timeouts={},this.promises={}}}function p(e,t,...a){u(e),l(t);const n=new d,s=n.id;return n.timeouts[s]=setTimeout(h,t,n,e,t,...a),n}function h(e,t,a,...s){const r=e.id;e.promises[r]=n((function*(){const n=new Date;try{yield t(...s)}catch(c){console.error(c)}const i=new Date;if(!e.stopped){const c=i-n,o=a>c?a-c:0;e.timeouts[r+1]=setTimeout(h,o,e,t,a,...s)}delete e.timeouts[r],delete e.promises[r]}))(),e.id=r+1}}}]);
//# sourceMappingURL=chunk-aae09bde.f8b474ed.js.map