(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6b4d7330"],{"705e":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"window white"},[a("fieldset",[e._m(0),a("highcharts",{ref:"highcharts",attrs:{"constructor-type":"stockChart",options:e.chartdata}})],1)]),a("div",{staticClass:"window white"},[a("fieldset",[a("legend",[e._v("Total trading volume")]),a("highcharts",{ref:"highcharts2",attrs:{"constructor-type":"stockChart",options:e.volumeChartdata}})],1)]),a("div",{staticClass:"window white"},[a("fieldset",[a("legend",[e._v("Trading fees")]),e._m(1),a("highcharts",{ref:"feecharts",staticClass:"tradingfees",attrs:{"constructor-type":"stockChart",options:e.tradingFeesChartdata}})],1)]),e._l(Object.keys(e.pools),(function(t,s){return a("div",{staticClass:"window white"},[a("p",{staticClass:"text-center"},[a("router-link",{directives:[{name:"show",rawName:"v-show",value:"susd"!=t,expression:"currency != 'susd'"}],attrs:{to:"susd"==t?"susdv2":t}},[e._v(" swerve.fi/"+e._s("swusd"==t?"y":"susd"==t?"susdv2":t)+" ")]),a("a",{directives:[{name:"show",rawName:"v-show",value:"susd"==t,expression:"currency == 'susd'"}],attrs:{href:"https://swusd.finance/pool"}},[e._v("susd")])],1),a("daily-chart",{attrs:{data:e.poolData[s],pool:"swusd"==t?"y":t,volume:e.volumesData["swusd"==t?"y":"susdv2"==t?"susd":t]}})],1)}))],2)},n=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("legend",[e._v("Daily APY % and trading volume "),a("span",{staticClass:"tooltip"},[e._v("[?]"),a("span",{staticClass:"tooltiptext long"},[e._v("Daily Pool APY + Lending APY (annualized)")])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"info-message gentle-message"},[e._v(" The chart shows only trading "),a("b",[e._v("volume")]),e._v(" fees and does not account for fees from deposits/withdrawals ")])}],r=(a("99af"),a("a623"),a("cb29"),a("d81d"),a("13d5"),a("0d03"),a("b0c0"),a("b680"),a("b64b"),a("d3b7"),a("07ac"),a("3ca3"),a("ddb0"),a("b85c")),o=a("3835"),i=a("ade3"),c=a("2909"),l=a("5530"),d=(a("96cf"),a("1da1")),u=a("a041"),h=a("a4e2"),p=a("ea7f"),m=a.n(p),v=a("0319"),b=a.n(v),f=a("d68a"),g=a.n(f),y=a("4452"),w=a("37d8"),x=a.n(w),_=a("2fa3");b()(m.a),g()(m.a),x()(m.a),m.a.setOptions({lang:{loading:""}});var A={components:{DailyChart:u["a"],highcharts:y["Chart"]},data:function(){return{pools:{compound:"compound",usdt:"usdt",swusd:"y",busd:"busd",susdv2:"susdv2",pax:"pax",tbtc:"tbtc",ren:"ren",sbtc:"sbtc"},chartdata:{title:{text:""},chart:{panning:!0,zoomType:"x",panKey:"ctrl",height:800},yAxis:[{opposite:!1,title:{text:"Daily APY %"},type:"logarithmic",height:"60%"},{id:"volumeAxis",opposite:!1,title:{text:"Trading volume",style:{color:"black"},margin:10},labels:{style:{color:"black"},align:"right",x:-30},top:"65%",height:"35%",offset:0}],tooltip:{valueDecimals:3,pointFormatter:function(){var e=Math.floor(100*this.y)/100+"%";return"Trading Volume"==this.series.name?'<span style="color:'.concat(this.color,'">●</span> ').concat(this.series.name,": <b>").concat(this.y.toFixed(0),"</b><br/>"):'<span style="color:'.concat(this.color,'">●</span> ').concat(this.series.name,": <b>").concat(e,"</b><br/>")}},legend:{enabled:!0},series:[]},volumeChartdata:{title:{text:"Total Trading Volume"},chart:{panning:!0,zoomType:"x",panKey:"ctrl",height:600},yAxis:[{id:"volumeAxis",opposite:!1,title:{text:"Trading volume",style:{color:"black"},margin:10},labels:{style:{color:"black"},align:"right",x:-30},offset:0}],tooltip:{valueDecimals:3,pointFormatter:function(){Math.floor(100*this.y);return"Trading Volume"==this.series.name?'<span style="color:'.concat(this.color,'">●</span> ').concat(this.series.name,": <b>").concat(_["e"](this.y,0),"$</b><br/>"):'<span style="color:'.concat(this.color,'">●</span> ').concat(this.series.name,": <b>").concat(this.y.toFixed(0),"</b><br/>")}},legend:{enabled:!0},series:[]},tradingFeesChartdata:{title:{text:"Trading Fees"},chart:{panning:!0,zoomType:"x",panKey:"ctrl",height:600},yAxis:[{id:"volumeAxis",opposite:!1,title:{text:"Trading fees",style:{color:"black"},margin:10},labels:{style:{color:"black"},align:"right",x:-30},offset:0}],tooltip:{valueDecimals:3,pointFormatter:function(){Math.floor(100*this.y);return"Trading Fees"==this.series.name?'<span style="color:'.concat(this.color,'">●</span> ').concat(this.series.name,": <b>").concat(_["e"](this.y,0),"$</b><br/>"):'<span style="color:'.concat(this.color,'">●</span> ').concat(this.series.name,": <b>").concat(this.y.toFixed(0),"</b><br/>")}},legend:{enabled:!0},series:[]},poolData:[],start:0,end:0,chart:null,volumeChart:null,tradingFeesChart:null}},computed:{volumesData:function(){return h["f"].volumes}},mounted:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var a,s,n,d,u,p,m,v,b,f,g,y,w,x,_,A,C;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=["compound","usdt","y","busd","susd","pax","tbtc","ren","sbtc"],s=h["f"].allVolume,e.$watch((function(){return Object.keys(s).every((function(e){return s[e].length>0}))}),(function(t){t&&function(){var t=[],s=h["f"].allVolume,n=Object.keys(s).reduce((function(e,t){return s[e].length>s[t].length?e:t}));s=Object.keys(s).reduce((function(e,t){return Object(l["a"])(Object(l["a"])({},e),{},Object(i["a"])({},t,new Array(Math.max.apply(Math,Object(c["a"])(Object.values(s).map((function(e){return e.length}))))-s[t].length).fill({}).concat(s[t])))}),{}),s.susdv2=s.susd;for(var r=function(e){t.push([s[n][e][0],a.map((function(t){return t="susd"==t?"susdv2":t,s[t]&&s[t][e]&&s[t][e][1]||0})).reduce((function(e,t){return+e+ +t}),0)])},d=0;d<s[n].length;d++)r(d);e.chart.addSeries({type:"column",name:"Trading Volume",data:t,color:"#0b0a57",yAxis:1}),e.volumeChart.addSeries({type:"line",name:"Trading Volume",data:t,color:"#0b0a57"}),e.volumeChart.hideLoading();var u=t.map((function(e){var t=Object(o["a"])(e,2),a=t[0],s=t[1];return[a,.04*s/100]}));e.tradingFeesChart.addSeries({type:"line",name:"Trading Fees",data:u}),e.tradingFeesChart.hideLoading(),e.chart.hideLoading()}()})),e.chart=e.$refs.highcharts.chart,e.volumeChart=e.$refs.highcharts2.chart,e.tradingFeesChart=e.$refs.feecharts.chart,e.volumeChart.showLoading(),e.chart.showLoading(),e.tradingFeesChart.showLoading(),n=new Date,n.setHours(0,0,0,0),e.start=n.getTime()/1e3,d=new Date,d.setHours(23,59,59,999),e.end=d.getTime()/1e3,u=Object.values(e.pools).map((function(e){return"susdv2"==e?"susd":"ren"==e?"ren2":"sbtc"==e?"rens":e})).map((function(e){return fetch("".concat(window.domain,"/raw-stats/").concat(e,"-1440m.json"))})),t.next=18,Promise.all(u);case 18:p=t.sent,m=Object(r["a"])(p.entries()),t.prev=20,m.s();case 22:if((v=m.n()).done){t.next=33;break}return b=Object(o["a"])(v.value,2),f=b[0],g=b[1],t.next=26,g.json();case 26:for(y=t.sent,w=[],x=1;x<y.length;x++)_=y[x],A=_.timestamp-y[x-1].timestamp,C=Math.pow(_.virtual_price/1e18/(y[x-1].virtual_price/1e18),31536e3/A)-1,w.push([1e3*_.timestamp,100*C]);e.chart.addSeries({name:2==f?"y":Object.keys(e.pools)[f],data:w}),e.poolData.push(y);case 31:t.next=22;break;case 33:t.next=38;break;case 35:t.prev=35,t.t0=t["catch"](20),m.e(t.t0);case 38:return t.prev=38,m.f(),t.finish(38);case 41:h["e"](Object.values(e.pools));case 42:case"end":return t.stop()}}),t,null,[[20,35,38,41]])})))()}},C=A,k=(a("b45f"),a("2877")),P=Object(k["a"])(C,s,n,!1,null,"8da16b4c",null);t["default"]=P.exports},a041:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("fieldset",[e._m(0),a("highcharts",{ref:"highcharts",attrs:{"constructor-type":"stockChart",options:e.chartdata}}),a("p",{directives:[{name:"show",rawName:"v-show",value:e.volume&&-1!=e.volume[0],expression:"volume && volume[0] != -1"}]},[a("span",[e._v("Daily USD trading volume:")]),a("span",{class:{"loading line":!e.volume}},[a("span",{directives:[{name:"show",rawName:"v-show",value:e.volume&&-1!=e.volume[0],expression:"volume && volume[0] != -1"}]},[e._v(" "+e._s(e._f("formatNumber")(e.volume&&e.volume[0]||0,0))+"$")])])]),a("div",{directives:[{name:"show",rawName:"v-show",value:["tbtc","ren","sbtc"].includes(e.pool),expression:"['tbtc', 'ren', 'sbtc'].includes(pool)"}]},[a("span",[e._v("Daily ₿ trading volume:")]),a("span",[a("span",{directives:[{name:"show",rawName:"v-show",value:e.volume&&-1!=e.volume[1],expression:"volume && volume[1] != -1"}]},[e._v(" "+e._s(e._f("formatNumber")(e.volume&&e.volume[1]||0,8))+" ₿ ")])])]),a("p")],1)},n=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("legend",[e._v("Daily APY % "),a("span",{staticClass:"tooltip"},[e._v("[?]"),a("span",{staticClass:"tooltiptext long"},[e._v("Pool APY % + Lending APY % (on annual basis)")])])])}],r=(a("99af"),a("7db0"),a("caad"),a("d81d"),a("6eba"),a("0d03"),a("b0c0"),a("b680"),a("d3b7"),a("3ca3"),a("ddb0"),a("96cf"),a("1da1")),o=a("3835"),i=a("99e5"),c=a.n(i),l=a("ea7f"),d=a.n(l),u=a("0319"),h=a.n(u),p=a("d68a"),m=a.n(p),v=a("4452"),b=a("37d8"),f=a.n(b),g=a("2fa3"),y=a("5245"),w=a("a4e2");h()(d.a),m()(d.a),f()(d.a),d.a.setOptions({lang:{loading:""}});var x=new c.a(y["k"]),_={props:{data:Array,volume:{type:Array},pool:String},components:{highcharts:v["Chart"]},data:function(){return{chartdata:{chart:{panning:!0,zoomType:"x",panKey:"ctrl",height:600},rangeSelector:{selected:1},exporting:{buttons:{contextButton:{menuItems:["printChart","separator","downloadPNG","downloadJPEG","downloadPDF","downloadSVG","separator","downloadCSV","downloadXLS","openInCloud"]}}},yAxis:[{id:"apyAxis",opposite:!1,type:"logarithmic",min:.1,title:{text:"Daily APY [%]",style:{color:"black"},margin:10},labels:{align:"right",x:-30,formatter:function(){return(Math.floor(100*this.value)/100).toFixed(2)},style:{color:"black"}},tickPixelInterval:10,height:"60%"},{id:"volumeAxis",opposite:!1,title:{text:"Trading Volume",style:{color:"black"},margin:10},labels:{style:{color:"black"},align:"right",x:-30},top:"65%",height:"35%",offset:0}],xAxis:{labels:{style:{color:"black"}}},series:[],tooltip:{split:!0,valueDecimals:3,pointFormatter:function(e){return function(){var t=Math.floor(100*this.y)/100+"%";if("Daily APY"==this.series.name)return'<span style="color:'.concat(this.color,'">●</span> ').concat(this.series.name,": <b>").concat(t,"</b><br/>");if("SNX APY"==this.series.name)return'<span style="color:'.concat(this.color,'">●</span> ').concat(this.series.name,": <b>").concat(t,"</b><br/>");if("SNX+REN APY"==this.series.name)return'<span style="color:'.concat(this.color,'">●</span> ').concat(this.series.name,": <b>").concat(t,"</b><br/>");if("YFI APY"==this.series.name)return'<span style="color:'.concat(this.color,'">●</span> ').concat(this.series.name,": <b>").concat(t,"</b><br/>");if("Total APY"==this.series.name)return'<span style="color:'.concat(this.color,'">●</span> ').concat(this.series.name,": <b>").concat(t,"</b><br/>");if("Lending APY"==this.series.name)return'<span style="color:'.concat(this.color,'">●</span> ').concat(this.series.name,": <b>").concat(t,"</b><br/>");if("Trading Volume"===this.series.name){var a=this.y.toFixed(2);return["tbtc","ren","sbtc"].includes(e.pool)&&(a=this.y.toFixed(8)),'<span style="color:'.concat(this.color,'">●</span> ').concat(this.series.name," : <b>").concat(a,"</b><br/>")}}}(this)},legend:{enabled:!0}},chart:null}},computed:{volumeData:function(){return["tbtc","ren","sbtc"].includes(this.pool)?g["e"](this.volume,8):g["e"](this.volume,0)}},watch:{"data.length":function(e){this.mounted()}},mounted:function(){this.chart=this.$refs.highcharts.chart,this.chart.showLoading()},methods:{loaded:function(){this.loading=!1},findClosestPrice:function(e,t){var a=t.find((function(t){var a=Object(o["a"])(t,2),s=a[0];a[1];return s/1e3>e}));return void 0===a?t[t.length-1][1]:a[1]},mounted:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,s,n,r,i,c,l,d,u,h,p,m,v,b,f,g,_,A,C,k,P,T,j,O,D,S,F,Y,N,R,I,L,V,$,E,M,W,B,X,z,K,G,J,U,H,q,Q,Z,ee,te,ae,se,ne,re,oe,ie,ce,le,de,ue,he,pe,me;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:while(e.chart.series.length)e.chart.series[0].remove();for(a=[],s=1;s<e.data.length;s++)n=e.data[s],r=n.timestamp-e.data[s-1].timestamp,i=Math.pow(n.virtual_price/1e18/(e.data[s-1].virtual_price/1e18),31536e3/r)-1,a.push([1e3*n.timestamp,100*i]);if(e.chart.addSeries({name:"Daily APY",lineWidth:2,data:a,color:"#0b0a57"},!1,!1),"susdv2"!=e.pool){t.next=25;break}return c=e.data[0].timestamp,l=e.data[e.data.length-1].timestamp,t.next=9,fetch("https://api.coingecko.com/api/v3/coins/havven/market_chart/range?vs_currency=usd&from=".concat(c,"&to=").concat(l));case 9:return d=t.sent,t.next=12,d.json();case 12:return d=t.sent.prices,u=new x.eth.Contract(y["g"].susdv2.sCurveRewards_abi,y["g"].susdv2.sCurveRewards_address),h=new x.eth.Contract(y["l"],y["m"]),p=[[u._address,u.methods.DURATION().encodeABI()],[u._address,u.methods.rewardRate().encodeABI()],[u._address,u.methods.periodFinish().encodeABI()]],t.next=18,h.methods.aggregate(p).call();case 18:for(m=t.sent,v=m[1].map((function(e){return x.eth.abi.decodeParameter("uint256",e)})),b=[],f=1;f<e.data.length;f++)g=e.data[f].timestamp,_=e.data[f].supply,A=e.data[f].virtual_price,C=e.findClosestPrice(e.data[f].timestamp,d),k=64e3,g>1590705735&&g<1594256015&&(k=48e3),g>1594256015&&(k=v[0]*v[1]/1e18),+v[2]<g&&(k=1e-6),P=356*k/7*C/(.98*_*A/1e36)*100,b.push([1e3*g,P]);e.chart.addSeries({name:"SNX APY",lineWidth:2,data:b,color:"#f45b5b"}),T=a.map((function(e,t){var a=Object(o["a"])(e,2),s=a[0],n=a[1];return[s,n+b[t][1]]})),e.chart.addSeries({name:"Total APY",lineWidth:2,data:T,color:"#8085e9"});case 25:if(Date.now()/1e3,"sbtc"!=e.pool){t.next=48;break}return j=e.data[0].timestamp,O=e.data[e.data.length-1].timestamp,t.next=31,Promise.all([fetch("https://api.coingecko.com/api/v3/coins/havven/market_chart/range?vs_currency=usd&from=".concat(j,"&to=").concat(O)),fetch("https://api.coingecko.com/api/v3/coins/republic-protocol/market_chart/range?vs_currency=usd&from=".concat(j,"&to=").concat(O)),fetch("https://api.coingecko.com/api/v3/simple/price?ids=bitcoin&vs_currencies=usd")]);case 31:return D=t.sent,t.next=34,Promise.all(D.map((function(e){return e.json()})));case 34:return S=t.sent,console.log(S,"PRICES"),F=S[0].prices,Y=S[1].prices,N=S[2].bitcoin.usd,R=new x.eth.Contract(y["g"].sbtc.sCurveRewards_abi,y["g"].sbtc.sCurveRewards_address),t.next=42,R.methods.periodFinish().call();case 42:for(I=t.sent,L=[],V=1;V<e.data.length;V++)$=e.data[V].timestamp,E=e.data[V].supply,M=e.data[V].virtual_price,W=e.findClosestPrice(e.data[V].timestamp,F),B=e.findClosestPrice(e.data[V].timestamp,Y),X=1e4,z=25e3,+I<$&&(X=1e-6,z=1e-6),K=356*(X*W+z*B)/7/(.98*N*E*M/1e36)*100,L.push([1e3*$,K]);e.chart.addSeries({name:"SNX+REN APY",lineWidth:2,data:L,color:"#f45b5b"}),G=a.map((function(e,t){var a=Object(o["a"])(e,2),s=a[0],n=a[1];return[s,n+L[t][1]]})),e.chart.addSeries({name:"Total APY",lineWidth:2,data:G,color:"#8085e9"});case 48:if(!["y","swusd"].includes(e.pool)){t.next=70;break}return J=1594972885,U=e.data[e.data.length-1].timestamp,t.next=53,fetch("https://api.coingecko.com/api/v3/coins/yearn-finance/market_chart/range?vs_currency=usd&from=".concat(J,"&to=").concat(U));case 53:return H=t.sent,console.log("https://api.coingecko.com/api/v3/coins/yearn-finance/market_chart/range?vs_currency=usd&from=".concat(J,"&to=").concat(U)),t.next=57,H.json();case 57:return H=t.sent.prices,q=new x.eth.Contract(y["g"].swusd.sCurveRewards_abi,y["g"].swusd.sCurveRewards_address),Q=new x.eth.Contract(y["l"],y["m"]),Z=[[q._address,q.methods.DURATION().encodeABI()],[q._address,q.methods.rewardRate().encodeABI()],[q._address,q.methods.periodFinish().encodeABI()]],t.next=63,Q.methods.aggregate(Z).call();case 63:for(ee=t.sent,te=ee[1].map((function(e){return x.eth.abi.decodeParameter("uint256",e)})),ae=[],se=1;se<e.data.length;se++)ne=e.data[se].timestamp,re=e.data[se].supply,oe=e.data[se].virtual_price,console.log(H,"SNX PRICES"),ie=e.findClosestPrice(e.data[se].timestamp,H),ce=te[0]*te[1]/1e18,+te[2]<ne&&(ce=1e-6),ne<1594972885&&(ce=0),le=356*ce/7*ie/(.98*re*oe/1e36)*100,ae.push([1e3*ne,le]);e.chart.addSeries({name:"YFI APY",lineWidth:2,data:ae,color:"#f45b5b"}),de=a.map((function(e,t){var a=Object(o["a"])(e,2),s=a[0],n=a[1];return[s,n+ae[t][1]]})),e.chart.addSeries({name:"Total APY",lineWidth:2,data:de,color:"#8085e9"});case 70:return["susd"].includes(e.pool)&&e.chart.yAxis[0].update({type:"linear"}),t.next=73,w["c"](e.pool,!1,1440);case 73:if(ue=w["f"].allVolume["susdv2"==e.pool?"susd":e.pool],e.chart.addSeries({type:"column",name:"Trading Volume",data:ue,color:"#0b0a57",yAxis:"volumeAxis"},!1,!1),e.chart.redraw(!1),pe="apyAxis",["susdv2","tbtc","ren","sbtc"].includes(e.pool)){t.next=83;break}return t.next=80,w["d"](e.pool,!1,1440);case 80:he=t.sent,t.next=87;break;case 83:he=ue.map((function(e){return[e[0],0]})),pe="lendingAxis",e.chart.addAxis({id:"lendingAxis",opposite:!1,type:"linear",title:{text:"Lending rates",style:{color:"black"}},labels:{x:40,style:{color:"black"}},tickPixelInterval:10,top:"65%",height:"5%"}),e.chart.yAxis[1].update({top:"70%",height:"30%"});case 87:e.chart.addSeries({name:"Lending APY",data:he,yAxis:pe,color:"#7bb5ec"}),["susdv2","tbtc","ren","sbtc","y","swusd"].includes(e.pool)||(me=a.map((function(e,t){var a=Object(o["a"])(e,2),s=a[0],n=a[1];return[s,n+he[t][1]]})),e.chart.addSeries({name:"Total APY",lineWidth:2,data:me,color:"#8085e9"})),e.chart.redraw(),e.chart.hideLoading(),e.loading=!1;case 92:case"end":return t.stop()}}),t)})))()}}},A=_,C=a("2877"),k=Object(C["a"])(A,s,n,!1,null,null,null);t["a"]=k.exports},a623:function(e,t,a){"use strict";var s=a("23e7"),n=a("b727").every,r=a("a640"),o=a("ae40"),i=r("every"),c=o("every");s({target:"Array",proto:!0,forced:!i||!c},{every:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}})},a89e:function(e,t,a){},b45f:function(e,t,a){"use strict";var s=a("a89e"),n=a.n(s);n.a}}]);
//# sourceMappingURL=chunk-6b4d7330.4e666a79.js.map