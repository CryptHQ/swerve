(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1c7e086f"],{"0481":function(e,t,r){"use strict";var n=r("23e7"),a=r("a2bf"),i=r("7b0b"),s=r("50c4"),o=r("a691"),c=r("65f0");n({target:"Array",proto:!0},{flat:function(){var e=arguments.length?arguments[0]:void 0,t=i(this),r=s(t.length),n=c(t,0);return n.length=a(n,t,t,r,0,void 0===e?1:o(e)),n}})},"0b7b":function(e,t,r){e.exports=r.p+"img/clock-regular.54749a5a.svg"},"26e9":function(e,t,r){"use strict";var n=r("23e7"),a=r("e8b5"),i=[].reverse,s=[1,2];n({target:"Array",proto:!0,forced:String(s)===String(s.reverse())},{reverse:function(){return a(this)&&(this.length=this.length),i.call(this)}})},"3bdc":function(e,t,r){function n(e,t,r,n,a,i,s){try{var o=e[i](s),c=o.value}catch(u){return void r(u)}o.done?t(c):Promise.resolve(c).then(n,a)}function a(e){return function(){var t=this,r=arguments;return new Promise((function(a,i){var s=e.apply(t,r);function o(e){n(s,a,i,o,c,"next",e)}function c(e){n(s,a,i,o,c,"throw",e)}o(void 0)}))}}r("d3b7"),e.exports=a},"3d15":function(e,t,r){"use strict";r.d(t,"a",(function(){return m}));const n=Symbol("Comlink.proxy"),a=Symbol("Comlink.endpoint"),i=Symbol("Comlink.releaseProxy"),s=Symbol("Comlink.thrown"),o=e=>"object"===typeof e&&null!==e||"function"===typeof e,c={canHandle:e=>o(e)&&e[n],serialize(e){const{port1:t,port2:r}=new MessageChannel;return p(e,t),[r,[r]]},deserialize(e){return e.start(),m(e)}},u={canHandle:e=>o(e)&&s in e,serialize({value:e}){let t;return t=e instanceof Error?{isError:!0,value:{message:e.message,name:e.name,stack:e.stack}}:{isError:!1,value:e},[t,[]]},deserialize(e){if(e.isError)throw Object.assign(new Error(e.value.message),e.value);throw e.value}},l=new Map([["proxy",c],["throw",u]]);function p(e,t=self){t.addEventListener("message",(function r(n){if(!n||!n.data)return;const{id:a,type:i,path:o}=Object.assign({path:[]},n.data),c=(n.data.argumentList||[]).map(P);let u;try{const t=o.slice(0,-1).reduce((e,t)=>e[t],e),r=o.reduce((e,t)=>e[t],e);switch(i){case 0:u=r;break;case 1:t[o.slice(-1)[0]]=P(n.data.value),u=!0;break;case 2:u=r.apply(t,c);break;case 3:{const e=new r(...c);u=x(e)}break;case 4:{const{port1:t,port2:r}=new MessageChannel;p(e,r),u=y(t,[t])}break;case 5:u=void 0;break}}catch(l){u={value:l,[s]:0}}Promise.resolve(u).catch(e=>({value:e,[s]:0})).then(e=>{const[n,s]=_(e);t.postMessage(Object.assign(Object.assign({},n),{id:a}),s),5===i&&(t.removeEventListener("message",r),d(t))})})),t.start&&t.start()}function h(e){return"MessagePort"===e.constructor.name}function d(e){h(e)&&e.close()}function m(e,t){return g(e,[],t)}function f(e){if(e)throw new Error("Proxy has been released and is not useable")}function g(e,t=[],r=function(){}){let n=!1;const s=new Proxy(r,{get(r,a){if(f(n),a===i)return()=>I(e,{type:5,path:t.map(e=>e.toString())}).then(()=>{d(e),n=!0});if("then"===a){if(0===t.length)return{then:()=>s};const r=I(e,{type:0,path:t.map(e=>e.toString())}).then(P);return r.then.bind(r)}return g(e,[...t,a])},set(r,a,i){f(n);const[s,o]=_(i);return I(e,{type:1,path:[...t,a].map(e=>e.toString()),value:s},o).then(P)},apply(r,i,s){f(n);const o=t[t.length-1];if(o===a)return I(e,{type:4}).then(P);if("bind"===o)return g(e,t.slice(0,-1));const[c,u]=b(s);return I(e,{type:2,path:t.map(e=>e.toString()),argumentList:c},u).then(P)},construct(r,a){f(n);const[i,s]=b(a);return I(e,{type:3,path:t.map(e=>e.toString()),argumentList:i},s).then(P)}});return s}function v(e){return Array.prototype.concat.apply([],e)}function b(e){const t=e.map(_);return[t.map(e=>e[0]),v(t.map(e=>e[1]))]}const w=new WeakMap;function y(e,t){return w.set(e,t),e}function x(e){return Object.assign(e,{[n]:!0})}function _(e){for(const[t,r]of l)if(r.canHandle(e)){const[n,a]=r.serialize(e);return[{type:3,name:t,value:n},a]}return[{type:0,value:e},w.get(e)||[]]}function P(e){switch(e.type){case 3:return l.get(e.name).deserialize(e.value);case 0:return e.value}}function I(e,t,r){return new Promise(n=>{const a=N();e.addEventListener("message",(function t(r){r.data&&r.data.id&&r.data.id===a&&(e.removeEventListener("message",t),n(r.data))})),e.start&&e.start(),e.postMessage(Object.assign({id:a},t),r)})}function N(){return new Array(4).fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-")}},"3d6e":function(e,t,r){},4069:function(e,t,r){var n=r("44d2");n("flat")},"4e82":function(e,t,r){"use strict";var n=r("23e7"),a=r("1c0b"),i=r("7b0b"),s=r("d039"),o=r("a640"),c=[],u=c.sort,l=s((function(){c.sort(void 0)})),p=s((function(){c.sort(null)})),h=o("sort"),d=l||!p||!h;n({target:"Array",proto:!0,forced:d},{sort:function(e){return void 0===e?u.call(i(this)):u.call(i(this),a(e))}})},5199:function(e,t,r){"use strict";var n=r("64ea"),a=r.n(n);a.a},"5db7":function(e,t,r){"use strict";var n=r("23e7"),a=r("a2bf"),i=r("7b0b"),s=r("50c4"),o=r("1c0b"),c=r("65f0");n({target:"Array",proto:!0},{flatMap:function(e){var t,r=i(this),n=s(r.length);return o(e),t=c(r,0),t.length=a(t,r,r,n,0,1,e,arguments.length>1?arguments[1]:void 0),t}})},"5e35":function(e,t,r){"use strict";r.d(t,"b",(function(){return i})),r.d(t,"a",(function(){return s}));r("d3b7"),r("96cf");var n=r("1da1"),a=r("2fa3"),i={btcPrice:null};function s(){return o.apply(this,arguments)}function o(){return o=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["o"](fetch("https://api.coingecko.com/api/v3/simple/price?ids=bitcoin&vs_currencies=usd"),300);case 2:return t=e.sent,e.next=5,t.json();case 5:return r=e.sent,i.btcPrice=r.bitcoin.usd,e.abrupt("return",r.bitcoin.usd);case 8:case"end":return e.stop()}}),e)}))),o.apply(this,arguments)}},"64ea":function(e,t,r){},6972:function(e,t,r){"use strict";var n=r("3d6e"),a=r.n(n);a.a},"6b934":function(e,t,r){var n=r("23e7"),a=Math.log,i=Math.LOG10E;n({target:"Math",stat:!0},{log10:function(e){return a(e)*i}})},"73d9":function(e,t,r){var n=r("44d2");n("flatMap")},8356:function(e,t,r){},"880c":function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"tradeview window white"},[e.exchange?r("fieldset",{attrs:{id:"onesplit"}},[r("legend",{staticClass:"text-center"},[e._v("Swap using all Swerve pools")]),r("one-split")],1):e._e(),r("select-component",{attrs:{id:"select_pool"}}),r("highcharts",{ref:"highcharts",attrs:{"constructor-type":"stockChart",options:e.chartdata}}),r("depth",{attrs:{id:"depth_chart"}}),e.exchange?e._e():r("fieldset",{attrs:{id:"onesplit"}},[r("legend",{staticClass:"text-center"},[e._v("Swap using all Swerve pools")]),r("one-split")],1)],1)},a=[],i=(r("99af"),r("cb29"),r("4de4"),r("caad"),r("c975"),r("a15b"),r("d81d"),r("13d5"),r("fb6a"),r("6eba"),r("0d03"),r("b0c0"),r("b680"),r("4fad"),r("c1f9"),r("b64b"),r("d3b7"),r("ac1f"),r("2532"),r("3ca3"),r("1276"),r("ddb0"),r("4795"),r("2909")),s=r("5530"),o=r("3835"),c=r("b85c"),u=(r("96cf"),r("1da1")),l=r("ea7f"),p=r.n(l),h=r("0319"),d=r.n(h),m=r("d68a"),f=r.n(m),g=r("4452"),v=r("37d8"),b=r.n(v),w=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"bigdiv"},[r("div",{attrs:{id:"zoomSelect"}},[r("div",[r("label",{attrs:{for:"zoom"}},[e._v("Zoom "+e._s(e.zoom)+"%")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.zoom,expression:"zoom"}],attrs:{type:"range",min:"0",max:"300",id:"zoom"},domProps:{value:e.zoom},on:{__r:function(t){e.zoom=t.target.value}}})]),r("button",{on:{click:e.resetChart}},[e._v("Reset time interval")]),r("span",{attrs:{id:"linearcontainer"}},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.linearscale,expression:"linearscale"}],attrs:{type:"checkbox",id:"linearscale"},domProps:{checked:Array.isArray(e.linearscale)?e._i(e.linearscale,null)>-1:e.linearscale},on:{change:function(t){var r=e.linearscale,n=t.target,a=!!n.checked;if(Array.isArray(r)){var i=null,s=e._i(r,i);n.checked?s<0&&(e.linearscale=r.concat([i])):s>-1&&(e.linearscale=r.slice(0,s).concat(r.slice(s+1)))}else e.linearscale=a}}}),r("label",{attrs:{for:"linearscale"}},[e._v("Linear scale")])])]),e._v(" "),r("div",{ref:"chartcontainer",on:{mousemove:e.move}},[r("highcharts",{ref:"highcharts",staticClass:"depthchart",attrs:{options:e.depthchart}})],1)])},y=[],x=(r("0481"),r("26e9"),r("4e82"),r("4069"),r("6b934"),r("25f0"),r("2b0e")),_=new x["a"],P=_,I=r("51bf"),N=r("8c90"),C=r.n(N),k=17,O=9e15,M=308,S=-324,j=1e-10,A=function(){for(var e=[],t=S+1;t<=M;t++)e.push(Number("1e"+t));var r=323;return function(t){return e[t+r]}}(),D=function(e){return e instanceof B?e:new B(e)},E=function(e,t){return(new B).fromMantissaExponent(e,t)},R=function(e,t){return(new B).fromMantissaExponent_noNormalize(e,t)};function T(e,t,r,n){var a=t.mul(r.pow(n));return B.floor(e.div(a).mul(r.sub(1)).add(1).log10()/r.log10())}function F(e,t,r,n){return t.mul(r.pow(n)).mul(B.sub(1,r.pow(e))).div(B.sub(1,r))}function L(e,t,r,n){var a=t.add(n.mul(r)),i=a.sub(r.div(2)),s=i.pow(2);return i.neg().add(s.add(r.mul(e).mul(2)).sqrt()).div(r).floor()}function G(e,t,r,n){var a=t.add(n.mul(r));return e.div(2).mul(a.mul(2).plus(e.sub(1).mul(r)))}function q(e,t,r){return e.div(t).add(e.div(r))}var B=function(){function e(t){this.mantissa=NaN,this.exponent=NaN,void 0===t?(this.m=0,this.e=0):t instanceof e?this.fromDecimal(t):"number"===typeof t?this.fromNumber(t):this.fromString(t)}return Object.defineProperty(e.prototype,"m",{get:function(){return this.mantissa},set:function(e){this.mantissa=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"e",{get:function(){return this.exponent},set:function(e){this.exponent=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"s",{get:function(){return this.sign()},set:function(e){if(0===e)return this.e=0,void(this.m=0);this.sgn()!==e&&(this.m=-this.m)},enumerable:!0,configurable:!0}),e.fromMantissaExponent=function(t,r){return(new e).fromMantissaExponent(t,r)},e.fromMantissaExponent_noNormalize=function(t,r){return(new e).fromMantissaExponent_noNormalize(t,r)},e.fromDecimal=function(t){return(new e).fromDecimal(t)},e.fromNumber=function(t){return(new e).fromNumber(t)},e.fromString=function(t){return(new e).fromString(t)},e.fromValue=function(t){return(new e).fromValue(t)},e.fromValue_noAlloc=function(t){return t instanceof e?t:new e(t)},e.abs=function(e){return D(e).abs()},e.neg=function(e){return D(e).neg()},e.negate=function(e){return D(e).neg()},e.negated=function(e){return D(e).neg()},e.sign=function(e){return D(e).sign()},e.sgn=function(e){return D(e).sign()},e.round=function(e){return D(e).round()},e.floor=function(e){return D(e).floor()},e.ceil=function(e){return D(e).ceil()},e.trunc=function(e){return D(e).trunc()},e.add=function(e,t){return D(e).add(t)},e.plus=function(e,t){return D(e).add(t)},e.sub=function(e,t){return D(e).sub(t)},e.subtract=function(e,t){return D(e).sub(t)},e.minus=function(e,t){return D(e).sub(t)},e.mul=function(e,t){return D(e).mul(t)},e.multiply=function(e,t){return D(e).mul(t)},e.times=function(e,t){return D(e).mul(t)},e.div=function(e,t){return D(e).div(t)},e.divide=function(e,t){return D(e).div(t)},e.recip=function(e){return D(e).recip()},e.reciprocal=function(e){return D(e).recip()},e.reciprocate=function(e){return D(e).reciprocate()},e.cmp=function(e,t){return D(e).cmp(t)},e.compare=function(e,t){return D(e).cmp(t)},e.eq=function(e,t){return D(e).eq(t)},e.equals=function(e,t){return D(e).eq(t)},e.neq=function(e,t){return D(e).neq(t)},e.notEquals=function(e,t){return D(e).notEquals(t)},e.lt=function(e,t){return D(e).lt(t)},e.lte=function(e,t){return D(e).lte(t)},e.gt=function(e,t){return D(e).gt(t)},e.gte=function(e,t){return D(e).gte(t)},e.max=function(e,t){return D(e).max(t)},e.min=function(e,t){return D(e).min(t)},e.clamp=function(e,t,r){return D(e).clamp(t,r)},e.clampMin=function(e,t){return D(e).clampMin(t)},e.clampMax=function(e,t){return D(e).clampMax(t)},e.cmp_tolerance=function(e,t,r){return D(e).cmp_tolerance(t,r)},e.compare_tolerance=function(e,t,r){return D(e).cmp_tolerance(t,r)},e.eq_tolerance=function(e,t,r){return D(e).eq_tolerance(t,r)},e.equals_tolerance=function(e,t,r){return D(e).eq_tolerance(t,r)},e.neq_tolerance=function(e,t,r){return D(e).neq_tolerance(t,r)},e.notEquals_tolerance=function(e,t,r){return D(e).notEquals_tolerance(t,r)},e.lt_tolerance=function(e,t,r){return D(e).lt_tolerance(t,r)},e.lte_tolerance=function(e,t,r){return D(e).lte_tolerance(t,r)},e.gt_tolerance=function(e,t,r){return D(e).gt_tolerance(t,r)},e.gte_tolerance=function(e,t,r){return D(e).gte_tolerance(t,r)},e.log10=function(e){return D(e).log10()},e.absLog10=function(e){return D(e).absLog10()},e.pLog10=function(e){return D(e).pLog10()},e.log=function(e,t){return D(e).log(t)},e.log2=function(e){return D(e).log2()},e.ln=function(e){return D(e).ln()},e.logarithm=function(e,t){return D(e).logarithm(t)},e.pow10=function(e){return Number.isInteger(e)?R(1,e):E(Math.pow(10,e%1),Math.trunc(e))},e.pow=function(e,t){return"number"===typeof e&&10===e&&"number"===typeof t&&Number.isInteger(t)?R(1,t):D(e).pow(t)},e.exp=function(e){return D(e).exp()},e.sqr=function(e){return D(e).sqr()},e.sqrt=function(e){return D(e).sqrt()},e.cube=function(e){return D(e).cube()},e.cbrt=function(e){return D(e).cbrt()},e.dp=function(e){return D(e).dp()},e.decimalPlaces=function(e){return D(e).dp()},e.affordGeometricSeries=function(e,t,r,n){return T(D(e),D(t),D(r),n)},e.sumGeometricSeries=function(e,t,r,n){return F(e,D(t),D(r),n)},e.affordArithmeticSeries=function(e,t,r,n){return L(D(e),D(t),D(r),D(n))},e.sumArithmeticSeries=function(e,t,r,n){return G(D(e),D(t),D(r),D(n))},e.efficiencyOfPurchase=function(e,t,r){return q(D(e),D(t),D(r))},e.randomDecimalForTesting=function(e){if(20*Math.random()<1)return R(0,0);var t=10*Math.random();10*Math.random()<1&&(t=Math.round(t)),t*=Math.sign(2*Math.random()-1);var r=Math.floor(Math.random()*e*2)-e;return E(t,r)},e.prototype.normalize=function(){if(this.m>=1&&this.m<10)return this;if(0===this.m)return this.m=0,this.e=0,this;var e=Math.floor(Math.log10(Math.abs(this.m)));return this.m=e===S?10*this.m/1e-323:this.m/A(e),this.e+=e,this},e.prototype.fromMantissaExponent=function(e,t){return isFinite(e)&&isFinite(t)?(this.m=e,this.e=t,this.normalize(),this):(e=Number.NaN,t=Number.NaN,this)},e.prototype.fromMantissaExponent_noNormalize=function(e,t){return this.m=e,this.e=t,this},e.prototype.fromDecimal=function(e){return this.m=e.m,this.e=e.e,this},e.prototype.fromNumber=function(e){return isNaN(e)?(this.m=Number.NaN,this.e=Number.NaN):e===Number.POSITIVE_INFINITY?(this.m=1,this.e=O):e===Number.NEGATIVE_INFINITY?(this.m=-1,this.e=O):0===e?(this.m=0,this.e=0):(this.e=Math.floor(Math.log10(Math.abs(e))),this.m=this.e===S?10*e/1e-323:e/A(this.e),this.normalize()),this},e.prototype.fromString=function(e){if(-1!==e.indexOf("e")){var t=e.split("e");this.m=parseFloat(t[0]),this.e=parseFloat(t[1]),this.normalize()}else if("NaN"===e)this.m=Number.NaN,this.e=Number.NaN;else if(this.fromNumber(parseFloat(e)),isNaN(this.m))throw Error("[DecimalError] Invalid argument: "+e);return this},e.prototype.fromValue=function(t){return t instanceof e?this.fromDecimal(t):"number"===typeof t?this.fromNumber(t):"string"===typeof t?this.fromString(t):(this.m=0,this.e=0,this)},e.prototype.toNumber=function(){if(!isFinite(this.e))return Number.NaN;if(this.e>M)return this.m>0?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY;if(this.e<S)return 0;if(this.e===S)return this.m>0?5e-324:-5e-324;var e=this.m*A(this.e);if(!isFinite(e)||this.e<0)return e;var t=Math.round(e);return Math.abs(t-e)<j?t:e},e.prototype.mantissaWithDecimalPlaces=function(e){if(isNaN(this.m)||isNaN(this.e))return Number.NaN;if(0===this.m)return 0;var t=e+1,r=Math.ceil(Math.log10(Math.abs(this.m))),n=Math.round(this.m*Math.pow(10,t-r))*Math.pow(10,r-t);return parseFloat(n.toFixed(Math.max(t-r,0)))},e.prototype.toString=function(){return isNaN(this.m)||isNaN(this.e)?"NaN":this.e>=O?this.m>0?"Infinity":"-Infinity":this.e<=-O||0===this.m?"0":this.e<21&&this.e>-7?this.toNumber().toString():this.m+"e"+(this.e>=0?"+":"")+this.e},e.prototype.toExponential=function(e){if(isNaN(this.m)||isNaN(this.e))return"NaN";if(this.e>=O)return this.m>0?"Infinity":"-Infinity";if(this.e<=-O||0===this.m)return"0"+(e>0?C()(".",e+1,"0"):"")+"e+0";if(this.e>S&&this.e<M)return this.toNumber().toExponential(e);isFinite(e)||(e=k);var t=e+1,r=Math.max(1,Math.ceil(Math.log10(Math.abs(this.m)))),n=Math.round(this.m*Math.pow(10,t-r))*Math.pow(10,r-t);return n.toFixed(Math.max(t-r,0))+"e"+(this.e>=0?"+":"")+this.e},e.prototype.toFixed=function(e){return isNaN(this.m)||isNaN(this.e)?"NaN":this.e>=O?this.m>0?"Infinity":"-Infinity":this.e<=-O||0===this.m?"0"+(e>0?C()(".",e+1,"0"):""):this.e>=k?this.m.toString().replace(".","").padEnd(this.e+1,"0")+(e>0?C()(".",e+1,"0"):""):this.toNumber().toFixed(e)},e.prototype.toPrecision=function(e){return this.e<=-7?this.toExponential(e-1):e>this.e?this.toFixed(e-this.e-1):this.toExponential(e-1)},e.prototype.valueOf=function(){return this.toString()},e.prototype.toJSON=function(){return this.toString()},e.prototype.toStringWithDecimalPlaces=function(e){return this.toExponential(e)},e.prototype.abs=function(){return R(Math.abs(this.m),this.e)},e.prototype.neg=function(){return R(-this.m,this.e)},e.prototype.negate=function(){return this.neg()},e.prototype.negated=function(){return this.neg()},e.prototype.sign=function(){return Math.sign(this.m)},e.prototype.sgn=function(){return this.sign()},e.prototype.round=function(){return this.e<-1?new e(0):this.e<k?new e(Math.round(this.toNumber())):this},e.prototype.floor=function(){return this.e<-1?Math.sign(this.m)>=0?new e(0):new e(-1):this.e<k?new e(Math.floor(this.toNumber())):this},e.prototype.ceil=function(){return this.e<-1?Math.sign(this.m)>0?new e(1):new e(0):this.e<k?new e(Math.ceil(this.toNumber())):this},e.prototype.trunc=function(){return this.e<0?new e(0):this.e<k?new e(Math.trunc(this.toNumber())):this},e.prototype.add=function(e){var t,r,n=D(e);return 0===this.m?n:0===n.m?this:(this.e>=n.e?(t=this,r=n):(t=n,r=this),t.e-r.e>k?t:E(Math.round(1e14*t.m+1e14*r.m*A(r.e-t.e)),t.e-14))},e.prototype.plus=function(e){return this.add(e)},e.prototype.sub=function(e){return this.add(D(e).neg())},e.prototype.subtract=function(e){return this.sub(e)},e.prototype.minus=function(e){return this.sub(e)},e.prototype.mul=function(t){if("number"===typeof t)return t<1e307&&t>-1e307?E(this.m*t,this.e):E(1e-307*this.m*t,this.e+307);var r="string"===typeof t?new e(t):t;return E(this.m*r.m,this.e+r.e)},e.prototype.multiply=function(e){return this.mul(e)},e.prototype.times=function(e){return this.mul(e)},e.prototype.div=function(e){return this.mul(D(e).recip())},e.prototype.divide=function(e){return this.div(e)},e.prototype.divideBy=function(e){return this.div(e)},e.prototype.dividedBy=function(e){return this.div(e)},e.prototype.recip=function(){return E(1/this.m,-this.e)},e.prototype.reciprocal=function(){return this.recip()},e.prototype.reciprocate=function(){return this.recip()},e.prototype.cmp=function(e){var t=D(e);if(0===this.m){if(0===t.m)return 0;if(t.m<0)return 1;if(t.m>0)return-1}if(0===t.m){if(this.m<0)return-1;if(this.m>0)return 1}if(this.m>0)return t.m<0||this.e>t.e?1:this.e<t.e?-1:this.m>t.m?1:this.m<t.m?-1:0;if(this.m<0)return t.m>0||this.e>t.e?-1:this.e<t.e||this.m>t.m?1:this.m<t.m?-1:0;throw Error("Unreachable code")},e.prototype.compare=function(e){return this.cmp(e)},e.prototype.eq=function(e){var t=D(e);return this.e===t.e&&this.m===t.m},e.prototype.equals=function(e){return this.eq(e)},e.prototype.neq=function(e){return!this.eq(e)},e.prototype.notEquals=function(e){return this.neq(e)},e.prototype.lt=function(e){var t=D(e);return 0===this.m?t.m>0:0===t.m?this.m<=0:this.e===t.e?this.m<t.m:this.m>0?t.m>0&&this.e<t.e:t.m>0||this.e>t.e},e.prototype.lte=function(e){return!this.gt(e)},e.prototype.gt=function(e){var t=D(e);return 0===this.m?t.m<0:0===t.m?this.m>0:this.e===t.e?this.m>t.m:this.m>0?t.m<0||this.e>t.e:t.m<0&&this.e<t.e},e.prototype.gte=function(e){return!this.lt(e)},e.prototype.max=function(e){var t=D(e);return this.lt(t)?t:this},e.prototype.min=function(e){var t=D(e);return this.gt(t)?t:this},e.prototype.clamp=function(e,t){return this.max(e).min(t)},e.prototype.clampMin=function(e){return this.max(e)},e.prototype.clampMax=function(e){return this.min(e)},e.prototype.cmp_tolerance=function(e,t){var r=D(e);return this.eq_tolerance(r,t)?0:this.cmp(r)},e.prototype.compare_tolerance=function(e,t){return this.cmp_tolerance(e,t)},e.prototype.eq_tolerance=function(t,r){var n=D(t);return e.lte(this.sub(n).abs(),e.max(this.abs(),n.abs()).mul(r))},e.prototype.equals_tolerance=function(e,t){return this.eq_tolerance(e,t)},e.prototype.neq_tolerance=function(e,t){return!this.eq_tolerance(e,t)},e.prototype.notEquals_tolerance=function(e,t){return this.neq_tolerance(e,t)},e.prototype.lt_tolerance=function(e,t){var r=D(e);return!this.eq_tolerance(r,t)&&this.lt(r)},e.prototype.lte_tolerance=function(e,t){var r=D(e);return this.eq_tolerance(r,t)||this.lt(r)},e.prototype.gt_tolerance=function(e,t){var r=D(e);return!this.eq_tolerance(r,t)&&this.gt(r)},e.prototype.gte_tolerance=function(e,t){var r=D(e);return this.eq_tolerance(r,t)||this.gt(r)},e.prototype.log10=function(){return this.e+Math.log10(this.m)},e.prototype.absLog10=function(){return this.e+Math.log10(Math.abs(this.m))},e.prototype.pLog10=function(){return this.m<=0||this.e<0?0:this.log10()},e.prototype.log=function(e){return Math.LN10/Math.log(e)*this.log10()},e.prototype.log2=function(){return 3.321928094887362*this.log10()},e.prototype.ln=function(){return 2.302585092994046*this.log10()},e.prototype.logarithm=function(e){return this.log(e)},e.prototype.pow=function(t){var r,n=t instanceof e?t.toNumber():t,a=this.e*n;if(Number.isSafeInteger(a)&&(r=Math.pow(this.m,n),isFinite(r)&&0!==r))return E(r,a);var i=Math.trunc(a),s=a-i;if(r=Math.pow(10,n*Math.log10(this.m)+s),isFinite(r)&&0!==r)return E(r,i);var o=e.pow10(n*this.absLog10());return-1===this.sign()&&n%2===1?o.neg():o},e.prototype.pow_base=function(e){return D(e).pow(this)},e.prototype.factorial=function(){var t=this.toNumber()+1;return e.pow(t/Math.E*Math.sqrt(t*Math.sinh(1/t)+1/(810*Math.pow(t,6))),t).mul(Math.sqrt(2*Math.PI/t))},e.prototype.exp=function(){var t=this.toNumber();return-706<t&&t<709?e.fromNumber(Math.exp(t)):e.pow(Math.E,t)},e.prototype.sqr=function(){return E(Math.pow(this.m,2),2*this.e)},e.prototype.sqrt=function(){return this.m<0?new e(Number.NaN):this.e%2!==0?E(3.16227766016838*Math.sqrt(this.m),Math.floor(this.e/2)):E(Math.sqrt(this.m),Math.floor(this.e/2))},e.prototype.cube=function(){return E(Math.pow(this.m,3),3*this.e)},e.prototype.cbrt=function(){var e=1,t=this.m;t<0&&(e=-1,t=-t);var r=e*Math.pow(t,1/3),n=this.e%3;return E(1===n||-1===n?2.154434690031884*r:0!==n?4.641588833612779*r:r,Math.floor(this.e/3))},e.prototype.sinh=function(){return this.exp().sub(this.negate().exp()).div(2)},e.prototype.cosh=function(){return this.exp().add(this.negate().exp()).div(2)},e.prototype.tanh=function(){return this.sinh().div(this.cosh())},e.prototype.asinh=function(){return e.ln(this.add(this.sqr().add(1).sqrt()))},e.prototype.acosh=function(){return e.ln(this.add(this.sqr().sub(1).sqrt()))},e.prototype.atanh=function(){return this.abs().gte(1)?Number.NaN:e.ln(this.add(1).div(new e(1).sub(this)))/2},e.prototype.ascensionPenalty=function(e){return 0===e?this:this.pow(Math.pow(10,-e))},e.prototype.egg=function(){return this.add(9)},e.prototype.lessThanOrEqualTo=function(e){return this.cmp(e)<1},e.prototype.lessThan=function(e){return this.cmp(e)<0},e.prototype.greaterThanOrEqualTo=function(e){return this.cmp(e)>-1},e.prototype.greaterThan=function(e){return this.cmp(e)>0},e.prototype.decimalPlaces=function(){return this.dp()},e.prototype.dp=function(){if(!isFinite(this.mantissa))return NaN;if(this.exponent>=k)return 0;var e=this.mantissa,t=-this.exponent,r=1;while(Math.abs(Math.round(e*r)/r-e)>j)r*=10,t++;return t>0?t:0},Object.defineProperty(e,"MAX_VALUE",{get:function(){return z},enumerable:!0,configurable:!0}),Object.defineProperty(e,"MIN_VALUE",{get:function(){return V},enumerable:!0,configurable:!0}),Object.defineProperty(e,"NUMBER_MAX_VALUE",{get:function(){return $},enumerable:!0,configurable:!0}),Object.defineProperty(e,"NUMBER_MIN_VALUE",{get:function(){return U},enumerable:!0,configurable:!0}),e}(),z=R(1,O),V=R(1,-O),$=D(Number.MAX_VALUE),U=D(Number.MIN_VALUE),W=B,Y=r("5245"),X=function(e){return new W(e)},J=x["a"].observable({pairIdx:"0-1",pairVal:"dai-usdc",pool:"compound",allPools:["compound","usdt","y","busd","susdv2","pax","tbtc","ren","sbtc"],pools:["compound","usdt","y","busd","susdv2","pax"],interval:"30m",intervals:["1m","5m","10m","15m","30m","1h","2h","4h","6h","1d","3d","1w"],data:[],poolInfo:[]}),Z={poolConfigs:function(){return J.pools.map((function(e){return{N_COINS:Y["g"][e].N_COINS,PRECISION_MUL:Y["g"][e].coin_precisions.map((function(e){return 1e18/e})),USE_LENDING:Y["g"][e].USE_LENDING,LENDING_PRECISION:I["a"],PRECISION:I["b"]}}))}};function H(){return K.apply(this,arguments)}function K(){return K=Object(u["a"])(regeneratorRuntime.mark((function e(){var t,r,n,a,i,s,u,l,p,h,d;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:J.poolInfo=[],t=[],r=Object(c["a"])(J.pools.entries());try{for(r.s();!(n=r.n()).done;)a=Object(o["a"])(n.value,2),a[0],i=a[1],"y"==i&&(i="swusd"),I["e"].contracts[i],i==I["e"].currentContract&&I["e"],t.push([Y["g"][i].swap_address,"0xf446c1d0"],[Y["g"][i].token_address,"0x18160ddd"],[Y["g"][i].swap_address,"0xbb7b8b80"])}catch(m){r.e(m)}finally{r.f()}return e.next=6,I["e"].multicall.methods.aggregate(t).call();case 6:s=e.sent,u=s[1].map((function(e){return I["e"].web3.eth.abi.decodeParameter("uint256",e)})),l=Object(c["a"])(J.pools.entries()),e.prev=9,h=function(){var e=Object(o["a"])(p.value,2),t=e[0],r=e[1];"y"==r&&(r="swusd");var n=I["e"].contracts[r];if(r==I["e"].currentContract&&(n=I["e"]),J.poolInfo[t]&&J.poolInfo[t].timestamp)return"continue";J.poolInfo[t]={},J.poolInfo[t].A=u[3*t],J.poolInfo[t].fee=1e10*n.fee,J.poolInfo[t].admin_fee=1e10*n.admin_fee,J.poolInfo[t].supply=u[3*t+1],J.poolInfo[t].virtual_price=u[3*t+2],J.poolInfo[t].balances=n.balances,J.poolInfo[t].rates=n.c_rates.map((function(e,t){return+X(e).times(I["b"]).times(Y["g"][r].coin_precisions[t])})),J.poolInfo[t].timestamp=Date.now()/1e3|0},l.s();case 12:if((p=l.n()).done){e.next=18;break}if(d=h(),"continue"!==d){e.next=16;break}return e.abrupt("continue",16);case 16:e.next=12;break;case 18:e.next=23;break;case 20:e.prev=20,e.t0=e["catch"](9),l.e(e.t0);case 23:return e.prev=23,l.f(),e.finish(23);case 26:case"end":return e.stop()}}),e,null,[[9,20,23,26]])}))),K.apply(this,arguments)}var Q=J,ee=r("2fa3"),te=r("5e35"),re=r("3d15"),ne=r("9510"),ae=r.n(ne);d()(p.a),f()(p.a),p.a.setOptions({lang:{loading:""}});var ie=function(e){return new W(e)},se=new ae.a,oe=re["a"](se),ce={components:{highcharts:g["Chart"]},data:function(){return{loading:!0,zoom:100,volZoom:100,btcPrice:null,chart:null,depthchart:{chart:{type:"areaspline",zoomType:"x",marginTop:20,marginLeft:20,marginRight:20},exporting:{buttons:{contextButton:{menuItems:["printChart","separator","downloadPNG","downloadJPEG","downloadPDF","downloadSVG","separator","downloadCSV","downloadXLS","openInCloud"]}}},title:{text:""},xAxis:{crosshair:{color:"gray",width:1.5},minPadding:0,maxPadding:0,plotLines:[{id:1,color:"#888",value:1,width:1,label:{text:"Actual price",rotation:90}}],title:{text:"Price"},events:{setExtremes:function(e){return function(t){"undefined"==typeof t.min&&"undefined"==typeof t.max&&(e.zoom=99.99)}}(this)}},yAxis:[{type:"logarithmic",crosshair:{color:"gray",width:1.5},min:1,lineWidth:1,gridLineWidth:1,title:null,tickWidth:1,tickLength:5,tickPosition:"inside",labels:{align:"left",x:8}},{type:"logarithmic",crosshair:{color:"gray",width:1.5},min:1,opposite:!0,linkedTo:0,lineWidth:1,gridLineWidth:0,title:null,tickWidth:1,tickLength:5,tickPosition:"inside",labels:{align:"right",x:-8}}],legend:{enabled:!1},plotOptions:{area:{fillOpacity:.2,step:"center"}},tooltip:{headerFormat:'<span style="font-size=10px;">Price: {point.key}</span><br/>',valueDecimals:2},series:[]},pair:{idx:"0-1",val:"DAI-USDC"},pool:"compound",pools:[],interval:5,bbrect:null,data:[],currentValue:1,imax:100,inverse:!1,unwatch:null,lastTimestamp:null,linearscale:!1}},created:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:P.$on("changeTime",e.changeTime),P.$on("updateDepth",e.updateDepth),e.unwatch=e.$watch((function(){return I["e"].initializedContracts}),function(){var t=Object(u["a"])(regeneratorRuntime.mark((function t(r){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.updateDepth(),e.unwatch();case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 3:case"end":return t.stop()}}),t)})))()},watch:{selectChange:function(e,t){var r=this;return Object(u["a"])(regeneratorRuntime.mark((function n(){var a,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(a=e[1].concat(),i=t[1].concat(),a.sort().toString()!=i.sort.toString()){n.next=6;break}r.mounted(),n.next=13;break;case 6:return n.next=8,Promise.all(e[1].map((function(e){return Object(I["i"])(I["e"].contracts["y"==e?"swusd":e])})));case 8:return n.sent,r.chart.showLoading(),n.next=12,H();case 12:r.mounted();case 13:case"end":return n.stop()}}),n)})))()},zoom:function(){this.setZoom()},linearscale:function(e){this.chart.yAxis[1].update({linkedTo:void 0,type:e?"linear":"logarithmic"}),this.chart.yAxis[0].update({type:e?"linear":"logarithmic"}),this.setZoom()}},mounted:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.chart=e.$refs.highcharts.chart,e.chart.showLoading(),t.next=4,te["a"]();case 4:e.btcPrice=t.sent,I["e"].multicall&&e.updateDepth();case 6:case"end":return t.stop()}}),t)})))()},beforeDestroy:function(){P.$off("changeTime",this.changeTime),P.$off("updateDepth",this.updateDepth)},computed:{selectChange:function(){return[Q.pairIdx,Q.pools,Q.interval]}},methods:{updateDepth:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Promise.all(Q.pools.map((function(e){return Object(I["i"])(I["e"].contracts["y"==e?"swusd":e])})));case 2:return t.sent,t.next=5,H();case 5:e.mounted();case 6:case"end":return t.stop()}}),t)})))()},setZoom:function(){var e=this.chart.series[1].xData,t=this.chart.series[0].xData,r=Math.min(e[0],e[e.length-1]),n=Math.max(e[0],e[e.length-1]),a=Math.max(t[0],t[t.length-1]),i=Math.min(t[0],t[t.length-1]),s=(n+i)/2,o=Math.max(r,s-(a-s)),c=Math.min(a,s+(s-r)),u=+this.zoom,l=this.linearscale?30:10;o=s-(s-o)*Math.pow(l,2*(u/300-1)),c=s+(c-s)*Math.pow(l,2*(u/300-1)),this.chart.xAxis[0].setExtremes(o,c,!0,!1)},setExtremes:function(){this.chart.xAxis[0].setExtremes(this.chart.series[1].xData[0]-.001,this.chart.series[0].xData[0]+.001,!0,!0)},resetChart:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.chart.setTitle({text:""}),e.mounted();case 2:case"end":return t.stop()}}),t)})))()},changeTime:function(e){Q.poolInfo=e;var t=e.timestamp||e[0].timestamp;this.chart.setTitle({text:ee["d"](t)}),this.chart.update({chart:{marginTop:40}}),this.lastTimestamp=t,this.mounted(t)},mounted:function(e){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function r(){var n,a,u,l,p,h,d,m,f,g,v,b,w,y,x,_,P,N,C,k,O,M,S,j,A,D,E,R,T,F,L,G,q,B;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:t.chart.showLoading(),t.pools=Q.pools,t.pairIdx=Q.pairIdx,t.pairVal=Q.pairVal,t.interval=Q.interval,t.loading=!0,n=Q.pools.map((function(e){return"y"==e?"swusd":e})),a=n,u=n.map((function(e){return a.indexOf(e)})),l=Z.poolConfigs(),p=t.pairIdx.split("-")[0],h=t.pairIdx.split("-")[1],p>h&&(t.inverse=!0),d=[],m=[],f=0,g=Object(c["a"])(Q.pools.entries()),r.prev=17,g.s();case 19:if((v=g.n()).done){r.next=32;break}if(b=Object(o["a"])(v.value,2),w=b[0],y=b[1],!(l[w].N_COINS-1<h||l[w].N_COINS-1<p)){r.next=23;break}return r.abrupt("continue",30);case 23:"y"==y&&(y="swusd"),x=I["e"].contracts[y],y==I["e"].currentContract&&(x=I["e"]),_=x.bal_info[p],P=x.bal_info[h],["tbtc","ren","sbtc"].includes(y)&&(_*=t.btcPrice,P*=t.btcPrice),f+=_+P;case 30:r.next=19;break;case 32:r.next=37;break;case 34:r.prev=34,r.t0=r["catch"](17),g.e(r.t0);case 37:return r.prev=37,g.f(),r.finish(37);case 40:N=Math.floor(100*(1+Math.log10(10)/Math.log10(f))),t.imax=N,C=[],k=[],O=[],M=0;case 46:if(!(M<=N)){r.next=81;break}if(!(e&&t.lastTimestamp>e)){r.next=49;break}return r.abrupt("return");case 49:S=Math.pow(f,M/100),O.push(S),j=0;case 52:if(!(j<n.length)){r.next=78;break}if(!(l[j].N_COINS-1<h||l[j].N_COINS-1<p)){r.next=55;break}return r.abrupt("continue",75);case 55:if(Q.poolInfo[u[j]]){r.next=57;break}return r.abrupt("continue",75);case 57:return M,A=S*Y["g"][n[j]].coin_precisions[p],D=S*Y["g"][n[j]].coin_precisions[h],["tbtc","ren","sbtc"].includes(n[j])&&(A/=t.btcPrice,D/=t.btcPrice),r.next=63,oe.calcPrice(Object(s["a"])(Object(s["a"])({},Q.poolInfo[u[j]]),l[j]),p,h,ie(A).toFixed(0),!0);case 63:return E=r.sent,E=+ie(E).div(Y["g"][n[j]].coin_precisions[h]),r.next=67,oe.calcPrice(Object(s["a"])(Object(s["a"])({},Q.poolInfo[u[j]]),l[j]),h,p,ie(D).toFixed(0),!0);case 67:R=r.sent,R=+ie(R).div(Y["g"][n[j]].coin_precisions[p]),T=E*Y["g"][n[j]].coin_precisions[p]/A,F=D/Y["g"][n[j]].coin_precisions[h]/R,C[j]||(C[j]=[]),k[j]||(k[j]=[]),C[j].push(+T),k[j].push(+F);case 75:j++,r.next=52;break;case 78:M++,r.next=46;break;case 81:if(C=C.filter((function(e){return e.length})),k=k.filter((function(e){return e.length})),1==C.length)m=C[0].map((function(e,t){return[e,O[t]]})),d=k[0].map((function(e,t){return[e,O[t]]}));else{for(L=C.map((function(e){return ee["i"](e,O)})),G=k.map((function(e){return ee["i"](e,O)})),q=function(e){for(var t=function(t){m.push([+C[e][t],L.map((function(r){return r(C[e][t])})).reduce((function(e,t){return e+t}),0)]),d.push([+k[e][t],G.map((function(r){return r(k[e][t])})).reduce((function(e,t){return e+t}),0)])},r=0;r<C[0].length;r++)t(r)},B=0;B<C.length;B++)q(B);m.sort((function(e,t){return t[0]==e[0]?t[1]-e[1]:t[0]-e[0]})),d.sort((function(e,t){return t[0]==e[0]?e[1]-t[1]:e[0]-t[0]}))}m=m.filter((function(e){return e[0]>Math.max(Math.max.apply(Math,Object(i["a"])(C.map((function(e){return Math.min.apply(Math,Object(i["a"])(e))})))),.1)})),d=d.filter((function(e){return e[0]<Math.min(Math.min.apply(Math,Object(i["a"])(k.map((function(e){return Math.max.apply(Math,Object(i["a"])(e))})))),10)})),m=m.reverse(),t.chart.hideLoading();while(t.chart.series.length)t.chart.series[0].remove();if(t.chart.xAxis[0].removePlotLine(1),!(e&&t.lastTimestamp>e)){r.next=92;break}return r.abrupt("return");case 92:t.$refs.highcharts.chart.addSeries({name:"Asks",data:d,color:t.inverse?"#007A00":"#B70000"}),t.$refs.highcharts.chart.addSeries({name:"Bids",data:m,color:t.inverse?"#B70000":"#007A00"}),t.currentValue=(Math.max.apply(Math,Object(i["a"])(C.flat()))+Math.min.apply(Math,Object(i["a"])(k.flat())))/2,t.chart.xAxis[0].addPlotLine({id:1,value:t.currentValue,label:{text:"Actual price "+t.currentValue.toFixed(4)}}),t.setZoom(),t.$refs.highcharts.chart.redraw(),t.bbrect=t.$refs.highcharts.$el.getBoundingClientRect(),t.bbrect._top=t.bbrect.top+window.scrollY,t.chart.hideLoading(),t.loading=!1;case 102:case"end":return r.stop()}}),r,null,[[17,34,37,40]])})))()},move:function(e){if(!this.loading){var t=e.pageX,r=e.pageY;t-=this.bbrect.left,r-=this.bbrect._top,this.chart.crossLabel?(this.chart.crossLabel.attr({x:t-15,text:this.chart.xAxis[0].toValue(t).toFixed(4)}),this.chart.hoverPoint&&this.chart.crossYLabelLeft.attr({y:this.chart.hoverPoint.plotY+this.chart.plotTop+25,text:this.chart.yAxis[0].toValue(this.chart.hoverPoint.plotY+this.chart.plotTop).toFixed(4)}),this.chart.hoverPoint&&this.chart.crossYLabelRight.attr({y:this.chart.hoverPoint.plotY+this.chart.plotTop+25,text:this.chart.yAxis[0].toValue(this.chart.hoverPoint.plotY+this.chart.plotTop).toFixed(4)}),document.querySelector("#depth_chart .highcharts-series.highcharts-series-1").classList.contains("highcharts-series-hover")?this.chart.crossYLabelRight.attr("y",-9999):this.chart.crossYLabelLeft.attr("y",-9999)):(this.chart.crossLabel=this.chart.renderer.text(this.chart.xAxis[0].toValue(t).toFixed(4),t-15,this.chart.plotTop-5).add(),this.chart.crossYLabelLeft=this.chart.renderer.text(this.chart.yAxis[0].toValue(r).toFixed(4),this.chart.plotLeft-5,r-5).attr({rotation:-90}).add(),this.chart.crossYLabelRight=this.chart.renderer.text(this.chart.yAxis[0].toValue(r).toFixed(4),this.chart.plotLeft+this.chart.plotWidth+15,r).attr({rotation:-90}).add())}}}},ue=ce,le=(r("cb22"),r("2877")),pe=Object(le["a"])(ue,w,y,!1,null,"55a4bb3f",null),he=pe.exports,de=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{attrs:{id:"poolselect"}},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.pools,expression:"pools"}],attrs:{id:"ypool",type:"checkbox",value:"y"},domProps:{checked:Array.isArray(e.pools)?e._i(e.pools,"y")>-1:e.pools},on:{change:function(t){var r=e.pools,n=t.target,a=!!n.checked;if(Array.isArray(r)){var i="y",s=e._i(r,i);n.checked?s<0&&(e.pools=r.concat([i])):s>-1&&(e.pools=r.slice(0,s).concat(r.slice(s+1)))}else e.pools=a}}}),r("label",{attrs:{for:"ypool"}},[e._v("Y")])]),r("select",{directives:[{name:"model",rawName:"v-model",value:e.pair,expression:"pair"}],staticClass:"tvision",on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.pair=t.target.multiple?r:r[0]}}},e._l(e.allPairs,(function(t){return r("option",{domProps:{value:t}},[e._v(e._s(e._f("toUpper")(t.val)))])})),0),r("select",{directives:[{name:"model",rawName:"v-model",value:e.interval,expression:"interval"}],staticClass:"tvision",on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.interval=t.target.multiple?r:r[0]}}},e._l(e.intervals,(function(t){return r("option",{domProps:{value:t}},[e._v(e._s(t))])})),0),r("button",{on:{click:e.emitSelect}},[e._v("Select")]),r("button",{on:{click:e.emitUpdate}},[e._v("Update charts")])])},me=[],fe=(r("7db0"),r("5db7"),r("baa5"),r("73d9"),r("07ac"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div")}),ge=[],ve={computed:{pools:{get:function(){return Q.pools},set:function(e){Q.pools=e}}}},be=ve,we=Object(le["a"])(be,fe,ge,!1,null,"316b7054",null),ye=we.exports,xe={components:{SelectPool:ye},data:function(){return{pools:Q.pools,pool:Q.pool,pair:"",interval:Q.interval,intervals:Q.intervals}},watch:{pools:function(e){this.pushState()},pair:function(){this.pushState()},interval:function(){this.pushState()}},created:function(){this.$watch((function(){return I["e"].web3}),this.mounted)},mounted:function(){I["e"].web3&&this.mounted()},methods:{mounted:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){var r,n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:r=e.$route.params.params,r&&r.length?(r=r.split("/"),n=r[r.length-2],a=r[r.length-1]||"30m",3==r.length&&(e.pools=Q.allPools.filter((function(e){return r[0].split("_").includes(e)}))),e.pair=e.allPairs.find((function(e){return e.val==n.toLowerCase()})),e.interval=a,e.emitSelect()):e.pair=e.pairs[0];case 2:case"end":return t.stop()}}),t)})))()},emitSelect:function(){var e=this,t=Object.values(this.filteredCurrencies).map((function(e){return Object.keys(e)})),r=this.isUnique(this.pair.val);if(1==r.length){var n=t.map((function(e){return e.join()})).indexOf(r[0].join()),a=Object.keys(this.filteredCurrencies)[n];this.pools=Q.pools=[a]}var i=this.pair.val.split("-")[0],s=this.pair.val.split("-")[1],c=Object.fromEntries(Object.entries(this.filteredCurrencies).filter((function(e){var t=Object(o["a"])(e,2),r=(t[0],t[1]);return Object.keys(r).includes(i)&&Object.keys(r).includes(s)})));c=Object.keys(c).map((function(e){return"swusd"==e?"y":e})),this.pools=Q.pools=c.filter((function(t){return e.pools.includes(t)})),Q.pairIdx=this.pair.idx,Q.pairVal=this.pair.val,Q.interval=this.interval},emitUpdate:function(){P.$emit("updateCharts")},pushState:function(){history.pushState({},null,"/trade/"+this.pools.join("_")+"/"+this.pair.val.toUpperCase()+"/"+this.interval)},isUnique:function(e){var t=e.split("-").map((function(e){return e.toLowerCase()})),r=Object(o["a"])(t,2),n=r[0],a=r[1];return Object.values(this.filteredCurrencies).map((function(e){return Object.keys(e)})).filter((function(e){return e.includes(n)&&e.includes(a)}))}},computed:{allPairs:function(){var e=Object.assign({},this.filteredCurrencies);delete e.susd;var t,r=Object.values(e).filter((function(e){return"susd"!=e})).map((function(e){return Object.keys(e)})),n=[],a=Object(c["a"])(r);try{for(a.s();!(t=a.n()).done;){var i,s=t.value,u=Object(c["a"])(s.entries());try{var l=function(){var e,t=Object(o["a"])(i.value,2),r=t[0],a=t[1],u=Object(c["a"])(s.entries());try{var l=function(){var t=Object(o["a"])(e.value,2),i=t[0],s=t[1];r!=i&&void 0===n.find((function(e){return e.val=="".concat(a,"-").concat(s)}))&&n.push({idx:"".concat(r,"-").concat(i),val:"".concat(a,"-").concat(s)})};for(u.s();!(e=u.n()).done;)l()}catch(p){u.e(p)}finally{u.f()}};for(u.s();!(i=u.n()).done;)l()}catch(p){u.e(p)}finally{u.f()}}}catch(p){a.e(p)}finally{a.f()}return n},pairs:function(){var e=this;if(!this.pools.length)return[];var t,r=this.pools.map((function(e){return"y"==e?"swusd":e}));if(r.length>1){Object.keys(this.filteredCurrencies).filter((function(e){return r.includes(e)}));t=Object.keys(this.filteredCurrencies).flatMap((function(t){return Object.keys(e.filteredCurrencies[t])})).filter((function(e,t,r){return r.indexOf(e)===t&&r.lastIndexOf(e)!==t}))}else t=Object.keys(this.filteredCurrencies["y"==this.pools[0]?"swusd":this.pools[0]]);var n,a=[],i=Object(c["a"])(t.entries());try{for(i.s();!(n=i.n()).done;){var s,u=Object(o["a"])(n.value,2),l=u[0],p=u[1],h=Object(c["a"])(t.entries());try{for(h.s();!(s=h.n()).done;){var d=Object(o["a"])(s.value,2),m=d[0],f=d[1];l!=m&&a.push({idx:"".concat(l,"-").concat(m),val:"".concat(p,"-").concat(f)})}}catch(g){h.e(g)}finally{h.f()}}}catch(g){i.e(g)}finally{i.f()}return a},filteredCurrencies:function(){return I["c"]}}},_e=xe,Pe=(r("95b8"),Object(le["a"])(_e,de,me,!1,null,"9747ee24",null)),Ie=Pe.exports,Ne=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"swap exchange"},[n("div",{staticClass:"exchangefields"},[n("fieldset",{staticClass:"item"},[n("legend",[e._v("From:")]),n("div",{staticClass:"maxbalance",class:{"loading line":-1==e.maxBalance},on:{click:e.set_max_balance}},[e._v(" Max: "),n("span",{directives:[{name:"show",rawName:"v-show",value:-1!=e.maxSynthBalance&&[5,9].includes(e.from_currency),expression:"maxSynthBalance  != -1 && [5,9].includes(from_currency)"}]},[e._v(" "+e._s(e.maxSynthBalanceText)+" / ")]),n("span",{directives:[{name:"show",rawName:"v-show",value:-1!=e.maxBalance,expression:"maxBalance != -1"}]},[e._v(e._s(e.maxBalanceText))]),n("span",{directives:[{name:"show",rawName:"v-show",value:e.susdWaitingPeriod,expression:"susdWaitingPeriod"}],staticClass:"susd-waiting-period"},[n("span",{staticClass:"tooltip"},[n("img",{staticClass:"icon small",attrs:{src:r("0b7b")}}),n("span",{staticClass:"tooltiptext"},[e._v(" Cannot transfer during waiting period. "+e._s(e.susdWaitingPeriodTime.toFixed(0))+" secs left. ")])])]),n("span",{directives:[{name:"show",rawName:"v-show",value:[5,9].includes(e.from_currency),expression:"[5,9].includes(from_currency)"}],staticClass:"tooltip"},[e._v(" [?] "),n("span",{staticClass:"tooltiptext"},[e._v(" Max transferrable amount is "+e._s(e.maxSynthBalanceText)+". You can free the remaining balance by settling. ")])])]),n("ul",[n("li",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.fromInput,expression:"fromInput"}],style:{backgroundColor:e.fromBgColor},attrs:{type:"text",id:"from_currency",disabled:e.disabled||e.selldisabled,name:"from_currency",value:"0.00"},domProps:{value:e.fromInput},on:{input:[function(t){t.target.composing||(e.fromInput=t.target.value)},e.set_to_amount]}}),n("p",{directives:[{name:"show",rawName:"v-show",value:e.swapwrapped,expression:"swapwrapped"}],staticClass:"actualvalue"},[e._v(" ≈ "+e._s(e.actualFromValue)+" "+e._s(e._f("capitalize")(Object.keys(e.currencies)[this.from_currency]))+" ")])]),e._l(Object.keys(e.currencies),(function(t,r){var a,i;return n("li",{class:(a={coins:!0},a[t]=!0,a)},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.from_currency,expression:"from_currency"}],attrs:{type:"radio",id:"from_cur_"+r,name:"from_cur"},domProps:{value:r,checked:e._q(e.from_currency,r)},on:{change:function(t){e.from_currency=r}}}),n("label",{attrs:{for:"from_cur_"+r}},[n("img",{class:(i={"icon token-icon":!0},i[t+"-icon"]=!0,i),attrs:{src:e.getTokenIcon(t)}}),n("span",{directives:[{name:"show",rawName:"v-show",value:!e.swapwrapped,expression:"!swapwrapped"}]},[e._v(" "+e._s(e._f("capitalize")(t))+" ")]),n("span",{directives:[{name:"show",rawName:"v-show",value:e.swapwrapped,expression:"swapwrapped"}]},[e._v(" "+e._s(e.currencies[t])+" ")])])])}))],2)]),n("fieldset",{staticClass:"item iconcontainer",on:{click:e.swapInputs}},[n("img",{attrs:{src:e.publicPath+"exchange-alt-solid.svg",id:"exchangeicon"}})]),n("fieldset",{staticClass:"item"},[n("legend",[e._v("To:")]),e._m(0),n("ul",[n("li",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.toInput,expression:"toInput"}],style:{backgroundColor:e.bgColor},attrs:{type:"text",id:"to_currency",name:"to_currency",value:"0.00",disabled:""},domProps:{value:e.toInput},on:{input:function(t){t.target.composing||(e.toInput=t.target.value)}}}),n("p",{directives:[{name:"show",rawName:"v-show",value:e.swapwrapped,expression:"swapwrapped"}],staticClass:"actualvalue"},[e._v(" ≈ "+e._s(e.actualToValue)+" "+e._s(e._f("capitalize")(Object.keys(e.currencies)[this.to_currency]))+" ")])]),e._l(Object.keys(e.currencies),(function(t,r){var a,i;return n("li",{class:(a={coins:!0},a[t]=!0,a)},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.to_currency,expression:"to_currency"}],attrs:{type:"radio",id:"to_cur_"+r,name:"to_cur"},domProps:{value:r,checked:e._q(e.to_currency,r)},on:{change:function(t){e.to_currency=r}}}),n("label",{attrs:{for:"to_cur_"+r}},[n("img",{class:(i={"icon token-icon":!0},i[t+"-icon"]=!0,i),attrs:{src:e.getTokenIcon(t)}}),n("span",{directives:[{name:"show",rawName:"v-show",value:!e.swapwrapped,expression:"!swapwrapped"}]},[e._v(" "+e._s(e._f("capitalize")(t))+" ")]),n("span",{directives:[{name:"show",rawName:"v-show",value:e.swapwrapped,expression:"swapwrapped"}]},[e._v(" "+e._s(e.currencies[t])+" ")])])])}))],2)])]),n("p",{directives:[{name:"show",rawName:"v-show",value:e.fromInput>0,expression:"fromInput > 0"}],staticClass:"exchange-rate"},[e._v(" Exchange rate "),n("span",{staticClass:"clickable underline",on:{click:e.swapExchangeRate}},[n("img",{staticClass:"swaprates-icon",attrs:{src:r("e4392")}}),e._v(" "+e._s(e.getPair(e.swaprate))+" ")]),n("span",{staticClass:"clickable",attrs:{id:"exchange-rate"},on:{click:e.swapExchangeRate}},[e._v(" "+e._s(e.exchangeRateSwapped)+" ")])]),n("ul",[n("li",{directives:[{name:"show",rawName:"v-show",value:null!==e.bestPool,expression:"bestPool !== null"}]},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.inf_approval,expression:"inf_approval"}],attrs:{id:"inf-approval",type:"checkbox",name:"inf-approval",checked:""},domProps:{checked:Array.isArray(e.inf_approval)?e._i(e.inf_approval,null)>-1:e.inf_approval},on:{change:function(t){var r=e.inf_approval,n=t.target,a=!!n.checked;if(Array.isArray(r)){var i=null,s=e._i(r,i);n.checked?s<0&&(e.inf_approval=r.concat([i])):s>-1&&(e.inf_approval=r.slice(0,s).concat(r.slice(s+1)))}else e.inf_approval=a}}}),n("label",{attrs:{for:"inf-approval"}},[e._v("Infinite approval - trust "+e._s(e.bestPoolText)+" contract forever")])])]),n("div",[n("button",{staticClass:"simplebutton advancedoptions",on:{click:function(t){e.showadvancedoptions=!e.showadvancedoptions}}},[e._v(" Advanced options "),n("span",{directives:[{name:"show",rawName:"v-show",value:!e.showadvancedoptions,expression:"!showadvancedoptions"}],staticStyle:{"margin-left":"1rem"}},[e._v("▼")]),n("span",{directives:[{name:"show",rawName:"v-show",value:e.showadvancedoptions,expression:"showadvancedoptions"}],staticStyle:{"margin-left":"1rem"}},[e._v("▲")])]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.showadvancedoptions,expression:"showadvancedoptions"}]},[n("fieldset",{staticStyle:{"text-align":"center"}},[n("div",{attrs:{id:"poolselect"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.pools,expression:"pools"}],attrs:{id:"compoundpool1",disabled:"true",type:"checkbox",value:"compound"},domProps:{checked:Array.isArray(e.pools)?e._i(e.pools,"compound")>-1:e.pools},on:{change:function(t){var r=e.pools,n=t.target,a=!!n.checked;if(Array.isArray(r)){var i="compound",s=e._i(r,i);n.checked?s<0&&(e.pools=r.concat([i])):s>-1&&(e.pools=r.slice(0,s).concat(r.slice(s+1)))}else e.pools=a}}}),n("label",{staticClass:"labelDisabled",attrs:{for:"compoundpool1"}},[e._v("Compound")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.pools,expression:"pools"}],attrs:{id:"ypool1",type:"checkbox",value:"y"},domProps:{checked:Array.isArray(e.pools)?e._i(e.pools,"y")>-1:e.pools},on:{change:function(t){var r=e.pools,n=t.target,a=!!n.checked;if(Array.isArray(r)){var i="y",s=e._i(r,i);n.checked?s<0&&(e.pools=r.concat([i])):s>-1&&(e.pools=r.slice(0,s).concat(r.slice(s+1)))}else e.pools=a}}}),n("label",{attrs:{for:"ypool1"}},[e._v("Y")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.pools,expression:"pools"}],attrs:{id:"busdpool1",disabled:"true",type:"checkbox",value:"busd"},domProps:{checked:Array.isArray(e.pools)?e._i(e.pools,"busd")>-1:e.pools},on:{change:function(t){var r=e.pools,n=t.target,a=!!n.checked;if(Array.isArray(r)){var i="busd",s=e._i(r,i);n.checked?s<0&&(e.pools=r.concat([i])):s>-1&&(e.pools=r.slice(0,s).concat(r.slice(s+1)))}else e.pools=a}}}),n("label",{staticClass:"labelDisabled",attrs:{for:"busdpool1"}},[e._v("bUSD")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.pools,expression:"pools"}],attrs:{id:"susdpool1",disabled:"true",type:"checkbox",value:"susdv2"},domProps:{checked:Array.isArray(e.pools)?e._i(e.pools,"susdv2")>-1:e.pools},on:{change:function(t){var r=e.pools,n=t.target,a=!!n.checked;if(Array.isArray(r)){var i="susdv2",s=e._i(r,i);n.checked?s<0&&(e.pools=r.concat([i])):s>-1&&(e.pools=r.slice(0,s).concat(r.slice(s+1)))}else e.pools=a}}}),n("label",{staticClass:"labelDisabled",attrs:{for:"susdpool1"}},[e._v("sUSD")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.pools,expression:"pools"}],attrs:{id:"paxpool1",disabled:"true",type:"checkbox",value:"pax"},domProps:{checked:Array.isArray(e.pools)?e._i(e.pools,"pax")>-1:e.pools},on:{change:function(t){var r=e.pools,n=t.target,a=!!n.checked;if(Array.isArray(r)){var i="pax",s=e._i(r,i);n.checked?s<0&&(e.pools=r.concat([i])):s>-1&&(e.pools=r.slice(0,s).concat(r.slice(s+1)))}else e.pools=a}}}),n("label",{staticClass:"labelDisabled",attrs:{for:"paxpool1"}},[e._v("PAX")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.pools,expression:"pools"}],attrs:{id:"renpool1",disabled:"true",type:"checkbox",value:"ren"},domProps:{checked:Array.isArray(e.pools)?e._i(e.pools,"ren")>-1:e.pools},on:{change:function(t){var r=e.pools,n=t.target,a=!!n.checked;if(Array.isArray(r)){var i="ren",s=e._i(r,i);n.checked?s<0&&(e.pools=r.concat([i])):s>-1&&(e.pools=r.slice(0,s).concat(r.slice(s+1)))}else e.pools=a}}}),n("label",{staticClass:"labelDisabled",attrs:{for:"renpool1"}},[e._v("ren")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.pools,expression:"pools"}],attrs:{id:"sbtcpool",disabled:"true",type:"checkbox",value:"sbtc"},domProps:{checked:Array.isArray(e.pools)?e._i(e.pools,"sbtc")>-1:e.pools},on:{change:function(t){var r=e.pools,n=t.target,a=!!n.checked;if(Array.isArray(r)){var i="sbtc",s=e._i(r,i);n.checked?s<0&&(e.pools=r.concat([i])):s>-1&&(e.pools=r.slice(0,s).concat(r.slice(s+1)))}else e.pools=a}}}),n("label",{staticClass:"labelDisabled",attrs:{for:"sbtcpool"}},[e._v("sBTC")])]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.fromInput>0,expression:"fromInput > 0"}],attrs:{id:"max_slippage"}},[n("span",{staticStyle:{color:"#86fce7"}},[e._v("Max slippage:")]),n("input",{attrs:{id:"slippage05",type:"radio",name:"slippage",value:"0.005"},on:{click:function(t){e.maxSlippage=.5,e.customSlippageDisabled=!0}}}),n("label",{attrs:{for:"slippage05"}},[e._v("0.5%")]),n("input",{attrs:{id:"slippage1",type:"radio",name:"slippage",checked:"",value:"0.01"},on:{click:function(t){e.maxSlippage=1,e.customSlippageDisabled=!0}}}),n("label",{attrs:{for:"slippage1"}},[e._v("1%")]),n("input",{attrs:{id:"custom_slippage",type:"radio",name:"slippage",value:"-"},on:{click:function(t){e.customippageDisabled=!1}}}),n("label",{attrs:{for:"custom_slippage"},on:{click:function(t){e.customSlippageDisabled=!1}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.maxInputSlippage,expression:"maxInputSlippage"}],attrs:{type:"text",id:"custom_slippage_input",disabled:e.customSlippageDisabled,name:"custom_slippage_input"},domProps:{value:e.maxInputSlippage},on:{input:function(t){t.target.composing||(e.maxInputSlippage=t.target.value)}}}),e._v(" % ")]),n("span",{directives:[{name:"show",rawName:"v-show",value:e.showSlippageTooLow,expression:"showSlippageTooLow"}],staticClass:"tooltip"},[n("img",{staticClass:"icon small hoverpointer warning",attrs:{src:e.publicPath+"exclamation-circle-solid.svg"}}),n("span",{staticClass:"tooltiptext"},[e._v(" Max slippage value is likely too low and the transaction may fail ")])])]),n("gas-price")],1)])]),n("p",{directives:[{name:"show",rawName:"v-show",value:e.exchangeRate<=.98&&e.to_currency>0,expression:"exchangeRate<=0.98 && to_currency > 0"}],staticClass:"simple-error"},[e._v(" Warning! Exchange rate is too low! ")]),n("p",{directives:[{name:"show",rawName:"v-show",value:e.exchangeRate<=.95&&0==e.to_currency,expression:"exchangeRate<=0.95 && to_currency == 0"}],staticClass:"simple-error"},[e._v(" Warning! Exchange rate is too low! ")]),n("p",{directives:[{name:"show",rawName:"v-show",value:e.notEnoughBalanceSynth&&!e.susdWaitingPeriod&&+e.maxSynthBalanceText>0,expression:"notEnoughBalanceSynth && !susdWaitingPeriod && +maxSynthBalanceText > 0"}],staticClass:"simple-error",attrs:{id:"no-balance-synth"}},[e._v(" Max balance you can use is "+e._s(e.maxSynthBalanceText)+" ")]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.susdWaitingPeriod,expression:"susdWaitingPeriod"}],staticClass:"simple-error pulse"},[e._v(" Cannot transfer "+e._s(5==e.from_currency?"sUSD":"sBTC")+" during waiting period "+e._s(e.susdWaitingPeriodTime.toFixed(0))+" secs left ")]),n("p",{staticClass:"trade-buttons"},[n("button",{staticClass:"simplebutton",attrs:{id:"trade",disabled:e.selldisabled},on:{click:e.handle_trade}},[e._v(" SELL "),n("span",{directives:[{name:"show",rawName:"v-show",value:e.loadingAction,expression:"loadingAction"}],staticClass:"loading line"})])]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.show_loading,expression:"show_loading"}],staticClass:"info-message gentle-message waiting-message"},[n("span",{domProps:{innerHTML:e._s(e.waitingMessage)}}),n("span",{staticClass:"loading line"})]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.estimateGas,expression:"estimateGas"}],staticClass:"info-message gentle-message"},[e._v(" Estimated tx cost: "+e._s((+e.estimateGas).toFixed(2))+"$ ")]),n("p",{directives:[{name:"show",rawName:"v-show",value:e.showNoBalanceWarning,expression:"showNoBalanceWarning"}],staticClass:"simple-error",attrs:{id:"no-balance"}},[e._v(" Not enough balance for "),n("span",{directives:[{name:"show",rawName:"v-show",value:!e.swapwrapped,expression:"!swapwrapped"}]},[e._v(e._s(e._f("capitalize")(Object.keys(e.currencies)[e.from_currency])))]),n("span",{directives:[{name:"show",rawName:"v-show",value:e.swapwrapped,expression:"swapwrapped"}]},[e._v(e._s(Object.values(e.currencies)[e.from_currency]))]),e._v(". "),n("span",[e._v("Swap is not available.")])]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.selldisabled,expression:"selldisabled"}],staticClass:"info-message gentle-message"},[e._v(" Swapping between "+e._s(Object.values(e.currencies)[e.from_currency])+" and "+e._s(Object.values(e.currencies)[e.to_currency])+" is not available currently ")]),n("div",{directives:[{name:"show",rawName:"v-show",value:null!==e.warningNoPool,expression:"warningNoPool !== null"}],staticClass:"info-message gentle-message"},[e._v(" Swap not available. Please select "+e._s(e.warningNoPool)+" in pool select ")])])])},Ce=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"maxbalance2"},[e._v("Max: "),r("span")])}],ke=(r("acd8"),r("d99e")),Oe=r("cf45"),Me=r("0a37"),Se=r("e7e9"),je=r("0c7c"),Ae=r("901e"),De=r.n(Ae),Ee=r("fe5c"),Re=Ee.setIntervalAsync,Te=Ee.clearIntervalAsync,Fe=new ae.a,Le=(re["a"](Fe),{components:{GasPrice:Se["a"]},data:function(){return{pools:["y"],maxBalance:-1,maxSynthBalance:-1,susdWaitingPeriod:!1,susdWaitingPeriodTime:0,snxExchanger:null,from_currency:0,to_currency:1,fromInput:"1.00",toInput:"0.00",updateTimer:null,disabled:!0,bgColor:"#505070",fromBgColor:"blue",exchangeRate:"Not available",swaprate:!1,maxSlippage:1,maxInputSlippage:"",customSlippageDisabled:!0,inf_approval:!1,distribution:null,coin_precisions:[1e18,1e6,1e6,1e18,1e18,1e18,1e18,1e8,1e8,1e18],swap:[],addresses:[],coins:[],underlying_coins:[],onesplit:null,onesplit_address:"",swapPromise:ee["l"](Promise.resolve()),usedFlags:"",usedParts:0,multipath:0,swapwrapped:!1,bestPool:null,get showadvancedoptions(){return"true"===localStorage.getItem("advancedoptions")||+this.fromInput>5e3||[7,8,9].includes(this.from_currency)&&+this.fromInput>.5},set showadvancedoptions(e){console.log(e,"VAL TO SET"),localStorage.setItem("advancedoptions",e)},show_loading:!1,waitingMessage:"",userInteracted:!1,ethPrice:0,estimateGas:0,loadingAction:!1,interval:null}},computed:{CONTRACT_FLAG:function(){var e=this,t=1610612736,r=17180065792,n={compound:4096,usdt:8192,y:16384,busd:32768,susdv2:262144,pax:2147483648,ren:4294967296,sbtc:4398046511104},a=Object.keys(n).filter((function(t){return e.pools.includes(t)})).map((function(e){return n[e]}));return a=a.reduce((function(e,t){return e+t}),0),t+a+r},currencies:function(){return!1===this.swapwrapped?{dai:"DAI",usdc:"USDC",usdt:"USDT",tusd:"TUSD"}:1==this.swapwrapped?{dai:"cDAI",usdc:"cUSDC"}:{dai:"yDAI",usdc:"yUSDC",tusd:"yTUSD",busd:"yBUSD"}},maxBalanceText:function(){return this.toFixed(this.maxBalance/this.precisions(this.from_currency))},maxSynthBalanceText:function(){return isNaN(this.maxSynthBalance)?"0.00":this.toFixed(this.maxSynthBalance/this.precisions(this.from_currency))},notEnoughBalanceSynth:function(){return[5,9].includes(this.from_currency)&&De()(this.fromInput).gt(De()(this.maxSynthBalance).div(this.precisions(this.from_currency)))},actualFromValue:function(){if(this.swapwrapped)return(this.fromInput*this.c_rates(this.from_currency)[this.from_currency]*this.precisions(this.from_currency)).toFixed(2)},actualToValue:function(){if(this.swapwrapped)return(this.toInput*this.c_rates(this.to_currency)[this.to_currency]*this.precisions(this.to_currency)).toFixed(2)},bestPoolText:function(){return null===this.bestPool?"Not available":["compound","y","busd","susd","pax","ren","sbtc","1split"][this.bestPool]},selldisabled:function(){return!!([7,8,9].includes(this.from_currency)&&![7,8,9].includes(this.to_currency)||[7,8,9].includes(this.to_currency)&&![7,8,9].includes(this.from_currency))},allPools:function(){return["compound","usdt","y","busd","susdv2","pax","ren","sbtc"]},warningNoPool:function(){this.message="Please select ";var e=null;return![7,8].includes(this.from_currency)&&![7,8].includes(this.to_currency)||this.pools.includes("ren")||(e="ren"),6!=this.from_currency&&6!=this.to_currency||this.pools.includes("pax")||(e="pax"),5!=this.from_currency&&5!=this.to_currency||this.pools.includes("susdv2")||(e="susd"),4!=this.from_currency&&4!=this.to_currency||this.pools.includes("busd")||(e="busd"),3!=this.from_currency&&3!=this.to_currency||this.pools.includes("y")||(e="y"),2!=this.from_currency&&2!=this.to_currency||void 0!=this.pools.find((function(e){return["usdt","y","busd","susdv2","pax"].includes(e)}))||(e="usdt"),e},decodeDistribution:function(){var e=this;if(null===this.distribution)return[];var t=[];this.multipath=0,this.usedFlags==this.CONTRACT_FLAG-65536-17179869184&&void 0!==this.distribution.find((function(t){return+t>e.usedParts}))&&(this.multipath=1),this.usedFlags==this.CONTRACT_FLAG-131072-17179869184&&void 0!==this.distribution.find((function(t){return+t>e.usedParts}))&&(this.multipath=2),this.usedFlags==this.CONTRACT_FLAG-65536-131072&&void 0!==this.distribution.find((function(t){return+t>e.usedParts}))&&(this.multipath=3);var r=this.distribution.slice(4,9);return r.push(this.distribution[17]),r.push(this.distribution[14],this.distribution[18]),0==this.multipath?t.push(r):(t.push(r.map((function(e){return e/256}))),t.push(r.map((function(e){return e%256})))),t},distributionText:function(){if(!this.decodeDistribution.length)return null;for(var e=["y"],t="",r=["DAI","USDC","USDT"],n=this.decodeDistribution.length-1;n>=0;n--){this.multipath>0&&1==n&&(t+=Object.values(this.currencies)[this.from_currency]+" -> "+r[this.multipath-1]+"<br>"),this.multipath>0&&0==n&&(t+=r[this.multipath-1]+" -> "+Object.values(this.currencies)[this.to_currency]+"<br>");var a,i=Object(c["a"])(this.decodeDistribution[n].entries());try{for(i.s();!(a=i.n()).done;){var s=Object(o["a"])(a.value,2),u=s[0],l=s[1];l<1||(t+=(100*l/this.usedParts).toFixed(2)+"% "+e[u]+"<br>")}}catch(p){i.e(p)}finally{i.f()}}return t},publicPath:function(){return"/"},exchangeRateSwapped:function(){return this.swaprate?(1/this.exchangeRate).toFixed(4):this.exchangeRate},gasPrice:function(){return Me["a"].gasPrice},gasPriceWei:function(){return Me["a"].gasPriceWei},showNoBalanceWarning:function(){return-1!=this.maxBalance&&+this.fromInput>this.maxBalance/this.precisions(this.from_currency)&&this.userInteracted},showSlippageTooLow:function(){return""!=this.maxInputSlippage&&+this.maxInputSlippage<.2}},watch:{from_currency:function(e,t){e==this.to_currency&&(this.to_currency=t),this.from_cur_handler()},to_currency:function(e,t){this.to_cur_handler()},pools:function(){this.from_cur_handler()},swapwrapped:function(e){e&&(this.pools=this.pools.filter((function(e){return["compound","usdt"].includes(e)}))),this.from_currency>1?this.from_currency=0:this.from_cur_handler()},warningNoPool:function(e,t){null!==e&&(this.bgColor="red",this.toInput="0.00",this.exchangeRate="Not available")},exchangeRateSwapped:function(){return this.swaprate?(1/this.exchangeRate).toFixed(4):this.exchangeRate},gasPrice:function(){this.set_to_amount()},fromInput:function(){this.userInteracted=!0}},created:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:r=e.$watch((function(){return I["e"].web3&&I["e"].multicall}),(function(t){e.mounted(),r()}));case 1:case"end":return t.stop()}}),t)})))()},mounted:function(){I["e"].web3&&I["e"].multicall&&this.mounted()},methods:{mounted:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.setup();case 3:return e.disabled=!1,e.from_cur_handler(),t.next=7,Promise.all([ee["g"]()]);case 7:r=t.sent,e.ethPrice=r[0],t.next=15;break;case 11:throw t.prev=11,t.t0=t["catch"](0),console.log("issue with mounted in one split"),t.t0;case 15:case"end":return t.stop()}}),t,null,[[0,11]])})))()},swapInputs:function(){var e=[this.toInput,this.fromInput];this.fromInput=e[0],this.toInput=e[1],this.from_currency=this.to_currency,this.from_cur_handler()},swapExchangeRate:function(){isNaN(this.exchangeRate)||(this.swaprate=!this.swaprate)},getTokenIcon:function(e){return ee["h"](e,this.swapwrapped,"")},getPair:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.swapwrapped?Object.values(this.currencies)[this.from_currency]:Object.keys(this.currencies)[this.from_currency],r=this.swapwrapped?Object.values(this.currencies)[this.to_currency]:Object.keys(this.currencies)[this.to_currency];return t=ee["a"](t),r=ee["a"](r),e?e?r+"/"+t:void 0:t+"/"+r},toFixed:function(e){return""==e||void 0==e||0==e?"0.00":(De.a.isBigNumber(e)||(e=+e),[7,8,9].includes(this.from_currency)?e.toFixed(8):e.toFixed(2))},handleError:function(e){throw console.error(e),this.waitingMessage="",this.show_loading=!1,e},handleCheck:function(e){this.swapwrapped===e?this.swapwrapped=!1:this.swapwrapped=e},c_rates:function(e){return 2==this.swapwrapped&&e<3?I["e"].contracts.swusd.c_rates:2==this.swapwrapped&&3==e?I["e"].contracts.busd.c_rates:I["e"].c_rates},getCoins:function(e){return 1==this.swapwrapped?this.coins.slice(0,2)[e]:2==this.swapwrapped?this.coins.slice(2)[e]:this.underlying_coins[e]},normalizeCurrency:function(e){return[7,8,9].includes(e)?e-7:e>3?3:e},precisions:function(e,t){return this.swapwrapped?(t||1!=this.swapwrapped||(t="compound"),!t&&2==this.swapwrapped&&e<3&&(t="swusd"),t||2!=this.swapwrapped||3!=e||(t="busd"),t||(t=I["e"].currentContract),this.swapwrapped?Y["g"][t].wrapped_precisions[e]:Y["g"][t].coin_precisions[e]):this.coin_precisions[e]},highlight_input:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.t0=parseFloat,t.next=3,e.getCoins(e.from_currency).methods.balanceOf(I["e"].default_account||"0x0000000000000000000000000000000000000000").call();case 3:t.t1=t.sent,t.t2=(0,t.t0)(t.t1),t.t3=e.precisions(e.from_currency),r=t.t2/t.t3,e.fromInput>r?e.fromBgColor="red":e.fromBgColor="blue";case 8:case"end":return t.stop()}}),t)})))()},from_cur_handler:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.set_from_amount(e.from_currency);case 2:return t.next=4,e.set_to_amount();case 4:case"end":return t.stop()}}),t)})))()},to_cur_handler:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.to_currency!=e.from_currency){t.next=4;break}return 0==e.to_currency?e.from_currency=1:e.from_currency=0,t.next=4,e.set_from_amount(e.from_currency);case 4:return t.next=6,e.set_to_amount();case 6:case"end":return t.stop()}}),t)})))()},setLoadingAction:function(){var e=this;this.loadingAction=!0,setTimeout((function(){return e.loadingAction=!1}),500)},getCurrency:function(e){return Object.values(this.currencies)[e]},handle_trade:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){var r,n,a,i,s,o,c,u,l,p,h,d,m,f;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.loadingAction){t.next=2;break}return t.abrupt("return");case 2:if(e.userInteracted=!0,e.setLoadingAction(),e.show_loading=!0,r=e.from_currency,n=e.to_currency,a=De()(e.fromInput).times(e.precisions(r)).toFixed(0),i=e.maxSlippage/100,e.maxInputSlippage&&(i=e.maxInputSlippage/100),s=De()(e.toInput).times(e.precisions(n)).times(De()(1-i)).toFixed(0),o=I["e"].currentContract,c=I["e"],e.bestPool>0&&e.bestPool<7&&(e.bestPool||[],o=Object.keys(I["e"].contracts).filter((function(e){return"usdt"!=e&&"tbtc"!=e}))[e.bestPool],c=I["e"].contracts[o]),u=c.swap._address,7==e.bestPool&&(u=e.onesplit_address,c.swap._address=u),e.waitingMessage="Please approve ".concat(e.fromInput," ").concat(e.getCurrency(e.from_currency)," for exchange"),l=Object(ke["d"])(e.waitingMessage),p=l.dismiss,t.prev=18,!e.inf_approval){t.next=24;break}return t.next=22,Oe["ensure_underlying_allowance"](e.from_currency,I["e"].max_allowance,e.underlying_coins,u,e.swapwrapped,c);case 22:t.next=26;break;case 24:return t.next=26,Oe["ensure_underlying_allowance"](e.from_currency,a,e.underlying_coins,u,e.swapwrapped,c);case 26:p(),t.next=32;break;case 29:t.prev=29,t.t0=t["catch"](18),e.handleError(t.t0);case 32:if(e.waitingMessage="Please confirm swap\n                                        from ".concat(e.fromInput," ").concat(e.getCurrency(e.from_currency),"\n                                        for min ").concat(e.toFixed(s/e.precisions(n))," ").concat(e.getCurrency(e.to_currency)),h=Object(ke["d"])(e.waitingMessage),p=h.dismiss,7!=e.bestPool){t.next=38;break}console.log("removed any use of onesplit"),t.next=60;break;case 38:return d=c.swap.methods.exchange,(e.swapwrapped||["susd","ren","sbtc"].includes(e.bestPoolText))&&(d=c.swap.methods.exchange),r=e.normalizeCurrency(r),n=e.normalizeCurrency(n),t.prev=42,t.next=45,d(r,n,a,s).send({from:I["e"].default_account,gasPrice:e.gasPriceWei,gas:e.swapwrapped?I["f"].swap[o].exchange(r,n):I["f"].swap[o].exchange_underlying(r,n)}).once("transactionHash",(function(t){Object(ke["c"])(t),e.waitingMessage="Waiting for swap\n                                                    <a href='https://etherscan.io/tx/".concat(t,"'>transaction</a>\n                                                    to confirm: no further action needed")}));case 45:t.next=51;break;case 47:t.prev=47,t.t1=t["catch"](42),e.handleError(t.t1),je["a"](t.t1);case 51:return e.waitingMessage="",e.show_loading=!1,e.from_cur_handler(),t.next=56,e.getCoins(e.from_currency).methods.balanceOf(I["e"].default_account||"0x0000000000000000000000000000000000000000").call();case 56:m=t.sent,I["e"].default_account||(m=0),f=m/e.precisions(r),e.maxBalance=e.toFixed(f);case 60:case"end":return t.stop()}}),t,null,[[18,29],[42,47]])})))()},set_from_amount:function(e){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function r(){var n,a,i,s,o,c,u;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(n=t.getCoins(e),n){r.next=3;break}return r.abrupt("return");case 3:return a=n._address,i=[[a,n.methods.balanceOf(I["e"].default_account||"0x0000000000000000000000000000000000000000").encodeABI()]],r.next=7,I["e"].multicall.methods.aggregate(i).call();case 7:s=r.sent,o=s[1].map((function(e){return I["e"].web3.eth.abi.decodeParameter("uint256",e)})),c=o.map((function(e){return I["e"].default_account?e:0})),t.maxBalance=c[0],u=t.fromInput>o[0]/t.precisions(t.from_currency),t.fromBgColor=u?"red":"blue";case 13:case"end":return r.stop()}}),r)})))()},makeCall:function(e,t,r){return 1==this.swapwrapped&&(r-=16),2==this.swapwrapped&&(r-=2048),[this.onesplit._address,this.onesplit.methods.getExpectedReturn(this.getCoins(this.from_currency)._address,this.getCoins(this.to_currency)._address,e,t,r).encodeABI()]},getCalls:function(e){var t=[this.makeCall(e,10,this.CONTRACT_FLAG-65536-131072-17179869184)],r=t.concat();return[3,4,5,6].includes(this.from_currency)&&[3,4,5,6].includes(this.to_currency)&&(r=t.slice(1),r.push(this.makeCall(e,15,this.CONTRACT_FLAG-65536-17179869184),this.makeCall(e,15,this.CONTRACT_FLAG-131072-17179869184),this.makeCall(e,15,this.CONTRACT_FLAG-65536-131072),this.makeCall(e,30,this.CONTRACT_FLAG-65536-17179869184),this.makeCall(e,30,this.CONTRACT_FLAG-131072-17179869184),this.makeCall(e,30,this.CONTRACT_FLAG-65536-131072))),[7,8].includes(this.from_currency)&&[7,8].includes(this.to_currency)&&r.push(this.makeCall(e,1e3,4403952091136)),r},set_to_amount_onesplit:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){var r,n,a,i,s,o,c,u,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=De()(e.fromInput).times(e.precisions(e.from_currency)).toFixed(0),n=e.getCalls(r),e.swapPromise.cancel(),a=Oe["clean_and_multi_call"](n,!0),e.swapPromise=ee["l"](a),t.next=7,e.swapPromise;case 7:return i=t.sent,s=i[1].map((function(e){return I["e"].web3.eth.abi.decodeParameters(["uint256","uint256[]"],e)})),o=s.reduce((function(e,t){return e[0]>t[0]?e:t}),0),c=I["e"].web3.eth.abi.decodeParameters(["address","address","uint256","uint256","uint256"],n[s.indexOf(o)][1].slice(10)),e.usedFlags=c[4],e.usedParts=c[3],console.log(o,"1split swap",e.underlying_coins[e.from_currency],e.underlying_coins[e.to_currency]),u=o[0],l=De()(u).div(e.precisions(e.to_currency)).div(e.fromInput),e.distribution=o[1],t.abrupt("return",["1split",l,u]);case 18:case"end":return t.stop()}}),t)})))()},setExchangeRate:function(e){this.bgColor=+e<=.98?"red":"#505070",isNaN(+e)?this.exchangeRate="Not available":this.exchangeRate=(+e).toFixed(4)},getPoolsCalls:function(){if(0===this.swap.length)return[];var e=De()(this.fromInput).times(Y["g"].swusd.coin_precisions[this.from_currency]);return console.log("this.from_currency, this.to_currency, dx.toFixed(0,1)",this.from_currency,this.to_currency,String(e.toFixed(0,1))),[[this.swap[0]._address,this.swap[0].methods.get_dy_underlying(this.from_currency,this.to_currency,e.toFixed(0,1)).encodeABI()]]},realComparePools:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){var r,n,a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.getPoolsCalls(),console.log("calls",JSON.stringify(r)),t.next=4,Oe["clean_and_multi_call"](r);case 4:return n=t.sent,a=n[1].map((function(e){return I["e"].web3.eth.abi.decodeParameter("uint256",e)})),console.log("decoded",JSON.stringify(a)),i=r.map((function(e,t){return[e[0],a[t]]})),t.abrupt("return",i.reduce((function(t,r){var n=e.addresses.find((function(e){return e.address==t[0]})).pool,a=e.addresses.find((function(e){return e.address==r[0]})).pool,i=e.calculateGas(n)[0],s=e.calculateGas(a)[0],o=e.precisions(e.to_currency);return t[1]/o-i>r[1]/o-s?t:r})));case 9:case"end":return t.stop()}}),t)})))()},calculateGas:function(e){var t=this.normalizeCurrency(this.from_currency),r=this.normalizeCurrency(this.to_currency),n=4e6,a=0;if("1split"!=e){var i=I["f"].swap[e].exchange(t,r)/2;a=i*this.gasPrice/1e9*this.ethPrice}var s=n*this.gasPrice/1e9*this.ethPrice;return[a,s]},set_to_amount:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){var r,n,a,i,s,c,u,l,p,h,d,m,f,g,v,b,w,y,x,_,P,N,C,k,O;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,console.log("this.from_currency",e.from_currency),e.interval&&!e.interval.stopped&&Te(e.interval),"number"!==typeof+e.fromInput||isNaN(+e.fromInput)||(e.interval=Re(e.set_to_amount,3e3)),e.distribution=null,1e4,e.swapwrapped&&50,n=0,t.prev=8,0!=e.fromInput){t.next=13;break}return e.disabled=!1,e.toInput="0.00",t.abrupt("return");case 13:if(![3,4,5,6].includes(e.from_currency)||![3,4,5,6].includes(e.to_currency)){t.next=22;break}return t.next=16,e.set_to_amount_onesplit();case 16:r=t.sent[1],e.bestPool=7,a=e.calculateGas("1split"),i=Object(o["a"])(a,2),i[0],s=i[1],e.estimateGas=s,t.next=44;break;case 22:return c=["swusd"],e.swapPromise.cancel(),u=[e.realComparePools()],(e.fromInput>100||[7,8].includes(e.from_currency)&&[7,8].includes(e.to_currency))&&(u=[e.realComparePools(),e.set_to_amount_onesplit()]),e.swapPromise=ee["l"](Promise.all(u)),t.next=29,e.swapPromise;case 29:l=t.sent,p=Object(o["a"])(l[0],2),h=p[0],d=p[1],m=e.addresses.find((function(e){return e.address==h})).pool,f=De()(d).div(e.precisions(e.to_currency,m)),r=De()(f).div(De()(e.fromInput)),n=f,0,g=0,0,l[1]&&(v=Object(o["a"])(l[1],3),v[0],g=v[1],v[2]),b=e.calculateGas(m),w=Object(o["a"])(b,2),y=w[0],x=w[1],_=e.fromInput*g-e.fromInput*r>x-y,e.estimateGas=y,r<g&&_?(r=g,m="1split",e.estimateGas=x):e.distribution=null,e.bestPool=c.indexOf(m);case 44:return P=e.bestPool,P>0&&(P+=1),N=e.swap[P]._address,console.log("best pool address",N),t.next=50,e.getCoins(e.from_currency).methods.allowance(I["e"].default_account||"0x0000000000000000000000000000000000000000",N).call();case 50:C=t.sent,De()(C).gt(I["e"].max_allowance.div(De()(2)))?e.inf_approval=!0:e.inf_approval=!1,console.log("exchangeRate",String(r)),console.log("fromInput",e.fromInput),e.toInput=e.toFixed(De()(e.fromInput).times(De()(r))),console.log("toInput",e.toInput),e.swapwrapped&&(k=n*e.c_rates(e.to_currency)[e.to_currency]*Y["g"].compound.wrapped_precisions[e.to_currency],O=e.fromInput*e.c_rates(e.from_currency)[e.from_currency]*Y["g"].compound.wrapped_precisions[e.from_currency],r=k/O),e.setExchangeRate(r),t.next=64;break;case 60:t.prev=60,t.t0=t["catch"](8),console.log("catch in set_to_amount method"),t.t0.canceled||(console.error(t.t0),e.toInput=0);case 64:return t.prev=64,e.set_from_amount(e.from_currency),t.finish(64);case 67:t.next=73;break;case 69:throw t.prev=69,t.t1=t["catch"](0),console.log("set to amount 222 issue"),t.t1;case 73:case"end":return t.stop()}}),t,null,[[0,69],[8,60,64,67]])})))()},set_max_balance:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(![5,9].includes(e.from_currency)){t.next=7;break}return t.next=3,e.getCoins(e.from_currency).methods.transferableSynths(I["e"].default_account||"0x0000000000000000000000000000000000000000").call();case 3:r=t.sent,e.susdWaitingPeriod&&(r=0),t.next=10;break;case 7:return t.next=9,e.getCoins(e.from_currency).methods.balanceOf(I["e"].default_account||"0x0000000000000000000000000000000000000000").call();case 9:r=t.sent;case 10:return n=De()(r).div(e.precisions(e.from_currency)).toFixed(),e.fromInput=I["e"].default_account?n:0,t.next=14,e.set_to_amount();case 14:case"end":return t.stop()}}),t)})))()},setup:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){var r,n,a,i,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.swap=[],e.addresses=[],r=Object.keys(Y["g"]).filter((function(e){return"swusd"===e})),n=Object(c["a"])(r);try{for(n.s();!(a=n.n()).done;)i=a.value,e.swap.push(new I["e"].web3.eth.Contract(Y["g"][i].swap_abi,Y["g"][i].swap_address)),e.addresses.push({address:Y["g"][i].swap_address,pool:i})}catch(o){n.e(o)}finally{n.f()}for(s=0;s<4;s++)Y["f"],e.coins.push(new I["e"].web3.eth.Contract(Y["s"],Y["g"].swusd.coins[s])),e.underlying_coins.push(new I["e"].web3.eth.Contract(Y["c"],Y["g"].swusd.underlying_coins[s]));case 6:case"end":return t.stop()}}),t)})))()}},beforeDestroy:function(){this.interval&&Te(this.interval)}}),Ge=Le,qe=(r("8cc8"),Object(le["a"])(Ge,Ne,Ce,!1,null,"db633486",null)),Be=qe.exports,ze=r("a4e2");d()(p.a),f()(p.a);var Ve=function(e){return new W(e)},$e=new ae.a,Ue=re["a"]($e);p.a.setOptions({lang:{loading:"",rangeSelectorZoom:""}}),b()(p.a);var We={components:{highcharts:g["Chart"],Depth:he,SelectComponent:Ie,OneSplit:Be},data:function(){return{loading:!0,chartdata:{plotOptions:{candlestick:{color:"#B70000",upColor:"#007A00"},series:{point:{events:{click:function(e){return function(t){var r=e.chart.pointer.findNearestKDPoint(e.chart.series,!1,t),n=r.dataGroup?r.dataGroup.start:r.index,a=e.data.map((function(e){return e.filter((function(e){return e.timestamp}))})).map((function(e){return e[n]})).filter((function(e){return e}));P.$emit("changeTime",a)}}(this)}}}},navigator:{series:{lineColor:"#a6cdf1",color:"#f8fbfe"}},exporting:{buttons:{contextButton:{menuItems:["printChart","separator","downloadPNG","downloadJPEG","downloadPDF","downloadSVG","separator","downloadCSV","downloadXLS","openInCloud"]}}},rangeSelector:{selected:4,allButtonsEnabled:!0,buttonTheme:{visibility:"hidden"},labelStyle:{},inputPosition:{x:0,align:"left"},buttons:[{type:"minute",count:100,text:"1m",dataGrouping:{forced:!0,units:[["minute",[1]]]}},{type:"minute",count:500,text:"5m",dataGrouping:{forced:!0,units:[["minute",[5]]]}},{type:"minute",count:1e3,text:"10m",dataGrouping:{forced:!0,units:[["minute",[10]]]}},{type:"minute",count:1500,text:"15m",dataGrouping:{forced:!0,units:[["minute",[15]]]}},{type:"minute",count:3e3,text:"30m",dataGrouping:{forced:!0,units:[["minute",[30]]]}},{type:"hour",count:500,text:"1h",dataGrouping:{forced:!0,units:[["hour",[1]]]}},{type:"hour",count:1e3,text:"2h",dataGrouping:{forced:!0,units:[["hour",[2]]]}},{type:"hour",count:2e3,text:"4h",dataGrouping:{forced:!0,units:[["hour",[4]]]}},{type:"hour",count:3e3,text:"6h",dataGrouping:{forced:!0,units:[["hour",[6]]]}},{type:"day",count:30,text:"1d",dataGrouping:{forced:!0,units:[["day",[1]]]}},{type:"day",count:90,text:"3d",dataGrouping:{forced:!0,units:[["day",[3]]]}},{type:"week",count:10,text:"1w",dataGrouping:{forced:!0,units:[["week",[1]]]}}]},chart:{height:600,panning:!0,zoomType:"x",panKey:"ctrl",events:{click:function(e){return function(t){var r=e.chart.pointer.findNearestKDPoint(e.chart.series,!1,t),n=r.dataGroup?r.dataGroup.start:r.index,a=e.data.map((function(e){return e.filter((function(e){return e.timestamp}))})).map((function(e){return e[n]})).filter((function(e){return e}));P.$emit("changeTime",a)}}(this),load:function(){this.redraw()},render:function(){this.plotWidth<480?(this.rangeSelector.maxLabel.translate(0,25),this.rangeSelector.maxDateBox.translate(37,25)):(this.rangeSelector.maxLabel.translate(141,0),this.rangeSelector.maxDateBox.translate(164,0))}}},title:{text:""},yAxis:[{labels:{align:"right",x:-3},title:{text:"OHLC"},height:"60%",lineWidth:2,resize:{enabled:!0}},{labels:{align:"right",x:-3},title:{text:"Volume"},top:"65%",height:"35%",offset:0,lineWidth:2}],tooltip:{split:!0,borderColor:"#a6cdf1"},series:[{type:"candlestick",name:this.pairVal,data:[]},{type:"column",name:"Volume",data:[],yAxis:1}]},pair:{},pool:"",pools:[],interval:null,chart:null,data:[],poolConfigs:null,fromCurrency:null,toCurrency:null,inverse:!1,ohlcData:[],exchange:!1,btcPrices:[]}},created:function(){this.exchange="Exchange"==this.$route.name,P.$on("updateCharts",this.loadData)},watch:{selectChange:function(){this.watchLoadedContracts(),I["e"].allInitContracts.size>=Q.pools.length&&this.mounted()}},mounted:function(){this.chart=this.$refs.highcharts.chart,this.watchLoadedContracts(),I["e"].allInitContracts.size>=Q.pools.length&&this.mounted()},beforeDestroy:function(){P.$off("selected",this.selectPool)},computed:{selectChange:function(){return Q.pairIdx,Q.pools.join(),Q.interval,Date.now()}},methods:{watchLoadedContracts:function(){var e=this,t=this.$watch((function(){return I["e"].allInitContracts.size}),(function(r){r>=Q.pools.length&&(e.mounted(),t())}))},loadData:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){var r,n,a,i,s,u,l,p,h,d;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.interval,n=Q.intervals.indexOf(r),n>=Q.intervals.indexOf("30m")&&(r="30m"),n>=Q.intervals.indexOf("1d")&&(r="1440m"),a=Q.pools.map((function(e){var t="swusd"==e?"y":"susdv2"==e?"susd":"ren"==e?"ren2":"sbtc"==e?"rens":e;return fetch("".concat(window.domain,"/raw-stats/").concat(t,"-").concat(r,".json"))})),(Q.pools.includes("tbtc")||Q.pools.includes("ren")||Q.pools.includes("sbtc"))&&a.push(fetch("\n\t\t\t\t\t\thttps://api.coingecko.com/api/v3/coins/bitcoin/market_chart/range?vs_currency=usd&from=1589587198&to=".concat(Date.now()/1e3|0))),t.next=8,Promise.all(a);case 8:if(i=t.sent,!(Q.pools.includes("tbtc")||Q.pools.includes("ren")||Q.pools.includes("sbtc"))){t.next=14;break}return t.next=12,i[i.length-1].json();case 12:e.btcPrices=t.sent,i=i.slice(0,-1);case 14:s=[],u=Object(c["a"])(i),t.prev=16,u.s();case 18:if((l=u.n()).done){t.next=28;break}return p=l.value,t.next=22,p.json();case 22:h=t.sent,(p.url.includes("tbtc")||p.url.includes("ren")||p.url.includes("sbtc"))&&(h=h.map((function(t){return t.volume=Object.fromEntries(Object.entries(t.volume).map((function(r){var n=Object(o["a"])(r,2),a=n[0],i=n[1];return[a,i.map((function(r){return r*ze["b"](t.timestamp,e.btcPrices.prices)}))]}))),t}))),1e3!=h.length&&i.length>1&&(p.url.includes("pax")&&(h=h.slice(10)),d=new Array(1e3-h.length).fill({}),h=d.concat(h)),s.push(h);case 26:t.next=18;break;case 28:t.next=33;break;case 30:t.prev=30,t.t0=t["catch"](16),u.e(t.t0);case 33:return t.prev=33,u.f(),t.finish(33);case 36:e.data=s;case 37:case"end":return t.stop()}}),t,null,[[16,30,33,36]])})))()},loadRecentData:function(e){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function r(){var n,a,i,s,c;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,t.loadData();case 2:return n=t.data.map((function(t){return t.filter((function(t){return t.timestamp>e}))})),r.next=5,t.processData(n);case 5:a=r.sent,i=Object(o["a"])(a,2),s=i[0],c=i[1],s.map((function(e){return t.chart.series[0].addPoint(e,!1)})),c.map((function(e){return t.chart.series[1].addPoint(e,!1)})),t.chart.redraw();case 12:case"end":return r.stop()}}),r)})))()},processData:function(e){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function r(){var n,a,o,c,u,l,p,h,d,m,f,g,v,b,w,y,x;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return t.ohlcData=[],n=[],a=[],r.prev=3,o=t.pools.map((function(e){var r=1,n="get_dy_underlying";return["tbtc","ren","sbtc"].includes(e)&&(r=1e-4,n="get_dy"),[Y["g"][e].swap_address,window[e].swap.methods[n](t.fromCurrency,t.toCurrency,Ve(r).times(Y["g"][e].coin_precisions[t.fromCurrency]).toFixed(0)).encodeABI()]})),r.next=7,I["e"].multicall.methods.aggregate(o).call();case 7:c=r.sent,u=c[1].map((function(e){return web3.eth.abi.decodeParameter("uint256",e)})),l=e[0].length,p=70,h=l-1;case 12:if(!(h>0)){r.next=55;break}d=h;case 14:if(!(d>h-p&&d>0)){r.next=34;break}t.ohlcData[d]={},t.ohlcData[d].timestamp=e[0][d].timestamp,t.ohlcData[d].prices={},t.ohlcData[d].prices[t.pairIdx]=[],t.ohlcData[d].volume={},t.ohlcData[d].volume[t.pairIdx]=[],m=regeneratorRuntime.mark((function r(n){var a,o,c,p,h,m,f;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(!(t.poolConfigs[n].N_COINS-1<t.toCurrency)){r.next=2;break}return r.abrupt("return","continue");case 2:if(o=e[n][d],0!==Object.keys(o).length||o.constructor!==Object){r.next=5;break}return r.abrupt("return","continue");case 5:if(void 0!==o){r.next=7;break}return r.abrupt("return","continue");case 7:return c=1,["tbtc","ren","sbtc"].includes(t.pools[n])&&(c=1e-8),r.next=11,Ue.calcPrice(Object(s["a"])(Object(s["a"])({},o),t.poolConfigs[n]),t.fromCurrency,t.toCurrency,c*Y["g"][t.pools[n]].coin_precisions[t.fromCurrency]);case 11:if(p=r.sent,h=+Ve(p).div(c*Y["g"][t.pools[n]].coin_precisions[t.toCurrency]),0!=h){r.next=15;break}return r.abrupt("return","continue");case 15:t.inverse&&(h=1/h),o.prices[t.pairIdx]?(t.inverse&&(o.prices[t.pairIdx]=o.prices[t.pairIdx].map((function(e){return 1/e}))),o.prices[t.pairIdx].push(h)):(o.prices[t.pairIdx]=[h],o.volume[t.pairIdx]=[0]),d==l-1&&(Ve(Y["g"][t.pools[n]].coin_precisions[t.fromCurrency]).toFixed(0),m=1,["tbtc","ren","sbtc"].includes(t.pools[n])&&(m=1e-4),f=+Ve(u[n]).div(m*Y["g"][t.pools[n]].coin_precisions[t.toCurrency]),t.inverse&&(f=1/f),t.ohlcData[d].prices[t.pairIdx].push(f)),(a=t.ohlcData[d].prices[t.pairIdx]).push.apply(a,Object(i["a"])(o.prices[t.pairIdx])),t.ohlcData[d].volume[t.pairIdx][n]=o.volume[t.pairIdx].map((function(e,r){return 0==r?e/Y["g"][t.pools[n]].coin_precisions[t.fromCurrency]:e/Y["g"][t.pools[n]].coin_precisions[t.toCurrency]}));case 20:case"end":return r.stop()}}),r)})),f=0;case 23:if(!(f<e.length)){r.next=31;break}return r.delegateYield(m(f),"t0",25);case 25:if(g=r.t0,"continue"!==g){r.next=28;break}return r.abrupt("continue",28);case 28:f++,r.next=23;break;case 31:d--,r.next=14;break;case 34:t.ohlcData.length,v=h;case 36:if(!(v>h-p&&v>0)){r.next=49;break}if(b=t.ohlcData[v].prices[t.pairIdx].length-1,t.ohlcData[v].timestamp){r.next=40;break}return r.abrupt("continue",46);case 40:w=[1e3*t.ohlcData[v].timestamp,t.ohlcData[v].prices[t.pairIdx][0],Math.max.apply(Math,Object(i["a"])(t.ohlcData[v].prices[t.pairIdx])),Math.min.apply(Math,Object(i["a"])(t.ohlcData[v].prices[t.pairIdx])),t.ohlcData[v].prices[t.pairIdx][b]],n.unshift(w),y=t.ohlcData[v].volume[t.pairIdx].map((function(e){return e[0]})),t.inverse&&(y=t.ohlcData[v].volume[t.pairIdx].map((function(e){return e[1]}))),x=[1e3*t.ohlcData[v].timestamp,y.reduce((function(e,t){return e+t}),0)],a.unshift(x);case 46:v--,r.next=36;break;case 49:t.chart.hideLoading(),t.$refs.highcharts.chart.series[0].setData(n),t.$refs.highcharts.chart.series[1].setData(a);case 52:h-=p,r.next=12;break;case 55:r.next=60;break;case 57:r.prev=57,r.t1=r["catch"](3),console.error(r.t1);case 60:return r.abrupt("return",[n,a]);case 61:case"end":return r.stop()}}),r,null,[[3,57]])})))()},mounted:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){var r,n,a,i,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.chart.showLoading(),e.pools=Q.pools.map((function(e){return"y"==e?"swusd":e})),e.pairIdx=Q.pairIdx,e.pairVal=Q.pairVal,e.interval=Q.interval,t.next=7,e.loadData();case 7:return e.poolConfigs=e.pools.map((function(e){return{N_COINS:Y["g"][e].N_COINS,PRECISION_MUL:Y["g"][e].coin_precisions.map((function(e){return 1e18/e})),USE_LENDING:Y["g"][e].USE_LENDING,LENDING_PRECISION:I["a"],PRECISION:I["b"]}})),r=e.fromCurrency=Q.pairIdx.split("-")[0],n=e.toCurrency=Q.pairIdx.split("-")[1],e.inverse=!1,r>n&&(e.inverse=!0,a=[e.toCurrency,e.fromCurrency],e.fromCurrency=a[0],e.toCurrency=a[1],e.pairIdx="".concat(e.fromCurrency,"-").concat(e.toCurrency)),t.next=14,e.processData(e.data);case 14:i=t.sent,s=Object(o["a"])(i,2),s[0],s[1],console.log(e.$refs.highcharts.chart),e.chart.setTitle({text:e.pairVal.toUpperCase()}),e.chart.rangeSelector.clickButton(Q.intervals.indexOf(e.interval),!0),e.chart.redraw(),e.chart.hideLoading(),e.loading=!1,setInterval(Object(u["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.loadRecentData(e.data[0][e.data[0].length-1].timestamp),P.$emit("updateDepth");case 2:case"end":return t.stop()}}),t)}))),6e4*e.interval.slice(0,-1));case 25:case"end":return t.stop()}}),t)})))()}}},Ye=We,Xe=(r("6972"),Object(le["a"])(Ye,n,a,!1,null,"3745b272",null));t["default"]=Xe.exports},"8a21":function(e,t,r){},"8c90":function(e,t,r){"use strict";e.exports=function(e,t,r){if(null==e||null==t)return e;var n=String(e),a="number"===typeof t?t:parseInt(t,10);if(isNaN(a)||!isFinite(a))return n;var i=n.length;if(i>=a)return n;var s=null==r?"":String(r);""===s&&(s=" ");var o=a-i;while(s.length<o)s+=s;var c=s.length>o?s.substr(0,o):s;return n+c}},"8cc8":function(e,t,r){"use strict";var n=r("8a21"),a=r.n(n);a.a},9510:function(e,t,r){e.exports=function(){return new Worker(r.p+"8a453fc57b81816d40a9.worker.js")}},"95b8":function(e,t,r){"use strict";var n=r("8356"),a=r.n(n);a.a},a2bf:function(e,t,r){"use strict";var n=r("e8b5"),a=r("50c4"),i=r("0366"),s=function(e,t,r,o,c,u,l,p){var h,d=c,m=0,f=!!l&&i(l,p,3);while(m<o){if(m in r){if(h=f?f(r[m],m,t):r[m],u>0&&n(h))d=s(e,t,h,a(h.length),d,u-1)-1;else{if(d>=9007199254740991)throw TypeError("Exceed the acceptable array length");e[d]=h}d++}m++}return d};e.exports=s},baa5:function(e,t,r){var n=r("23e7"),a=r("e58c");n({target:"Array",proto:!0,forced:a!==[].lastIndexOf},{lastIndexOf:a})},cb22:function(e,t,r){"use strict";var n=r("f988"),a=r.n(n);a.a},e4392:function(e,t,r){e.exports=r.p+"img/sync-solid.a9d4d8e2.svg"},e7e9:function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("p",{directives:[{name:"show",rawName:"v-show",value:e.errorMessage,expression:"errorMessage"}],staticClass:"simple-error pulse"},[e._v(" "+e._s(e.errorMessage)+" ")]),r("div",{directives:[{name:"show",rawName:"v-show",value:e.gasPriceMedium,expression:"gasPriceMedium"}],staticClass:"do-center",attrs:{id:"gas_price"}},[r("span",{staticStyle:{color:"#86fce7"}},[e._v("Gas price:")]),r("input",{attrs:{id:"gasstandard",type:"radio",name:"gas"},domProps:{value:e.gasPriceMedium},on:{click:function(t){e.customGasDisabled=!0,e.gasPrice=e.gasPriceMedium}}}),r("label",{attrs:{for:"gasstandard"}},[e._v(e._s(Math.round(e.gasPriceMedium))+" Standard")]),r("input",{attrs:{id:"gasfast",type:"radio",name:"gas",checked:""},domProps:{value:e.gasPriceFast},on:{click:function(t){e.customGasDisabled=!0,e.gasPrice=e.gasPriceFast}}}),r("label",{attrs:{for:"gasfast"}},[e._v(e._s(Math.round(e.gasPriceFast))+" Fast")]),r("input",{attrs:{id:"gasinstant",type:"radio",name:"gas"},domProps:{value:e.gasPriceFastest},on:{click:function(t){e.customGasDisabled=!0,e.gasPrice=e.gasPriceFastest}}}),r("label",{attrs:{for:"gasinstant"}},[e._v(e._s(Math.round(e.gasPriceFastest))+" Instant")]),r("input",{attrs:{id:"custom_gas",type:"radio",name:"gas",value:"-"},on:{click:function(t){e.customGasDisabled=!1,e.gasPrice=e.gasPriceSlow}}}),r("label",{attrs:{for:"custom_gas"},on:{click:function(t){e.customGasDisabled=!1,e.gasPrice=e.gasPriceSlow}}},[r("input",{attrs:{type:"text",id:"custom_gas_input",disabled:e.customGasDisabled,name:"custom_gas_input"},domProps:{value:e.customGasPriceInput},on:{input:function(t){return e.setCustomGas(t)}}}),r("span",{directives:[{name:"show",rawName:"v-show",value:e.customGasPriceInput==e.gasPriceSlow,expression:"customGasPriceInput == gasPriceSlow"}]}),r("span",{directives:[{name:"show",rawName:"v-show",value:e.customGasPriceInput&&e.customGasPriceInput<e.gasPriceSlow,expression:"customGasPriceInput && customGasPriceInput < gasPriceSlow"}],staticClass:"gastoolow"},[e._m(0)])])])])},a=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",{staticClass:"tooltip"},[e._v(" Low "),r("span",{staticClass:"tooltiptext"},[e._v(" Too low gas price. Your transaction may be dropped. ")])])}],i=(r("b680"),r("d3b7"),r("4795"),r("96cf"),r("1da1")),s=r("0a37"),o=r("0c7c"),c=r("2fa3"),u=r("fe5c"),l=r("901e"),p=r.n(l),h={data:function(){return{customGasDisabled:!0}},computed:{gasPriceSlow:function(){return s["a"].gasPriceInfo&&s["a"].gasPriceInfo.low||15},gasPriceMedium:function(){return s["a"].gasPriceInfo&&s["a"].gasPriceInfo.standard||20},gasPriceFast:function(){return s["a"].gasPriceInfo&&s["a"].gasPriceInfo.fast||25},gasPriceFastest:function(){return s["a"].gasPriceInfo&&s["a"].gasPriceInfo.instant||30},gasPrice:{get:function(){return s["a"].gasPrice},set:function(e){s["a"].gasPrice=e}},customGasPriceInput:function(){return this.customGasDisabled?this.gasPriceSlow:this.gasPrice},errorMessage:function(){return setTimeout((function(){return o["b"].txError=null}),2200),o["b"].txError}},created:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:!s["a"].fetched&&e.getGasPrice(),s["a"].gasPriceInterval&&Object(u["clearIntervalAsync"])(s["a"].gasPriceInterval),s["a"].gasPriceInterval&&!s["a"].gasPriceInterval.stopped||(s["a"].gasPriceInterval=Object(u["setIntervalAsync"])((function(){return e.getGasPrice()}),3e3)),e.$watch((function(){return s["a"].gasPrice}),(function(e){s["a"].gasPriceWei=p()(e).times(1e9).toFixed(0,1)}),{immediate:!0});case 4:case"end":return t.stop()}}),t)})))()},methods:{getGasPrice:function(){return Object(i["a"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(c["o"])(fetch("https://gasprice.poa.network/"));case 3:return t=e.sent,e.next=6,t.json();case 6:if(t=e.sent,s["a"].gasPriceInfo=t,s["a"].gasPriceInfo.low=s["a"].gasPriceInfo.slow,!(s["a"].gasPriceInfo.fast>1e3)){e.next=11;break}throw new Error("too high!");case 11:e.next=21;break;case 13:return e.prev=13,e.t0=e["catch"](0),console.error(e.t0),e.next=18,web3.eth.getGasPrice();case 18:e.t1=e.sent,r=e.t1/1e9,s["a"].gasPriceInfo={low:r-2,standard:r,fast:r+2,instant:r+4};case 21:s["a"].fetched||(s["a"].gasPrice=s["a"].gasPriceInfo.fast,s["a"].fetched=!0);case 22:case"end":return e.stop()}}),e,null,[[0,13]])})))()},setCustomGas:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:n=e.target.value,e.target.value>2*t.gasPriceFastest&&(n=2*t.gasPriceFastest),t.gasPrice=n;case 3:case"end":return r.stop()}}),r)})))()}}},d=h,m=(r("5199"),r("2877")),f=Object(m["a"])(d,n,a,!1,null,"11f75e20",null);t["a"]=f.exports},f988:function(e,t,r){},fe5c:function(e,t,r){"use strict";r.r(t),r.d(t,"SetIntervalAsyncError",(function(){return o})),r.d(t,"clearIntervalAsync",(function(){return i})),r.d(t,"setIntervalAsync",(function(){return h}));var n=r("3bdc");const a=Math.pow(2,31)-1;function i(e){return s.apply(this,arguments)}function s(){return s=n((function*(e){e.stopped=!0;for(var t=0,r=Object.values(e.timeouts);t<r.length;t++){const e=r[t];clearTimeout(e)}const n=()=>{},i=Object.values(e.promises).map(e=>{e.catch(n)}),s=setInterval(n,a);yield Promise.all(i),clearInterval(s)})),s.apply(this,arguments)}class o extends Error{}Object.defineProperty(o.prototype,"name",{value:"SetIntervalAsyncError"});const c=10;function u(e){if("function"!==typeof e)throw new o('Invalid argument: "handler". Expected a function.')}function l(e){if(!("number"===typeof e&&c<=e))throw new o(`Invalid argument: "interval". Expected a number greater than or equal to ${c}.`)}class p{constructor(){this.stopped=!1,this.id=0,this.timeouts={},this.promises={}}}function h(e,t,...r){u(e),l(t);const n=new p,a=n.id;return n.timeouts[a]=setTimeout(d,t,n,e,t,...r),n}function d(e,t,r,...a){const i=e.id;e.promises[i]=n((function*(){const n=new Date;try{yield t(...a)}catch(o){console.error(o)}const s=new Date;if(!e.stopped){const o=s-n,c=r>o?r-o:0;e.timeouts[i+1]=setTimeout(d,c,e,t,r,...a)}delete e.timeouts[i],delete e.promises[i]}))(),e.id=i+1}}}]);
//# sourceMappingURL=chunk-1c7e086f.b73feb89.js.map