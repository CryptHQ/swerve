(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d259700c"],{"07ac":function(e,t,a){var s=a("23e7"),n=a("6f53").values;s({target:"Object",stat:!0},{values:function(e){return n(e)}})},"0b7b":function(e,t,a){e.exports=a.p+"img/clock-regular.54749a5a.svg"},"0c33":function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("p",{directives:[{name:"show",rawName:"v-show",value:e.showSlippage&&e.slippage<-.005,expression:"showSlippage && slippage < -0.005"}],staticClass:"simple-error",attrs:{id:"highslippage-warning"}},[a("span",{staticClass:"text"},[e._v(" Warning! High slippage(plus pricing): "),a("span",{staticClass:"percent"},[e._v(e._s((100*-e.slippage).toFixed(3)))]),e._v("% "),e._m(0)])]),a("p",{directives:[{name:"show",rawName:"v-show",value:e.showSlippage&&e.slippage<=0&&e.slippage>=-.005,expression:"showSlippage && slippage <= 0 && slippage >= -0.005"}],staticClass:"info-message",attrs:{id:"slippage-warning"}},[a("span",{staticClass:"text"},[e._v(" Slippage(plus pricing): ")]),a("span",{staticClass:"percent"},[e._v(e._s((100*-e.slippage).toFixed(3)))]),e._v("% "),e._m(1)]),a("p",{directives:[{name:"show",rawName:"v-show",value:e.showSlippage&&e.slippage>0,expression:"showSlippage && slippage > 0"}],staticClass:"success",attrs:{id:"bonus-window"}},[e._v(" Bonus(plus pricing): "),a("span",[e._v(e._s((100*e.slippage).toFixed(3)))]),e._v("% "),a("span",{staticClass:"tooltip"},[e._v("[?] "),a("span",{staticClass:"tooltiptext long"},[e._v(" Bonus comes as an advantage from current coin prices which usually appears for coins which are "+e._s("Deposit"==e.$route.name?"low":"high")+" in balance ")])])]),a("p",{directives:[{name:"show",rawName:"v-show",value:e.show_nobalance,expression:"show_nobalance"}],staticClass:"simple-error",attrs:{id:"nobalance-warning"}},[e._v(" Warning! Not enough balance for "+e._s(e.noBalanceText)+" token in the contract ")]),a("p",{directives:[{name:"show",rawName:"v-show",value:"susdv2"==e.currentPool&&e.showSlippage&&e.slippage<-.01,expression:"currentPool == 'susdv2' && showSlippage && slippage < -0.01"}],staticClass:"info-message gentle-message",attrs:{id:"susd-warning"}},[e._v(" Please add coins in a balanced proportion ")])])},n=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"tooltip"},[e._v("[?] "),a("span",{staticClass:"tooltiptext long"},[e._v(" Slippage comes from depositing too many coins not in balance, and current coin prices are additionally accounted for ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"tooltip"},[e._v("[?] "),a("span",{staticClass:"tooltiptext long"},[e._v(" Slippage comes from depositing too many coins not in balance, and current coin prices are additionally accounted for ")])])}],r=(a("4fad"),a("5530")),i=a("51bf"),o={props:["show_nobalance","show_nobalance_i"],computed:Object(r["a"])(Object(r["a"])({},i["g"]),{},{noBalanceText:function(){if(!this.show_nobalance)return"";var e=Object.entries(this.currencies)[this.show_nobalance_i];return 2==this.show_nobalance_i&&"usdt"==this.currentPool||"susdv2"==this.currentPool?e[1]:e[1]+" (in "+e[0]+")"}})},c=o,u=a("2877"),l=Object(u["a"])(c,s,n,!1,null,"556a4168",null);t["a"]=l.exports},1927:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"add-liquidity"},[s("fieldset",{staticClass:"currencies"},[s("legend",[e._v("Currencies:")]),s("ul",e._l(Object.keys(e.currencies),(function(t,n){var r;return s("li",[s("label",{attrs:{for:"currency_"+n}},[s("span",{staticClass:"currency_label"},[s("img",{class:(r={"token-icon":!0},r[t+"-icon"]=!0,r["y"]=e.depositc&&!e.isPlain,r),attrs:{src:e.getTokenIcon(t)}}),s("span",{directives:[{name:"show",rawName:"v-show",value:e.depositc,expression:"depositc"}]},[e._v(e._s(e.currencies[t])+" "),s("span",{directives:[{name:"show",rawName:"v-show",value:!("usdt"==t&&"usdt"==e.currentPool||"pax"==t)&&!["susdv2","tbtc","ren","sbtc"].includes(e.currentPool),expression:"!(currency == 'usdt' && currentPool == 'usdt' || currency == 'pax')\n    \t                        \t\t\t\t\t&& !['susdv2', 'tbtc', 'ren', 'sbtc'].includes(currentPool)"}]},[e._v(" (in "+e._s(e._f("capitalize")(t))+") ")])]),s("span",{directives:[{name:"show",rawName:"v-show",value:!e.depositc,expression:"!depositc"}]},[e._v(e._s(e._f("capitalize")(t))+" ")]),s("span",{staticClass:"maxBalanceCoin",on:{click:function(t){return e.setMaxBalanceCoin(n)}}},[e._v(" Max: "),s("span",{directives:[{name:"show",rawName:"v-show",value:("susdv2"==e.currentPool&&3==n||"sbtc"==e.currentPool&&2==n)&&"0.00"!=e.maxBalanceCoin(n),expression:"(currentPool == 'susdv2' && i == 3 || currentPool == 'sbtc' && i == 2)\n                                                    && maxBalanceCoin(i) != '0.00'"}]},[e._v(" "+e._s(e.transferableBalanceText)+"/ ")]),s("span",[e._v(e._s(e.maxBalanceCoin(n))+" ")]),s("span",{directives:[{name:"show",rawName:"v-show",value:e.susdWaitingPeriod,expression:"susdWaitingPeriod"}]},[s("span",{staticClass:"tooltip"},[s("img",{staticClass:"icon small",attrs:{src:a("0b7b")}}),s("span",{staticClass:"tooltiptext normalFont"},[e._v(" Cannot transfer during waiting period. "+e._s(e.susdWaitingPeriodTime.toFixed(0))+" secs left. ")])])]),s("span",{directives:[{name:"show",rawName:"v-show",value:("susdv2"==e.currentPool&&3==n||"sbtc"==e.currentPool&&2==n)&&"0.00"!=e.maxBalanceCoin(n),expression:"(currentPool == 'susdv2' && i == 3 || currentPool == 'sbtc' && i == 2)\n                                                    && maxBalanceCoin(i) != '0.00'"}],staticClass:"tooltip"},[e._v(" [?] "),s("span",{staticClass:"tooltiptext long normalFont"},[e._v(" Max transferrable amount is "+e._s(e.transferableBalanceText)+". You can free the remaining balance by settling. ")])])])])]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.inputs[n],expression:"inputs[i]"}],style:{backgroundColor:e.bgColors[n]},attrs:{type:"text",id:"currency_"+n,disabled:e.disabled,name:"from_cur"},domProps:{value:e.inputs[n]},on:{input:[function(t){t.target.composing||e.$set(e.inputs,n,t.target.value)},function(t){return e.change_currency(n,!0)}]}})])})),0)]),s("ul",{staticClass:"do-center"},[s("gas-price"),s("li",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.max_balances,expression:"max_balances"}],attrs:{id:"max-balances",type:"checkbox",name:"max-balances",disabled:e.disabledButtons,checked:""},domProps:{checked:Array.isArray(e.max_balances)?e._i(e.max_balances,null)>-1:e.max_balances},on:{change:[function(t){var a=e.max_balances,s=t.target,n=!!s.checked;if(Array.isArray(a)){var r=null,i=e._i(a,r);s.checked?i<0&&(e.max_balances=a.concat([r])):i>-1&&(e.max_balances=a.slice(0,i).concat(a.slice(i+1)))}else e.max_balances=n},e.handle_sync_balances]}}),s("label",{attrs:{for:"max-balances"}},[e._v("Use maximum amount of coins available")])]),s("li",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.inf_approval,expression:"inf_approval"}],attrs:{id:"inf-approval",type:"checkbox",name:"inf-approval",checked:""},domProps:{checked:Array.isArray(e.inf_approval)?e._i(e.inf_approval,null)>-1:e.inf_approval},on:{change:function(t){var a=e.inf_approval,s=t.target,n=!!s.checked;if(Array.isArray(a)){var r=null,i=e._i(a,r);s.checked?i<0&&(e.inf_approval=a.concat([r])):i>-1&&(e.inf_approval=a.slice(0,i).concat(a.slice(i+1)))}else e.inf_approval=n}}}),e._m(0)])],1),s("div",{directives:[{name:"show",rawName:"v-show",value:e.susdWaitingPeriod,expression:"susdWaitingPeriod"}],staticClass:"simple-error pulse"},[e._v(" Cannot transfer "+e._s("susdv2"==e.currentPool?"sUSD":"sBTC")+" during waiting period. "+e._s(e.susdWaitingPeriodTime.toFixed(0))+" secs left. ")]),s("p",{staticClass:"buttons",staticStyle:{"text-align":"center"}},[s("button",{staticClass:"simplebutton",attrs:{id:"add-liquidity",disabled:"susdv2"==e.currentPool&&e.slippage<-.03||e.depositingZeroWarning||e.isZeroSlippage},on:{click:function(t){e.justDeposit=!0,e.handle_add_liquidity()}}},[e._v(" Deposit "),s("span",{directives:[{name:"show",rawName:"v-show",value:1==e.loadingAction,expression:"loadingAction == 1"}],staticClass:"loading line"})])]),s("p",{directives:[{name:"show",rawName:"v-show",value:e.lpCrvReceived>0,expression:"lpCrvReceived > 0"}],staticClass:"info-message gentle-message"},[e._v(" You'll receive minimum "+e._s(e.lpCrvReceivedText)+" Curve "+e._s(e.currentPool)+" LP tokens "),s("sub",[e._v(e._s((100*(1-e.getMaxSlippage)).toFixed(2))+"% max slippage")]),s("span",{staticClass:"curvelpusd"},[e._v(" 1 Curve "+e._s(e.currentPool)+" LP token = "+e._s((1*e.virtual_price).toFixed(6))+" "+e._s(["ren","sbtc"].includes(e.currentPool)?"BTC":"USD")+" ")])]),s("div",[s("button",{staticClass:"simplebutton advancedoptions",on:{click:function(t){e.showadvancedoptions=!e.showadvancedoptions}}},[e._v(" Advanced options "),s("span",{directives:[{name:"show",rawName:"v-show",value:!e.showadvancedoptions,expression:"!showadvancedoptions"}]},[e._v("▼")]),s("span",{directives:[{name:"show",rawName:"v-show",value:e.showadvancedoptions,expression:"showadvancedoptions"}]},[e._v("▲")])]),s("div",{directives:[{name:"show",rawName:"v-show",value:e.showadvancedoptions,expression:"showadvancedoptions"}]},[s("fieldset",[s("legend",[e._v("Advanced options:")]),s("div",{directives:[{name:"show",rawName:"v-show",value:e.hasRewards&&e.totalShare>0&&["susdv2","sbtc","y","swusd"].includes(e.currentPool),expression:"hasRewards && totalShare > 0 && ['susdv2', 'sbtc', 'y', 'swusd'].includes(currentPool)"}]},[s("label",{attrs:{for:"stakepercentage"}},[e._v("Stake %")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.stakepercentage,expression:"stakepercentage"}],class:{invalid:e.stakePercentageInvalid},attrs:{id:"stakepercentage"},domProps:{value:e.stakepercentage},on:{input:function(t){t.target.composing||(e.stakepercentage=t.target.value)}}}),s("button",{directives:[{name:"show",rawName:"v-show",value:e.totalShare>0&&["susdv2","sbtc","y","swusd"].includes(e.currentPool),expression:"totalShare > 0 && ['susdv2', 'sbtc', 'y', 'swusd'].includes(currentPool)"}],attrs:{id:"stakeunstaked",disabled:e.stakePercentageInvalid},on:{click:function(t){return e.stakeTokens()}}},[e._v(" Stake unstaked "),s("span",{directives:[{name:"show",rawName:"v-show",value:3==e.loadingAction,expression:"loadingAction == 3"}],staticClass:"loading line"})])]),s("div",{attrs:{id:"max_slippage"}},[e._m(1),s("input",{directives:[{name:"model",rawName:"v-model",value:e.maxSlippage,expression:"maxSlippage"}],attrs:{id:"slippage01",type:"radio",name:"slippage",value:"0.1"},domProps:{checked:e._q(e.maxSlippage,"0.1")},on:{change:function(t){e.maxSlippage="0.1"}}}),s("label",{attrs:{for:"slippage01"}},[e._v("0.1%")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.maxSlippage,expression:"maxSlippage"}],attrs:{id:"slippage1",type:"radio",name:"slippage",checked:"",value:"1"},domProps:{checked:e._q(e.maxSlippage,"1")},on:{change:function(t){e.maxSlippage="1"}}}),s("label",{attrs:{for:"slippage1"}},[e._v("1%")]),s("input",{attrs:{id:"custom_slippage",type:"radio",name:"slippage",value:"-"},on:{click:function(t){e.customippageDisabled=!1}}}),s("label",{attrs:{for:"custom_slippage"},on:{click:function(t){e.customSlippageDisabled=!1}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.maxInputSlippage,expression:"maxInputSlippage"}],class:{invalid:e.warningInputSlippage},attrs:{type:"text",id:"custom_slippage_input",disabled:e.customSlippageDisabled,name:"custom_slippage_input"},domProps:{value:e.maxInputSlippage},on:{input:function(t){t.target.composing||(e.maxInputSlippage=t.target.value)}}}),e._v(" % ")]),s("div",{directives:[{name:"show",rawName:"v-show",value:e.warningInputSlippage,expression:"warningInputSlippage"}],staticClass:"simple-error"},[e._v(" "+e._s(e.maxInputSlippage)+"% is too low of a slippage - your transaction may fail ")])])])])]),s("p",{directives:[{name:"show",rawName:"v-show",value:["ren","sbtc"].includes(e.currentPool),expression:"['ren', 'sbtc'].includes(currentPool)"}],staticClass:"trade-buttons"},[s("a",{attrs:{href:"https://bridge.renproject.io/"}},[e._v("Mint/redeem renBTC")])]),s("div",{directives:[{name:"show",rawName:"v-show",value:["susdv2","sbtc"].includes(e.currentPool),expression:"['susdv2', 'sbtc'].includes(currentPool)"}],attrs:{id:"mintr"}},[s("a",{attrs:{href:"https://mintr.synthetix.io/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Manage staking in Mintr")])]),s("button",{directives:[{name:"show",rawName:"v-show",value:"compound"==e.currentPool&&e.oldBalance>0,expression:"currentPool == 'compound' && oldBalance > 0"}],attrs:{id:"migrate-new"},on:{click:e.handle_migrate_new}},[e._v("Migrate from old")]),s("div",{directives:[{name:"show",rawName:"v-show",value:e.show_loading,expression:"show_loading"}],staticClass:"info-message gentle-message"},[s("span",{domProps:{innerHTML:e._s(e.waitingMessage)}}),e._v(" "),s("span",{staticClass:"loading line"})]),s("div",{directives:[{name:"show",rawName:"v-show",value:e.estimateGas,expression:"estimateGas"}],staticClass:"info-message gentle-message"},[e._v(" Estimated tx cost: "+e._s((e.estimateGas*e.gasPrice/1e9*e.ethPrice).toFixed(2))+"$ ")]),s("div",{directives:[{name:"show",rawName:"v-show",value:e.errorStaking,expression:"errorStaking"}],staticClass:"simple-error"},[e._v(" There was an error in staking your tokens. You can manually stake them on "),s("a",{directives:[{name:"show",rawName:"v-show",value:["susdv2","sbtc"].includes(e.currentPool),expression:"['susdv2', 'sbtc'].includes(currentPool)"}],attrs:{href:"https://mintr.synthetix.io/",target:"_blank",rel:"noopener noreferrer"}},[e._v(" Mintr. ")])]),s("div",{directives:[{name:"show",rawName:"v-show",value:e.compareInputsWarning.length&&!e.max_balances,expression:"compareInputsWarning.length && !max_balances"}],staticClass:"simple-error pulse"},[e._v(" Not enough balance for currencies "+e._s(e.compareInputsWarning.toString())+" "),s("p",{directives:[{name:"show",rawName:"v-show",value:e.compareInputsWarning.length==e.N_COINS-1,expression:"compareInputsWarning.length == N_COINS - 1"}]},[e._v(' Maybe you forgot to uncheck the first "Add all coins in a balanced proportion" checkbox? ')])]),s("div",{directives:[{name:"show",rawName:"v-show",value:e.depositingZeroWarning&&!e.max_balances,expression:"depositingZeroWarning && !max_balances"}],staticClass:"simple-error pulse"},[e._v(" You're depositing 0 coins. "),s("p",[e._v(' Maybe you forgot to uncheck the first "Add all coins in a balanced proportion" checkbox? ')])]),s("Slippage"),s("p")],1)])},n=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",{attrs:{for:"inf-approval"}},[e._v("Infinite approval - trust this contract forever "),a("span",{staticClass:"tooltip"},[e._v("[?] "),a("span",{staticClass:"tooltiptext long"},[e._v(" Preapprove the contract to to be able to spend any amount of your coins. You will not need to approve again. ")])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"tooltip"},[e._v(" Max slippage: "),a("span",{staticClass:"tooltiptext long"},[e._v(" Customize the maximum slippage you can get when depositing ")])])}],r=(a("99af"),a("cb29"),a("4de4"),a("4160"),a("caad"),a("d81d"),a("fb6a"),a("45fc"),a("6eba"),a("0d03"),a("a9e3"),a("b680"),a("b64b"),a("d3b7"),a("07ac"),a("25f0"),a("3ca3"),a("159b"),a("ddb0"),a("4795"),a("2909")),i=a("3835"),o=a("b85c"),c=a("5530"),u=(a("96cf"),a("1da1")),l=a("2b0e"),p=a("d99e"),d=a("cf45"),g=a("51bf"),v=a("5245"),m=a("2fa3"),h=a("0a37"),f=a("e7e9"),w=a("0c7c"),_=a("901e"),b=a.n(_),x=a("0c33"),P=(v["g"].compound,{components:{Slippage:x["a"],GasPrice:f["a"]},data:function(){return{disabled:!0,disabledButtons:!0,sync_balances:!1,max_balances:!0,inf_approval:!0,wallet_balances:[],transferableBalance:null,susdWaitingPeriod:!1,susdWaitingPeriodTime:0,balances:[],inputs:[],amounts:[],bgColors:[],depositc:!1,coins:[],rates:[],swap_address:g["e"].swap_address,lpCrvReceived:null,show_loading:!1,waitingMessage:"",estimateGas:0,ethPrice:0,justDeposit:!1,stakepercentage:100,get showadvancedoptions(){return"true"===localStorage.getItem("advancedoptions")},set showadvancedoptions(e){localStorage.setItem("advancedoptions",e)},maxSlippage:1,maxInputSlippage:"",customSlippageDisabled:!0,loadingAction:!1,errorStaking:!1,slippagePromise:m["l"](Promise.resolve()),hasRewards:!0}},created:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$watch((function(){return g["e"].default_account}),(function(t,a){t&&a&&t.toLowerCase()!=a.toLowerCase()&&e.mounted()})),e.$watch((function(){return g["e"].initializedContracts}),(function(t){t&&e.mounted()})),e.$watch((function(){return g["e"].currentContract}),(function(t,a){e.setInputStyles(!1,t,a),g["e"].initializedContracts&&e.mounted()}));case 3:case"end":return t.stop()}}),t)})))()},watch:{depositc:function(e,t){var a=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a.changeSwapInfo(e),t.next=3,a.handle_sync_balances();case 3:return!a.max_balances&&a.highlightAllInputs(),t.next=6,a.calcSlippage();case 6:case"end":return t.stop()}}),t)})))()},getMaxSlippage:function(){this.getLPCrvReceived()}},computed:Object(c["a"])(Object(c["a"])({},g["g"]),{},{minAmount:function(){return["tbtc","ren","sbtc"].includes(g["e"].currentContract)?1e-8:.01},calcFee:function(){var e=v["g"][g["e"].currentContract].N_COINS;return this.fee/100*e/(4*(e-1))},compareInputsWarning:function(){var e,t=[],a=Object(o["a"])(Object.keys(this.currencies).entries());try{for(a.s();!(e=a.n()).done;){var s=Object(i["a"])(e.value,2),n=s[0],r=s[1],c=this.wallet_balances[n];"susdv2"==this.currentPool&&3==n&&(c=this.susdWaitingPeriod?0:this.transferableBalance);var u=b()(b()(c).times(this.rates[n])).minus(this.inputs[n]);u.lt(b()(-.01))&&t.push(this.depositc?this.currencies[r]:r.toUpperCase())}}catch(l){a.e(l)}finally{a.f()}return t},depositingZeroWarning:function(){return this.inputs.filter((function(e){return 0==+e})).length==this.N_COINS&&!this.disabledButtons},isPlain:function(){return["susdv2","tbtc","ren","sbtc"].includes(this.currentPool)},transferableBalanceText:function(){return this.toFixed(this.transferableBalance/1e18)},virtual_price:function(){return g["e"].virtual_price},lpCrvReceivedText:function(){return this.toFixed(this.lpCrvReceived)},gasPrice:function(){return h["a"].gasPrice},gasPriceWei:function(){return h["a"].gasPriceWei},stakePercentageInvalid:function(){return this.stakepercentage<0||this.stakepercentage>100},getMaxSlippage:function(){var e=+this.maxSlippage;return this.maxInputSlippage&&(e=+this.maxInputSlippage),(100-e)/100},warningInputSlippage:function(){return!!this.maxInputSlippage&&+this.maxInputSlippage<.5},isZeroSlippage:function(){return""!==this.maxInputSlippage&&(0==+this.maxInputSlippage||isNaN(this.maxInputSlippage))}}),mounted:function(){this.setInputStyles(!0),g["e"].initializedContracts&&this.mounted()},methods:{stakeTokens:function(e){var t=arguments,a=this;return Object(u["a"])(regeneratorRuntime.mark((function s(){var n,r,i,o,c;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(n=t.length>1&&void 0!==t[1]&&t[1],3!=a.loadingAction){s.next=3;break}return s.abrupt("return");case 3:if(a.setLoadingAction(3),e){s.next=11;break}return s.t0=b.a,s.next=8,g["e"].swap_token.methods.balanceOf(g["e"].default_account).call();case 8:s.t1=s.sent,e=(0,s.t0)(s.t1),e=b()(a.stakepercentage/100).times(e);case 11:return a.waitingMessage="Please approve staking ".concat(a.toFixed(e.div(b()(1e18)))," of your sCurve tokens"),r=Object(p["d"])(a.waitingMessage),i=r.dismiss,s.next=15,d["ensure_stake_allowance"](e,g["e"].curveRewards,a.inf_approval);case 15:return i(),a.waitingMessage="Please confirm stake transaction ".concat(n?"(2/2)":""),o=Object(p["d"])(a.waitingMessage),i=o.dismiss,s.next=20,Promise.all([m["g"]()]);case 20:return c=s.sent,a.ethPrice=c[0],a.estimateGas=2e5,s.prev=23,s.next=26,g["e"].curveRewards.methods.stake(e.toFixed(0,1)).send({from:g["e"].default_account,gasPrice:a.gasPriceWei,gas:4e5}).once("transactionHash",(function(e){a.waitingMessage="Waiting for stake transaction to confirm\n                            ".concat(n?"(2/2)":"",": no further action needed"),i(),Object(p["c"])(e)}));case 26:g["e"].totalShare-=e,d["update_fee_info"](),s.next=35;break;case 30:s.prev=30,s.t2=s["catch"](23),console.error(s.t2),i(),w["a"](s.t2);case 35:a.waitingMessage="",a.show_loading=!1;case 37:case"end":return s.stop()}}),s,null,[[23,30]])})))()},mounted:function(e){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function e(){var a,s,n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return["susd","susdv2","tbtc","ren","sbtc"].includes(g["e"].currentContract)?t.depositc=!0:t.depositc=!1,t.changeSwapInfo(t.depositc),g["e"].showSlippage=!1,g["e"].slippage=0,e.next=6,t.handle_sync_balances();case 6:return e.next=8,t.getLPCrvReceived();case 8:return e.next=10,t.calcSlippage();case 10:return a=Object(r["a"])(Array(g["e"].N_COINS).keys()).map((function(e){return[t.coins[e]._address,t.coins[e].methods.allowance(g["e"].default_account||"0x0000000000000000000000000000000000000000",t.swap_address).encodeABI()]})),["susdv2","sbtc","y","swusd"].includes(t.currentPool)&&a.push([g["e"].curveRewards._address,g["e"].curveRewards.methods.periodFinish().encodeABI()]),e.next=14,d["clean_and_multi_call"](a);case 14:s=e.sent,n=s[1].map((function(e){return g["e"].web3.eth.abi.decodeParameter("uint256",e)})),console.log("decoded approvals amounts",JSON.stringify(n)),n.slice(0,n.length-1).some((function(e){return b()(e).lte(g["e"].max_allowance.div(b()(2)))>0}))&&(t.inf_approval=!1),i=Date.now()/1e3,["susdv2","sbtc","y","swusd"].includes(t.currentPool)&&+n[n.length-1]<i&&(t.hasRewards=!1),t.disabledButtons=!1;case 21:case"end":return e.stop()}}),e)})))()},getTokenIcon:function(e){return m["h"](e,this.depositc,this.currentPool)},toFixed:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(0==+e&&["ren","sbtc"].includes(g["e"].currentContract))return"0.00";2==t&&["tbtc","ren","sbtc"].includes(g["e"].currentContract)&&(t=8);var a=(+e).toFixed(t);return isNaN(a)?"0.00":a},maxBalanceCoin:function(e){return this.toFixed(this.wallet_balances[e]*this.rates[e])},setMaxBalanceCoin:function(e){if(l["a"].set(this.inputs,e,this.maxBalanceCoin(e)),"susdv2"==this.currentPool&&3==e||"sbtc"==this.currentPool&&2==e){var t=this.susdWaitingPeriod?0:b()(this.transferableBalance).times(this.rates[e]).toString();l["a"].set(this.inputs,e,t)}},inputsFormat:function(e){return this.inputs[e]?this.toFixed(+this.inputs[e]):"0.00"},changeSwapInfo:function(e){e?(this.coins=g["e"].coins,"susdv2"==this.currentPool&&l["a"].set(this.coins,3,g["e"].underlying_coins[3]),"sbtc"==this.currentPool&&l["a"].set(this.coins,2,g["e"].underlying_coins[2]),this.rates=g["e"].c_rates,this.swap_address=g["e"].swap_address):(this.coins=g["e"].underlying_coins,this.rates=g["e"].coin_precisions.map((function(e){return 1/e})),this.swap_address=g["e"].deposit_zap._address)},setInputStyles:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0;if(a){for(var s=0;s<v["g"][t].N_COINS-v["g"][a].N_COINS;s++)this.inputs.push("0.00");v["g"][a].N_COINS-v["g"][t].N_COINS>0&&(this.inputs=this.inputs.filter((function(e,a){return a<v["g"][t].N_COINS})))}else e&&(this.inputs=new Array(Object.keys(this.currencies).length).fill("0.00"));this.bgColors=Array(g["e"].N_COINS).fill({backgroundColor:"#707070",color:"#d0d0d0"})},calcSlippage:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.slippagePromise.cancel(),e.slippagePromise=m["l"](d["calc_slippage"](e.inputs,!0)),t.next=5,e.slippagePromise;case 5:t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.error(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},handle_sync_balances:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){var a,s,n,r,i,o,c,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,d["update_fee_info"]();case 2:for(a=[],console.log("currentContract.N_COINS",g["e"].N_COINS),s=0;s<g["e"].N_COINS;s++)a.push([e.coins[s]._address,e.coins[s].methods.balanceOf(g["e"].default_account||"0x0000000000000000000000000000000000000000").encodeABI()]),a.push([g["e"].swap._address,g["e"].swap.methods.balances(s).encodeABI()]);return t.next=7,d["clean_and_multi_call"](a);case 7:if(n=t.sent,r=n[1].map((function(e){return g["e"].web3.eth.abi.decodeParameter("uint256",e)})),i=r,m["b"](i,2).map((function(t,a){l["a"].set(e.wallet_balances,a,t[0]),g["e"].default_account||l["a"].set(e.wallet_balances,a,0),l["a"].set(e.balances,a,+t[1])})),e.max_balances)for(e.disabled=!0,o=0;o<g["e"].N_COINS;o++)c=e.wallet_balances[o]*g["e"].c_rates[o],e.depositc||(c=e.wallet_balances[o]/v["g"][g["e"].currentContract].coin_precisions[o]),u=c,u=e.toFixed(c),0==u&&(u="0.00"),l["a"].set(e.inputs,o,e.toFixed(u));else e.disabled=!1;case 12:case"end":return t.stop()}}),t)})))()},handle_sync_balances_proportion:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.handle_sync_balances();case 2:case"end":return t.stop()}}),t)})))()},deposit_stake:function(){this.show_loading=!0,this.handle_add_liquidity(!0)},setLoadingAction:function(e){var t=this;this.loadingAction=e,setTimeout((function(){return t.loadingAction=!1}),500)},handle_add_liquidity:function(){var e=arguments,t=this;return Object(u["a"])(regeneratorRuntime.mark((function a(){var s,n,i,o,c,u,h,f,_,x,P,C,k,I,y,S,N,O,A,M;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(s=e.length>0&&void 0!==e[0]&&e[0],n=0==s?1:2,t.loadingAction!=n){a.next=4;break}return a.abrupt("return");case 4:return t.setLoadingAction(n),a.next=7,Promise.all([m["g"]()]);case 7:return i=a.sent,t.ethPrice=i[0],t.show_loading=!0,o=Object(r["a"])(Array(g["e"].N_COINS).keys()).map((function(e){return"susdv2"==t.currentPool&&3==e||"sbtc"==t.currentPool&&2==e?[t.coins[e]._address,t.coins[e].methods.transferableSynths(g["e"].default_account).encodeABI()]:[t.coins[e]._address,t.coins[e].methods.balanceOf(g["e"].default_account).encodeABI()]})),c=0,o.push([g["e"].swap_token._address,g["e"].swap_token.methods.totalSupply().encodeABI()]),["susdv2","sbtc"].includes(t.currentPool)&&(u="0x7355534400000000000000000000000000000000000000000000000000000000","sbtc"==t.currentPool&&(u="0x7342544300000000000000000000000000000000000000000000000000000000"),o.push([g["e"].snxExchanger._address,g["e"].snxExchanger.methods.maxSecsLeftInWaitingPeriod(g["e"].default_account,u).encodeABI()]),c=1),a.next=16,d["clean_and_multi_call"](o);case 16:if(h=a.sent,f=h[1].map((function(e){return g["e"].web3.eth.abi.decodeParameter("uint256",e)})),f.slice(0,f.length-c).forEach((function(e,a){var s=v["g"][g["e"].currentContract],n=t.depositc?s.wrapped_precisions[a]:s.coin_precisions[a],r=b()(e);r=t.depositc?b()(r).times(g["e"].c_rates[a]):b()(r).div(n),("susdv2"==t.currentPool&&3==a||"sbtc"==t.currentPool&&2==a)&&0!=+f[f.length-1]&&(r=b()(0));var i=b()(r).minus(b()(t.inputs[a]));if(!t.inputs[a])return l["a"].set(t.amounts,a,0);b()(r).gt(0)&&i.lt(0)&&b()(i).lt(b()(t.minAmount))?(t.depositc||(e=b()(e).div(n).div(g["e"].c_rates[a])),l["a"].set(t.amounts,a,b()(e).toFixed(0,1))):l["a"].set(t.amounts,a,b()(t.inputs[a]).div(g["e"].c_rates[a]).toFixed(0,1))})),t.amounts=t.amounts.map((function(e){return e||0})),_=+f[f.length-c],t.waitingMessage="Please approve spending your coins",x=t.inputs.filter(Number).length,P=t.inputs.map((function(e,a){if(!e)return 0;var s=v["g"][g["e"].currentContract],n=b()(t.wallet_balances[a]).div(s.coin_precisions[a]).minus(e),r=t.wallet_balances[a];return("susdv2"==t.currentPool&&3==a||"sbtc"==t.currentPool&&2==a)&&(r=t.transferableBalance),("susdv2"==t.currentPool&&3==a||"sbtc"==t.currentPool&&2==a)&&0!=+f[f.length-1]&&(r=0),b()(r).gt(0)&&n.lt(0)&&n.lt(b()(t.minAmount))?b()(r).toFixed(0,1):b()(e).times(g["e"].coin_precisions[a]).toFixed(0,1)})),C=0,!(_>0)){a.next=32;break}return k=t.amounts,a.next=29,g["e"].swap.methods.calc_token_amount(k,!0).call();case 29:C=a.sent,C=b()(C).times(b()(1).minus(b()(t.calcFee))),C=b()(C).times(b()(t.getMaxSlippage)).toFixed(0,1);case 32:if(t.depositc?t.estimateGas=g["f"].deposit[t.currentPool]/2:t.estimateGas=(0|g["f"].depositzap[t.currentPool].deposit(x))/1.5,!t.inf_approval){a.next=38;break}return a.next=36,d["ensure_allowance"](t.amounts,!t.depositc,void 0,void 0,!0);case 36:a.next=45;break;case 38:if(!t.depositc){a.next=43;break}return a.next=41,d["ensure_allowance"](t.amounts,!1);case 41:a.next=45;break;case 43:return a.next=45,d["ensure_allowance"](P,!0);case 45:if(y=0,!t.depositc){a.next=71;break}return t.waitingMessage="Please confirm deposit transaction",S=Object(p["d"])(t.waitingMessage),N=S.dismiss,a.next=51,m["p"](100);case 51:return O=g["e"].swap.methods.add_liquidity(t.amounts,C).send({from:g["e"].default_account,gasPrice:t.gasPriceWei,gas:g["f"].deposit[t.currentPool]}).once("transactionHash",(function(e){N(),Object(p["c"])(e),t.waitingMessage="Waiting for deposit\n                            <a href='http://etherscan.io/tx/".concat(e,"'>transaction</a>\n                            to confirm ").concat(s?"before staking":"no further action required")})),a.prev=52,a.next=55,O;case 55:I=a.sent,a.next=69;break;case 58:if(a.prev=58,a.t0=a["catch"](52),console.error(a.t0),N(),w["a"](a.t0),-32603!=a.t0.code){a.next=69;break}return a.next=66,d["setTimeout"](300);case 66:return a.next=68,O;case 68:I=a.sent;case 69:a.next=93;break;case 71:return A=0|g["f"].depositzap[t.currentPool].deposit(x),console.warn(t.inputs,"inputs",P,"uamounts",t.amounts,"amounts",g["e"].swap._address,"swap address",g["e"].coin_precisions,"coin precisions",g["e"].c_rates,"c rates",g["e"].coins.map((function(e){return e._address})),"coins",g["e"].underlying_coins.map((function(e){return e._address})),"underlying_coins",g["e"].virtual_price,"virtual_price",C,"token_amount",Date.now()),t.waitingMessage="Please confirm deposit transaction",a.next=76,m["p"](100);case 76:return M=g["e"].swap.methods.add_liquidity(P,C).send({from:g["e"].default_account,gasPrice:t.gasPriceWei,gas:A}).once("transactionHash",(function(e){Object(p["c"])(e),t.waitingMessage="Waiting for deposit\n                            <a href='http://etherscan.io/tx/".concat(e,"'>transaction</a>\n                            to confirm ").concat(s?"before staking (1/2)":"no further action required"),console.warn(e,"tx hash")})),a.prev=77,a.next=80,M;case 80:I=a.sent,a.next=93;break;case 83:if(a.prev=83,a.t1=a["catch"](77),console.error(a.t1),w["a"](a.t1),-32603!=a.t1.code){a.next=93;break}return a.next=90,d["setTimeout"](300);case 90:return a.next=92,M;case 92:I=a.sent;case 93:if(t.waitingMessage="",s||(t.show_loading=!1),!s||!["susdv2","sbtc","y","swusd"].includes(t.currentPool)){a.next=119;break}return console.warn(I.events),a.prev=97,y=b()(Object.values(I.events).filter((function(e){return(e.address.toLowerCase()==v["g"].susdv2.token_address.toLowerCase()||e.address.toLowerCase()==v["g"].sbtc.token_address.toLowerCase()||e.address.toLowerCase()==v["g"].swusd.token_address.toLowerCase())&&"0x0000000000000000000000000000000000000000000000000000000000000000"==e.raw.topics[1]&&(e.raw.topics[2].toLowerCase()=="0x000000000000000000000000"+g["e"].default_account.slice(2).toLowerCase()||e.raw.topics[2].toLowerCase()=="0x000000000000000000000000"+v["g"].swusd.deposit_address.slice(2).toLowerCase())}))[0].raw.data),a.next=101,m["p"](100);case 101:return a.next=103,t.stakeTokens(y,!0);case 103:a.next=119;break;case 105:return a.prev=105,a.t2=a["catch"](97),a.prev=107,y=b()(Object.values(I.logs).filter((function(e){return(e.address.toLowerCase()==v["g"].susdv2.token_address.toLowerCase()||e.address.toLowerCase()==v["g"].sbtc.token_address.toLowerCase()||e.address.toLowerCase()==v["g"].swusd.token_address.toLowerCase())&&"0x0000000000000000000000000000000000000000000000000000000000000000"==e.topics[1]&&(e.topics[2].toLowerCase()=="0x000000000000000000000000"+g["e"].default_account.slice(2).toLowerCase()||e.raw.topics[2].toLowerCase()=="0x000000000000000000000000"+v["g"].swusd.deposit_address.slice(2).toLowerCase())}))[0].data),a.next=111,m["p"](100);case 111:return a.next=113,t.stakeTokens(y,!0);case 113:a.next=119;break;case 115:a.prev=115,a.t3=a["catch"](107),console.error(a.t3),t.errorStaking=!0;case 119:return t.estimateGas=0,t.justDeposit=!1,a.next=123,t.handle_sync_balances();case 123:d["update_fee_info"]();case 124:case"end":return a.stop()}}),a,null,[[52,58],[77,83],[97,105],[107,115]])})))()},highlightAllInputs:function(){for(var e=0;e<g["e"].N_COINS;e++)this.highlightInputs(e)},highlightInputs:function(e){var t=this.inputs[e],a=this.wallet_balances[e];("susdv2"==this.currentPool&&3==e||"sbtc"==this.currentPool&&2==e)&&(a=this.transferableBalance),t>a*this.rates[e]?l["a"].set(this.bgColors,e,"red"):l["a"].set(this.bgColors,e,"blue")},getLPCrvReceived:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",e.lpCrvReceived=0);case 4:t.t0=t.sent,t.t1=t.t0/1e18,t.t2=e.getMaxSlippage,e.lpCrvReceived=t.t1*t.t2;case 8:case"end":return t.stop()}}),t)})))()},change_currency:function(e){var t=arguments,a=this;return Object(u["a"])(regeneratorRuntime.mark((function s(){var n,r,i,o,c;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(n=!(t.length>1&&void 0!==t[1])||t[1],r=t.length>2?t[2]:void 0,r&&(a.inputs[e]=r.target.value),i=a.inputs[e],a.highlightInputs(e),a.sync_balances&&!a.max_balances)for(o=0;o<g["e"].N_COINS;o++)o!=e&&(a.inputs[o],a.balances[e]*g["e"].c_rates[e]>1?(c=i/g["e"].c_rates[e]*a.balances[o]/a.balances[e],c=Math.floor(c*g["e"].c_rates[o]*100)/100,n&&l["a"].set(a.inputs,o,c)):(c=i,n&&l["a"].set(a.inputs,o,c)),c>a.wallet_balances[o]*a.rates[o]?l["a"].set(a.bgColors,o,"red"):l["a"].set(a.bgColors,o,"blue"));return s.next=8,a.getLPCrvReceived();case 8:return s.next=10,a.calcSlippage();case 10:case"end":return s.stop()}}),s)})))()},handle_migrate_new:function(){d["handle_migrate_new"]("new")}}}),C=P,k=(a("af79"),a("2877")),I=Object(k["a"])(C,s,n,!1,null,null,null);t["default"]=I.exports},"3bdc":function(e,t,a){function s(e,t,a,s,n,r,i){try{var o=e[r](i),c=o.value}catch(u){return void a(u)}o.done?t(c):Promise.resolve(c).then(s,n)}function n(e){return function(){var t=this,a=arguments;return new Promise((function(n,r){var i=e.apply(t,a);function o(e){s(i,n,r,o,c,"next",e)}function c(e){s(i,n,r,o,c,"throw",e)}o(void 0)}))}}a("d3b7"),e.exports=n},"45fc":function(e,t,a){"use strict";var s=a("23e7"),n=a("b727").some,r=a("a640"),i=a("ae40"),o=r("some"),c=i("some");s({target:"Array",proto:!0,forced:!o||!c},{some:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}})},5199:function(e,t,a){"use strict";var s=a("64ea"),n=a.n(s);n.a},"64ea":function(e,t,a){},a9e3:function(e,t,a){"use strict";var s=a("83ab"),n=a("da84"),r=a("94ca"),i=a("6eeb"),o=a("5135"),c=a("c6b6"),u=a("7156"),l=a("c04e"),p=a("d039"),d=a("7c73"),g=a("241c").f,v=a("06cf").f,m=a("9bf2").f,h=a("58a8").trim,f="Number",w=n[f],_=w.prototype,b=c(d(_))==f,x=function(e){var t,a,s,n,r,i,o,c,u=l(e,!1);if("string"==typeof u&&u.length>2)if(u=h(u),t=u.charCodeAt(0),43===t||45===t){if(a=u.charCodeAt(2),88===a||120===a)return NaN}else if(48===t){switch(u.charCodeAt(1)){case 66:case 98:s=2,n=49;break;case 79:case 111:s=8,n=55;break;default:return+u}for(r=u.slice(2),i=r.length,o=0;o<i;o++)if(c=r.charCodeAt(o),c<48||c>n)return NaN;return parseInt(r,s)}return+u};if(r(f,!w(" 0o1")||!w("0b1")||w("+0x1"))){for(var P,C=function(e){var t=arguments.length<1?0:e,a=this;return a instanceof C&&(b?p((function(){_.valueOf.call(a)})):c(a)!=f)?u(new w(x(t)),a,C):x(t)},k=s?g(w):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),I=0;k.length>I;I++)o(w,P=k[I])&&!o(C,P)&&m(C,P,v(w,P));C.prototype=_,_.constructor=C,i(n,f,C)}},af79:function(e,t,a){"use strict";var s=a("d6e7"),n=a.n(s);n.a},d6e7:function(e,t,a){},e7e9:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("p",{directives:[{name:"show",rawName:"v-show",value:e.errorMessage,expression:"errorMessage"}],staticClass:"simple-error pulse"},[e._v(" "+e._s(e.errorMessage)+" ")]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.gasPriceMedium,expression:"gasPriceMedium"}],staticClass:"do-center",attrs:{id:"gas_price"}},[a("span",{staticStyle:{color:"#86fce7"}},[e._v("Gas price:")]),a("input",{attrs:{id:"gasstandard",type:"radio",name:"gas"},domProps:{value:e.gasPriceMedium},on:{click:function(t){e.customGasDisabled=!0,e.gasPrice=e.gasPriceMedium}}}),a("label",{attrs:{for:"gasstandard"}},[e._v(e._s(Math.round(e.gasPriceMedium))+" Standard")]),a("input",{attrs:{id:"gasfast",type:"radio",name:"gas",checked:""},domProps:{value:e.gasPriceFast},on:{click:function(t){e.customGasDisabled=!0,e.gasPrice=e.gasPriceFast}}}),a("label",{attrs:{for:"gasfast"}},[e._v(e._s(Math.round(e.gasPriceFast))+" Fast")]),a("input",{attrs:{id:"gasinstant",type:"radio",name:"gas"},domProps:{value:e.gasPriceFastest},on:{click:function(t){e.customGasDisabled=!0,e.gasPrice=e.gasPriceFastest}}}),a("label",{attrs:{for:"gasinstant"}},[e._v(e._s(Math.round(e.gasPriceFastest))+" Instant")]),a("input",{attrs:{id:"custom_gas",type:"radio",name:"gas",value:"-"},on:{click:function(t){e.customGasDisabled=!1,e.gasPrice=e.gasPriceSlow}}}),a("label",{attrs:{for:"custom_gas"},on:{click:function(t){e.customGasDisabled=!1,e.gasPrice=e.gasPriceSlow}}},[a("input",{attrs:{type:"text",id:"custom_gas_input",disabled:e.customGasDisabled,name:"custom_gas_input"},domProps:{value:e.customGasPriceInput},on:{input:function(t){return e.setCustomGas(t)}}}),a("span",{directives:[{name:"show",rawName:"v-show",value:e.customGasPriceInput==e.gasPriceSlow,expression:"customGasPriceInput == gasPriceSlow"}]}),a("span",{directives:[{name:"show",rawName:"v-show",value:e.customGasPriceInput&&e.customGasPriceInput<e.gasPriceSlow,expression:"customGasPriceInput && customGasPriceInput < gasPriceSlow"}],staticClass:"gastoolow"},[e._m(0)])])])])},n=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"tooltip"},[e._v(" Low "),a("span",{staticClass:"tooltiptext"},[e._v(" Too low gas price. Your transaction may be dropped. ")])])}],r=(a("b680"),a("d3b7"),a("4795"),a("96cf"),a("1da1")),i=a("0a37"),o=a("0c7c"),c=a("2fa3"),u=a("fe5c"),l=a("901e"),p=a.n(l),d={data:function(){return{customGasDisabled:!0}},computed:{gasPriceSlow:function(){return i["a"].gasPriceInfo&&i["a"].gasPriceInfo.low||15},gasPriceMedium:function(){return i["a"].gasPriceInfo&&i["a"].gasPriceInfo.standard||20},gasPriceFast:function(){return i["a"].gasPriceInfo&&i["a"].gasPriceInfo.fast||25},gasPriceFastest:function(){return i["a"].gasPriceInfo&&i["a"].gasPriceInfo.instant||30},gasPrice:{get:function(){return i["a"].gasPrice},set:function(e){i["a"].gasPrice=e}},customGasPriceInput:function(){return this.customGasDisabled?this.gasPriceSlow:this.gasPrice},errorMessage:function(){return setTimeout((function(){return o["b"].txError=null}),2200),o["b"].txError}},created:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:!i["a"].fetched&&e.getGasPrice(),i["a"].gasPriceInterval&&Object(u["clearIntervalAsync"])(i["a"].gasPriceInterval),i["a"].gasPriceInterval&&!i["a"].gasPriceInterval.stopped||(i["a"].gasPriceInterval=Object(u["setIntervalAsync"])((function(){return e.getGasPrice()}),3e3)),e.$watch((function(){return i["a"].gasPrice}),(function(e){i["a"].gasPriceWei=p()(e).times(1e9).toFixed(0,1)}),{immediate:!0});case 4:case"end":return t.stop()}}),t)})))()},methods:{getGasPrice:function(){return Object(r["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(c["o"])(fetch("https://gasprice.poa.network/"));case 3:return t=e.sent,e.next=6,t.json();case 6:if(t=e.sent,i["a"].gasPriceInfo=t,i["a"].gasPriceInfo.low=i["a"].gasPriceInfo.slow,!(i["a"].gasPriceInfo.fast>1e3)){e.next=11;break}throw new Error("too high!");case 11:e.next=21;break;case 13:return e.prev=13,e.t0=e["catch"](0),console.error(e.t0),e.next=18,web3.eth.getGasPrice();case 18:e.t1=e.sent,a=e.t1/1e9,i["a"].gasPriceInfo={low:a-2,standard:a,fast:a+2,instant:a+4};case 21:i["a"].fetched||(i["a"].gasPrice=i["a"].gasPriceInfo.fast,i["a"].fetched=!0);case 22:case"end":return e.stop()}}),e,null,[[0,13]])})))()},setCustomGas:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:s=e.target.value,e.target.value>2*t.gasPriceFastest&&(s=2*t.gasPriceFastest),t.gasPrice=s;case 3:case"end":return a.stop()}}),a)})))()}}},g=d,v=(a("5199"),a("2877")),m=Object(v["a"])(g,s,n,!1,null,"11f75e20",null);t["a"]=m.exports},fe5c:function(e,t,a){"use strict";a.r(t),a.d(t,"SetIntervalAsyncError",(function(){return o})),a.d(t,"clearIntervalAsync",(function(){return r})),a.d(t,"setIntervalAsync",(function(){return d}));var s=a("3bdc");const n=Math.pow(2,31)-1;function r(e){return i.apply(this,arguments)}function i(){return i=s((function*(e){e.stopped=!0;for(var t=0,a=Object.values(e.timeouts);t<a.length;t++){const e=a[t];clearTimeout(e)}const s=()=>{},r=Object.values(e.promises).map(e=>{e.catch(s)}),i=setInterval(s,n);yield Promise.all(r),clearInterval(i)})),i.apply(this,arguments)}class o extends Error{}Object.defineProperty(o.prototype,"name",{value:"SetIntervalAsyncError"});const c=10;function u(e){if("function"!==typeof e)throw new o('Invalid argument: "handler". Expected a function.')}function l(e){if(!("number"===typeof e&&c<=e))throw new o(`Invalid argument: "interval". Expected a number greater than or equal to ${c}.`)}class p{constructor(){this.stopped=!1,this.id=0,this.timeouts={},this.promises={}}}function d(e,t,...a){u(e),l(t);const s=new p,n=s.id;return s.timeouts[n]=setTimeout(g,t,s,e,t,...a),s}function g(e,t,a,...n){const r=e.id;e.promises[r]=s((function*(){const s=new Date;try{yield t(...n)}catch(o){console.error(o)}const i=new Date;if(!e.stopped){const o=i-s,c=a>o?a-o:0;e.timeouts[r+1]=setTimeout(g,c,e,t,a,...n)}delete e.timeouts[r],delete e.promises[r]}))(),e.id=r+1}}}]);
//# sourceMappingURL=chunk-d259700c.ffe6075a.js.map