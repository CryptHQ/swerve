(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-10e7db40"],{"69d5":function(module,exports,__webpack_require__){"use strict";eval("// Copyright 2014 Google Inc. All rights reserved\n//\n// Use of this source code is governed by a BSD-style\n// license that can be found in the LICENSE file or at\n// https://developers.google.com/open-source/licenses/bsd\n\n/**\n * @fileoverview The U2F api.\n */\n\n\n\n/** Namespace for the U2F api.\n * @type {Object}\n */\nvar u2f = u2f || {};\n\nmodule.exports = u2f; // Adaptation for u2f-api package\n\n/**\n * The U2F extension id\n * @type {string}\n * @const\n */\nu2f.EXTENSION_ID = 'kmendfapggjehodndflmmgagdbamhnfd';\n\n/**\n * Message types for messsages to/from the extension\n * @const\n * @enum {string}\n */\nu2f.MessageTypes = {\n  'U2F_REGISTER_REQUEST': 'u2f_register_request',\n  'U2F_SIGN_REQUEST': 'u2f_sign_request',\n  'U2F_REGISTER_RESPONSE': 'u2f_register_response',\n  'U2F_SIGN_RESPONSE': 'u2f_sign_response'\n};\n\n/**\n * Response status codes\n * @const\n * @enum {number}\n */\nu2f.ErrorCodes = {\n  'OK': 0,\n  'OTHER_ERROR': 1,\n  'BAD_REQUEST': 2,\n  'CONFIGURATION_UNSUPPORTED': 3,\n  'DEVICE_INELIGIBLE': 4,\n  'TIMEOUT': 5\n};\n\n/**\n * A message type for registration requests\n * @typedef {{\n *   type: u2f.MessageTypes,\n *   signRequests: Array.<u2f.SignRequest>,\n *   registerRequests: ?Array.<u2f.RegisterRequest>,\n *   timeoutSeconds: ?number,\n *   requestId: ?number\n * }}\n */\nu2f.Request;\n\n/**\n * A message for registration responses\n * @typedef {{\n *   type: u2f.MessageTypes,\n *   responseData: (u2f.Error | u2f.RegisterResponse | u2f.SignResponse),\n *   requestId: ?number\n * }}\n */\nu2f.Response;\n\n/**\n * An error object for responses\n * @typedef {{\n *   errorCode: u2f.ErrorCodes,\n *   errorMessage: ?string\n * }}\n */\nu2f.Error;\n\n/**\n * Data object for a single sign request.\n * @typedef {{\n *   version: string,\n *   challenge: string,\n *   keyHandle: string,\n *   appId: string\n * }}\n */\nu2f.SignRequest;\n\n/**\n * Data object for a sign response.\n * @typedef {{\n *   keyHandle: string,\n *   signatureData: string,\n *   clientData: string\n * }}\n */\nu2f.SignResponse;\n\n/**\n * Data object for a registration request.\n * @typedef {{\n *   version: string,\n *   challenge: string,\n *   appId: string\n * }}\n */\nu2f.RegisterRequest;\n\n/**\n * Data object for a registration response.\n * @typedef {{\n *   registrationData: string,\n *   clientData: string\n * }}\n */\nu2f.RegisterResponse;\n\n\n// Low level MessagePort API support\n\n/**\n * Call MessagePort disconnect\n */\nu2f.disconnect = function() {\n  if (u2f.port_ && u2f.port_.port_) {\n    u2f.port_.port_.disconnect();\n    u2f.port_ = null;\n  }\n};\n\n/**\n * Sets up a MessagePort to the U2F extension using the\n * available mechanisms.\n * @param {function((MessagePort|u2f.WrappedChromeRuntimePort_))} callback\n */\nu2f.getMessagePort = function(callback) {\n  if (typeof chrome != 'undefined' && chrome.runtime) {\n    // The actual message here does not matter, but we need to get a reply\n    // for the callback to run. Thus, send an empty signature request\n    // in order to get a failure response.\n    var msg = {\n      type: u2f.MessageTypes.U2F_SIGN_REQUEST,\n      signRequests: []\n    };\n    chrome.runtime.sendMessage(u2f.EXTENSION_ID, msg, function() {\n      if (!chrome.runtime.lastError) {\n        // We are on a whitelisted origin and can talk directly\n        // with the extension.\n        u2f.getChromeRuntimePort_(callback);\n      } else {\n        // chrome.runtime was available, but we couldn't message\n        // the extension directly, use iframe\n        u2f.getIframePort_(callback);\n      }\n    });\n  } else {\n    // chrome.runtime was not available at all, which is normal\n    // when this origin doesn't have access to any extensions.\n    u2f.getIframePort_(callback);\n  }\n};\n\n/**\n * Connects directly to the extension via chrome.runtime.connect\n * @param {function(u2f.WrappedChromeRuntimePort_)} callback\n * @private\n */\nu2f.getChromeRuntimePort_ = function(callback) {\n  var port = chrome.runtime.connect(u2f.EXTENSION_ID,\n    {'includeTlsChannelId': true});\n  setTimeout(function() {\n    callback(null, new u2f.WrappedChromeRuntimePort_(port));\n  }, 0);\n};\n\n/**\n * A wrapper for chrome.runtime.Port that is compatible with MessagePort.\n * @param {Port} port\n * @constructor\n * @private\n */\nu2f.WrappedChromeRuntimePort_ = function(port) {\n  this.port_ = port;\n};\n\n/**\n * Posts a message on the underlying channel.\n * @param {Object} message\n */\nu2f.WrappedChromeRuntimePort_.prototype.postMessage = function(message) {\n  this.port_.postMessage(message);\n};\n\n/**\n * Emulates the HTML 5 addEventListener interface. Works only for the\n * onmessage event, which is hooked up to the chrome.runtime.Port.onMessage.\n * @param {string} eventName\n * @param {function({data: Object})} handler\n */\nu2f.WrappedChromeRuntimePort_.prototype.addEventListener =\n    function(eventName, handler) {\n  var name = eventName.toLowerCase();\n  if (name == 'message' || name == 'onmessage') {\n    this.port_.onMessage.addListener(function(message) {\n      // Emulate a minimal MessageEvent object\n      handler({'data': message});\n    });\n  } else {\n    console.error('WrappedChromeRuntimePort only supports onMessage');\n  }\n};\n\n/**\n * Sets up an embedded trampoline iframe, sourced from the extension.\n * @param {function(MessagePort)} callback\n * @private\n */\nu2f.getIframePort_ = function(callback) {\n  // Create the iframe\n  var iframeOrigin = 'chrome-extension://' + u2f.EXTENSION_ID;\n  var iframe = document.createElement('iframe');\n  iframe.src = iframeOrigin + '/u2f-comms.html';\n  iframe.setAttribute('style', 'display:none');\n  document.body.appendChild(iframe);\n\n  var hasCalledBack = false;\n\n  var channel = new MessageChannel();\n  var ready = function(message) {\n    if (message.data == 'ready') {\n      channel.port1.removeEventListener('message', ready);\n      if (!hasCalledBack)\n      {\n        hasCalledBack = true;\n        callback(null, channel.port1);\n      }\n    } else {\n      console.error('First event on iframe port was not \"ready\"');\n    }\n  };\n  channel.port1.addEventListener('message', ready);\n  channel.port1.start();\n\n  iframe.addEventListener('load', function() {\n    // Deliver the port to the iframe and initialize\n    iframe.contentWindow.postMessage('init', iframeOrigin, [channel.port2]);\n  });\n\n  // Give this 200ms to initialize, after that, we treat this method as failed\n  setTimeout(function() {\n    if (!hasCalledBack)\n    {\n      hasCalledBack = true;\n      callback(new Error(\"IFrame extension not supported\"));\n    }\n  }, 200);\n};\n\n\n// High-level JS API\n\n/**\n * Default extension response timeout in seconds.\n * @const\n */\nu2f.EXTENSION_TIMEOUT_SEC = 30;\n\n/**\n * A singleton instance for a MessagePort to the extension.\n * @type {MessagePort|u2f.WrappedChromeRuntimePort_}\n * @private\n */\nu2f.port_ = null;\n\n/**\n * Callbacks waiting for a port\n * @type {Array.<function((MessagePort|u2f.WrappedChromeRuntimePort_))>}\n * @private\n */\nu2f.waitingForPort_ = [];\n\n/**\n * A counter for requestIds.\n * @type {number}\n * @private\n */\nu2f.reqCounter_ = 0;\n\n/**\n * A map from requestIds to client callbacks\n * @type {Object.<number,(function((u2f.Error|u2f.RegisterResponse))\n *                       |function((u2f.Error|u2f.SignResponse)))>}\n * @private\n */\nu2f.callbackMap_ = {};\n\n/**\n * Creates or retrieves the MessagePort singleton to use.\n * @param {function((MessagePort|u2f.WrappedChromeRuntimePort_))} callback\n * @private\n */\nu2f.getPortSingleton_ = function(callback) {\n  if (u2f.port_) {\n    callback(null, u2f.port_);\n  } else {\n    if (u2f.waitingForPort_.length == 0) {\n      u2f.getMessagePort(function(err, port) {\n        if (!err) {\n          u2f.port_ = port;\n          u2f.port_.addEventListener('message',\n            /** @type {function(Event)} */ (u2f.responseHandler_));\n        }\n\n        // Careful, here be async callbacks. Maybe.\n        while (u2f.waitingForPort_.length)\n          u2f.waitingForPort_.shift()(err, port);\n      });\n    }\n    u2f.waitingForPort_.push(callback);\n  }\n};\n\n/**\n * Handles response messages from the extension.\n * @param {MessageEvent.<u2f.Response>} message\n * @private\n */\nu2f.responseHandler_ = function(message) {\n  var response = message.data;\n  var reqId = response['requestId'];\n  if (!reqId || !u2f.callbackMap_[reqId]) {\n    console.error('Unknown or missing requestId in response.');\n    return;\n  }\n  var cb = u2f.callbackMap_[reqId];\n  delete u2f.callbackMap_[reqId];\n  cb(null, response['responseData']);\n};\n\n/**\n * Calls the callback with true or false as first and only argument\n * @param {Function} callback\n */\nu2f.isSupported = function(callback) {\n  u2f.getPortSingleton_(function(err, port) {\n    callback(!err);\n  });\n}\n\n/**\n * Dispatches an array of sign requests to available U2F tokens.\n * @param {Array.<u2f.SignRequest>} signRequests\n * @param {function((u2f.Error|u2f.SignResponse))} callback\n * @param {number=} opt_timeoutSeconds\n */\nu2f.sign = function(signRequests, callback, opt_timeoutSeconds) {\n  u2f.getPortSingleton_(function(err, port) {\n    if (err)\n      return callback(err);\n\n    var reqId = ++u2f.reqCounter_;\n    u2f.callbackMap_[reqId] = callback;\n    var req = {\n      type: u2f.MessageTypes.U2F_SIGN_REQUEST,\n      signRequests: signRequests,\n      timeoutSeconds: (typeof opt_timeoutSeconds !== 'undefined' ?\n        opt_timeoutSeconds : u2f.EXTENSION_TIMEOUT_SEC),\n      requestId: reqId\n    };\n    port.postMessage(req);\n  });\n};\n\n/**\n * Dispatches register requests to available U2F tokens. An array of sign\n * requests identifies already registered tokens.\n * @param {Array.<u2f.RegisterRequest>} registerRequests\n * @param {Array.<u2f.SignRequest>} signRequests\n * @param {function((u2f.Error|u2f.RegisterResponse))} callback\n * @param {number=} opt_timeoutSeconds\n */\nu2f.register = function(registerRequests, signRequests,\n    callback, opt_timeoutSeconds) {\n  u2f.getPortSingleton_(function(err, port) {\n    if (err)\n      return callback(err);\n\n    var reqId = ++u2f.reqCounter_;\n    u2f.callbackMap_[reqId] = callback;\n    var req = {\n      type: u2f.MessageTypes.U2F_REGISTER_REQUEST,\n      signRequests: signRequests,\n      registerRequests: registerRequests,\n      timeoutSeconds: (typeof opt_timeoutSeconds !== 'undefined' ?\n        opt_timeoutSeconds : u2f.EXTENSION_TIMEOUT_SEC),\n      requestId: reqId\n    };\n    port.postMessage(req);\n  });\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdTJmLWFwaS9saWIvZ29vZ2xlLXUyZi1hcGkuanM/NjlkNSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFYTs7QUFFYjtBQUNBLFVBQVU7QUFDVjtBQUNBOztBQUVBLHFCQUFxQjs7QUFFckI7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLHNEQUFzRDtBQUNqRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFdBQVcsd0NBQXdDO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSyw0QkFBNEI7QUFDakM7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0EsV0FBVyxLQUFLO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixXQUFXLFVBQVUsYUFBYSxFQUFFO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxnQkFBZ0I7QUFDL0IsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFdBQVcsc0JBQXNCO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOzs7QUFHQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFdBQVcsc0RBQXNEO0FBQ2pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixnQkFBZ0I7QUFDdkM7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxXQUFXLDRCQUE0QjtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsV0FBVyxTQUFTO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQSxXQUFXLHdCQUF3QjtBQUNuQyxXQUFXLHVDQUF1QztBQUNsRCxXQUFXLFFBQVE7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLDRCQUE0QjtBQUN2QyxXQUFXLHdCQUF3QjtBQUNuQyxXQUFXLDJDQUEyQztBQUN0RCxXQUFXLFFBQVE7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0giLCJmaWxlIjoiNjlkNS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCAyMDE0IEdvb2dsZSBJbmMuIEFsbCByaWdodHMgcmVzZXJ2ZWRcbi8vXG4vLyBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhIEJTRC1zdHlsZVxuLy8gbGljZW5zZSB0aGF0IGNhbiBiZSBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIG9yIGF0XG4vLyBodHRwczovL2RldmVsb3BlcnMuZ29vZ2xlLmNvbS9vcGVuLXNvdXJjZS9saWNlbnNlcy9ic2RcblxuLyoqXG4gKiBAZmlsZW92ZXJ2aWV3IFRoZSBVMkYgYXBpLlxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuLyoqIE5hbWVzcGFjZSBmb3IgdGhlIFUyRiBhcGkuXG4gKiBAdHlwZSB7T2JqZWN0fVxuICovXG52YXIgdTJmID0gdTJmIHx8IHt9O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHUyZjsgLy8gQWRhcHRhdGlvbiBmb3IgdTJmLWFwaSBwYWNrYWdlXG5cbi8qKlxuICogVGhlIFUyRiBleHRlbnNpb24gaWRcbiAqIEB0eXBlIHtzdHJpbmd9XG4gKiBAY29uc3RcbiAqL1xudTJmLkVYVEVOU0lPTl9JRCA9ICdrbWVuZGZhcGdnamVob2RuZGZsbW1nYWdkYmFtaG5mZCc7XG5cbi8qKlxuICogTWVzc2FnZSB0eXBlcyBmb3IgbWVzc3NhZ2VzIHRvL2Zyb20gdGhlIGV4dGVuc2lvblxuICogQGNvbnN0XG4gKiBAZW51bSB7c3RyaW5nfVxuICovXG51MmYuTWVzc2FnZVR5cGVzID0ge1xuICAnVTJGX1JFR0lTVEVSX1JFUVVFU1QnOiAndTJmX3JlZ2lzdGVyX3JlcXVlc3QnLFxuICAnVTJGX1NJR05fUkVRVUVTVCc6ICd1MmZfc2lnbl9yZXF1ZXN0JyxcbiAgJ1UyRl9SRUdJU1RFUl9SRVNQT05TRSc6ICd1MmZfcmVnaXN0ZXJfcmVzcG9uc2UnLFxuICAnVTJGX1NJR05fUkVTUE9OU0UnOiAndTJmX3NpZ25fcmVzcG9uc2UnXG59O1xuXG4vKipcbiAqIFJlc3BvbnNlIHN0YXR1cyBjb2Rlc1xuICogQGNvbnN0XG4gKiBAZW51bSB7bnVtYmVyfVxuICovXG51MmYuRXJyb3JDb2RlcyA9IHtcbiAgJ09LJzogMCxcbiAgJ09USEVSX0VSUk9SJzogMSxcbiAgJ0JBRF9SRVFVRVNUJzogMixcbiAgJ0NPTkZJR1VSQVRJT05fVU5TVVBQT1JURUQnOiAzLFxuICAnREVWSUNFX0lORUxJR0lCTEUnOiA0LFxuICAnVElNRU9VVCc6IDVcbn07XG5cbi8qKlxuICogQSBtZXNzYWdlIHR5cGUgZm9yIHJlZ2lzdHJhdGlvbiByZXF1ZXN0c1xuICogQHR5cGVkZWYge3tcbiAqICAgdHlwZTogdTJmLk1lc3NhZ2VUeXBlcyxcbiAqICAgc2lnblJlcXVlc3RzOiBBcnJheS48dTJmLlNpZ25SZXF1ZXN0PixcbiAqICAgcmVnaXN0ZXJSZXF1ZXN0czogP0FycmF5Ljx1MmYuUmVnaXN0ZXJSZXF1ZXN0PixcbiAqICAgdGltZW91dFNlY29uZHM6ID9udW1iZXIsXG4gKiAgIHJlcXVlc3RJZDogP251bWJlclxuICogfX1cbiAqL1xudTJmLlJlcXVlc3Q7XG5cbi8qKlxuICogQSBtZXNzYWdlIGZvciByZWdpc3RyYXRpb24gcmVzcG9uc2VzXG4gKiBAdHlwZWRlZiB7e1xuICogICB0eXBlOiB1MmYuTWVzc2FnZVR5cGVzLFxuICogICByZXNwb25zZURhdGE6ICh1MmYuRXJyb3IgfCB1MmYuUmVnaXN0ZXJSZXNwb25zZSB8IHUyZi5TaWduUmVzcG9uc2UpLFxuICogICByZXF1ZXN0SWQ6ID9udW1iZXJcbiAqIH19XG4gKi9cbnUyZi5SZXNwb25zZTtcblxuLyoqXG4gKiBBbiBlcnJvciBvYmplY3QgZm9yIHJlc3BvbnNlc1xuICogQHR5cGVkZWYge3tcbiAqICAgZXJyb3JDb2RlOiB1MmYuRXJyb3JDb2RlcyxcbiAqICAgZXJyb3JNZXNzYWdlOiA/c3RyaW5nXG4gKiB9fVxuICovXG51MmYuRXJyb3I7XG5cbi8qKlxuICogRGF0YSBvYmplY3QgZm9yIGEgc2luZ2xlIHNpZ24gcmVxdWVzdC5cbiAqIEB0eXBlZGVmIHt7XG4gKiAgIHZlcnNpb246IHN0cmluZyxcbiAqICAgY2hhbGxlbmdlOiBzdHJpbmcsXG4gKiAgIGtleUhhbmRsZTogc3RyaW5nLFxuICogICBhcHBJZDogc3RyaW5nXG4gKiB9fVxuICovXG51MmYuU2lnblJlcXVlc3Q7XG5cbi8qKlxuICogRGF0YSBvYmplY3QgZm9yIGEgc2lnbiByZXNwb25zZS5cbiAqIEB0eXBlZGVmIHt7XG4gKiAgIGtleUhhbmRsZTogc3RyaW5nLFxuICogICBzaWduYXR1cmVEYXRhOiBzdHJpbmcsXG4gKiAgIGNsaWVudERhdGE6IHN0cmluZ1xuICogfX1cbiAqL1xudTJmLlNpZ25SZXNwb25zZTtcblxuLyoqXG4gKiBEYXRhIG9iamVjdCBmb3IgYSByZWdpc3RyYXRpb24gcmVxdWVzdC5cbiAqIEB0eXBlZGVmIHt7XG4gKiAgIHZlcnNpb246IHN0cmluZyxcbiAqICAgY2hhbGxlbmdlOiBzdHJpbmcsXG4gKiAgIGFwcElkOiBzdHJpbmdcbiAqIH19XG4gKi9cbnUyZi5SZWdpc3RlclJlcXVlc3Q7XG5cbi8qKlxuICogRGF0YSBvYmplY3QgZm9yIGEgcmVnaXN0cmF0aW9uIHJlc3BvbnNlLlxuICogQHR5cGVkZWYge3tcbiAqICAgcmVnaXN0cmF0aW9uRGF0YTogc3RyaW5nLFxuICogICBjbGllbnREYXRhOiBzdHJpbmdcbiAqIH19XG4gKi9cbnUyZi5SZWdpc3RlclJlc3BvbnNlO1xuXG5cbi8vIExvdyBsZXZlbCBNZXNzYWdlUG9ydCBBUEkgc3VwcG9ydFxuXG4vKipcbiAqIENhbGwgTWVzc2FnZVBvcnQgZGlzY29ubmVjdFxuICovXG51MmYuZGlzY29ubmVjdCA9IGZ1bmN0aW9uKCkge1xuICBpZiAodTJmLnBvcnRfICYmIHUyZi5wb3J0Xy5wb3J0Xykge1xuICAgIHUyZi5wb3J0Xy5wb3J0Xy5kaXNjb25uZWN0KCk7XG4gICAgdTJmLnBvcnRfID0gbnVsbDtcbiAgfVxufTtcblxuLyoqXG4gKiBTZXRzIHVwIGEgTWVzc2FnZVBvcnQgdG8gdGhlIFUyRiBleHRlbnNpb24gdXNpbmcgdGhlXG4gKiBhdmFpbGFibGUgbWVjaGFuaXNtcy5cbiAqIEBwYXJhbSB7ZnVuY3Rpb24oKE1lc3NhZ2VQb3J0fHUyZi5XcmFwcGVkQ2hyb21lUnVudGltZVBvcnRfKSl9IGNhbGxiYWNrXG4gKi9cbnUyZi5nZXRNZXNzYWdlUG9ydCA9IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gIGlmICh0eXBlb2YgY2hyb21lICE9ICd1bmRlZmluZWQnICYmIGNocm9tZS5ydW50aW1lKSB7XG4gICAgLy8gVGhlIGFjdHVhbCBtZXNzYWdlIGhlcmUgZG9lcyBub3QgbWF0dGVyLCBidXQgd2UgbmVlZCB0byBnZXQgYSByZXBseVxuICAgIC8vIGZvciB0aGUgY2FsbGJhY2sgdG8gcnVuLiBUaHVzLCBzZW5kIGFuIGVtcHR5IHNpZ25hdHVyZSByZXF1ZXN0XG4gICAgLy8gaW4gb3JkZXIgdG8gZ2V0IGEgZmFpbHVyZSByZXNwb25zZS5cbiAgICB2YXIgbXNnID0ge1xuICAgICAgdHlwZTogdTJmLk1lc3NhZ2VUeXBlcy5VMkZfU0lHTl9SRVFVRVNULFxuICAgICAgc2lnblJlcXVlc3RzOiBbXVxuICAgIH07XG4gICAgY2hyb21lLnJ1bnRpbWUuc2VuZE1lc3NhZ2UodTJmLkVYVEVOU0lPTl9JRCwgbXNnLCBmdW5jdGlvbigpIHtcbiAgICAgIGlmICghY2hyb21lLnJ1bnRpbWUubGFzdEVycm9yKSB7XG4gICAgICAgIC8vIFdlIGFyZSBvbiBhIHdoaXRlbGlzdGVkIG9yaWdpbiBhbmQgY2FuIHRhbGsgZGlyZWN0bHlcbiAgICAgICAgLy8gd2l0aCB0aGUgZXh0ZW5zaW9uLlxuICAgICAgICB1MmYuZ2V0Q2hyb21lUnVudGltZVBvcnRfKGNhbGxiYWNrKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGNocm9tZS5ydW50aW1lIHdhcyBhdmFpbGFibGUsIGJ1dCB3ZSBjb3VsZG4ndCBtZXNzYWdlXG4gICAgICAgIC8vIHRoZSBleHRlbnNpb24gZGlyZWN0bHksIHVzZSBpZnJhbWVcbiAgICAgICAgdTJmLmdldElmcmFtZVBvcnRfKGNhbGxiYWNrKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICAvLyBjaHJvbWUucnVudGltZSB3YXMgbm90IGF2YWlsYWJsZSBhdCBhbGwsIHdoaWNoIGlzIG5vcm1hbFxuICAgIC8vIHdoZW4gdGhpcyBvcmlnaW4gZG9lc24ndCBoYXZlIGFjY2VzcyB0byBhbnkgZXh0ZW5zaW9ucy5cbiAgICB1MmYuZ2V0SWZyYW1lUG9ydF8oY2FsbGJhY2spO1xuICB9XG59O1xuXG4vKipcbiAqIENvbm5lY3RzIGRpcmVjdGx5IHRvIHRoZSBleHRlbnNpb24gdmlhIGNocm9tZS5ydW50aW1lLmNvbm5lY3RcbiAqIEBwYXJhbSB7ZnVuY3Rpb24odTJmLldyYXBwZWRDaHJvbWVSdW50aW1lUG9ydF8pfSBjYWxsYmFja1xuICogQHByaXZhdGVcbiAqL1xudTJmLmdldENocm9tZVJ1bnRpbWVQb3J0XyA9IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gIHZhciBwb3J0ID0gY2hyb21lLnJ1bnRpbWUuY29ubmVjdCh1MmYuRVhURU5TSU9OX0lELFxuICAgIHsnaW5jbHVkZVRsc0NoYW5uZWxJZCc6IHRydWV9KTtcbiAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICBjYWxsYmFjayhudWxsLCBuZXcgdTJmLldyYXBwZWRDaHJvbWVSdW50aW1lUG9ydF8ocG9ydCkpO1xuICB9LCAwKTtcbn07XG5cbi8qKlxuICogQSB3cmFwcGVyIGZvciBjaHJvbWUucnVudGltZS5Qb3J0IHRoYXQgaXMgY29tcGF0aWJsZSB3aXRoIE1lc3NhZ2VQb3J0LlxuICogQHBhcmFtIHtQb3J0fSBwb3J0XG4gKiBAY29uc3RydWN0b3JcbiAqIEBwcml2YXRlXG4gKi9cbnUyZi5XcmFwcGVkQ2hyb21lUnVudGltZVBvcnRfID0gZnVuY3Rpb24ocG9ydCkge1xuICB0aGlzLnBvcnRfID0gcG9ydDtcbn07XG5cbi8qKlxuICogUG9zdHMgYSBtZXNzYWdlIG9uIHRoZSB1bmRlcmx5aW5nIGNoYW5uZWwuXG4gKiBAcGFyYW0ge09iamVjdH0gbWVzc2FnZVxuICovXG51MmYuV3JhcHBlZENocm9tZVJ1bnRpbWVQb3J0Xy5wcm90b3R5cGUucG9zdE1lc3NhZ2UgPSBmdW5jdGlvbihtZXNzYWdlKSB7XG4gIHRoaXMucG9ydF8ucG9zdE1lc3NhZ2UobWVzc2FnZSk7XG59O1xuXG4vKipcbiAqIEVtdWxhdGVzIHRoZSBIVE1MIDUgYWRkRXZlbnRMaXN0ZW5lciBpbnRlcmZhY2UuIFdvcmtzIG9ubHkgZm9yIHRoZVxuICogb25tZXNzYWdlIGV2ZW50LCB3aGljaCBpcyBob29rZWQgdXAgdG8gdGhlIGNocm9tZS5ydW50aW1lLlBvcnQub25NZXNzYWdlLlxuICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50TmFtZVxuICogQHBhcmFtIHtmdW5jdGlvbih7ZGF0YTogT2JqZWN0fSl9IGhhbmRsZXJcbiAqL1xudTJmLldyYXBwZWRDaHJvbWVSdW50aW1lUG9ydF8ucHJvdG90eXBlLmFkZEV2ZW50TGlzdGVuZXIgPVxuICAgIGZ1bmN0aW9uKGV2ZW50TmFtZSwgaGFuZGxlcikge1xuICB2YXIgbmFtZSA9IGV2ZW50TmFtZS50b0xvd2VyQ2FzZSgpO1xuICBpZiAobmFtZSA9PSAnbWVzc2FnZScgfHwgbmFtZSA9PSAnb25tZXNzYWdlJykge1xuICAgIHRoaXMucG9ydF8ub25NZXNzYWdlLmFkZExpc3RlbmVyKGZ1bmN0aW9uKG1lc3NhZ2UpIHtcbiAgICAgIC8vIEVtdWxhdGUgYSBtaW5pbWFsIE1lc3NhZ2VFdmVudCBvYmplY3RcbiAgICAgIGhhbmRsZXIoeydkYXRhJzogbWVzc2FnZX0pO1xuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIGNvbnNvbGUuZXJyb3IoJ1dyYXBwZWRDaHJvbWVSdW50aW1lUG9ydCBvbmx5IHN1cHBvcnRzIG9uTWVzc2FnZScpO1xuICB9XG59O1xuXG4vKipcbiAqIFNldHMgdXAgYW4gZW1iZWRkZWQgdHJhbXBvbGluZSBpZnJhbWUsIHNvdXJjZWQgZnJvbSB0aGUgZXh0ZW5zaW9uLlxuICogQHBhcmFtIHtmdW5jdGlvbihNZXNzYWdlUG9ydCl9IGNhbGxiYWNrXG4gKiBAcHJpdmF0ZVxuICovXG51MmYuZ2V0SWZyYW1lUG9ydF8gPSBmdW5jdGlvbihjYWxsYmFjaykge1xuICAvLyBDcmVhdGUgdGhlIGlmcmFtZVxuICB2YXIgaWZyYW1lT3JpZ2luID0gJ2Nocm9tZS1leHRlbnNpb246Ly8nICsgdTJmLkVYVEVOU0lPTl9JRDtcbiAgdmFyIGlmcmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lmcmFtZScpO1xuICBpZnJhbWUuc3JjID0gaWZyYW1lT3JpZ2luICsgJy91MmYtY29tbXMuaHRtbCc7XG4gIGlmcmFtZS5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgJ2Rpc3BsYXk6bm9uZScpO1xuICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGlmcmFtZSk7XG5cbiAgdmFyIGhhc0NhbGxlZEJhY2sgPSBmYWxzZTtcblxuICB2YXIgY2hhbm5lbCA9IG5ldyBNZXNzYWdlQ2hhbm5lbCgpO1xuICB2YXIgcmVhZHkgPSBmdW5jdGlvbihtZXNzYWdlKSB7XG4gICAgaWYgKG1lc3NhZ2UuZGF0YSA9PSAncmVhZHknKSB7XG4gICAgICBjaGFubmVsLnBvcnQxLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCByZWFkeSk7XG4gICAgICBpZiAoIWhhc0NhbGxlZEJhY2spXG4gICAgICB7XG4gICAgICAgIGhhc0NhbGxlZEJhY2sgPSB0cnVlO1xuICAgICAgICBjYWxsYmFjayhudWxsLCBjaGFubmVsLnBvcnQxKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS5lcnJvcignRmlyc3QgZXZlbnQgb24gaWZyYW1lIHBvcnQgd2FzIG5vdCBcInJlYWR5XCInKTtcbiAgICB9XG4gIH07XG4gIGNoYW5uZWwucG9ydDEuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIHJlYWR5KTtcbiAgY2hhbm5lbC5wb3J0MS5zdGFydCgpO1xuXG4gIGlmcmFtZS5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgZnVuY3Rpb24oKSB7XG4gICAgLy8gRGVsaXZlciB0aGUgcG9ydCB0byB0aGUgaWZyYW1lIGFuZCBpbml0aWFsaXplXG4gICAgaWZyYW1lLmNvbnRlbnRXaW5kb3cucG9zdE1lc3NhZ2UoJ2luaXQnLCBpZnJhbWVPcmlnaW4sIFtjaGFubmVsLnBvcnQyXSk7XG4gIH0pO1xuXG4gIC8vIEdpdmUgdGhpcyAyMDBtcyB0byBpbml0aWFsaXplLCBhZnRlciB0aGF0LCB3ZSB0cmVhdCB0aGlzIG1ldGhvZCBhcyBmYWlsZWRcbiAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICBpZiAoIWhhc0NhbGxlZEJhY2spXG4gICAge1xuICAgICAgaGFzQ2FsbGVkQmFjayA9IHRydWU7XG4gICAgICBjYWxsYmFjayhuZXcgRXJyb3IoXCJJRnJhbWUgZXh0ZW5zaW9uIG5vdCBzdXBwb3J0ZWRcIikpO1xuICAgIH1cbiAgfSwgMjAwKTtcbn07XG5cblxuLy8gSGlnaC1sZXZlbCBKUyBBUElcblxuLyoqXG4gKiBEZWZhdWx0IGV4dGVuc2lvbiByZXNwb25zZSB0aW1lb3V0IGluIHNlY29uZHMuXG4gKiBAY29uc3RcbiAqL1xudTJmLkVYVEVOU0lPTl9USU1FT1VUX1NFQyA9IDMwO1xuXG4vKipcbiAqIEEgc2luZ2xldG9uIGluc3RhbmNlIGZvciBhIE1lc3NhZ2VQb3J0IHRvIHRoZSBleHRlbnNpb24uXG4gKiBAdHlwZSB7TWVzc2FnZVBvcnR8dTJmLldyYXBwZWRDaHJvbWVSdW50aW1lUG9ydF99XG4gKiBAcHJpdmF0ZVxuICovXG51MmYucG9ydF8gPSBudWxsO1xuXG4vKipcbiAqIENhbGxiYWNrcyB3YWl0aW5nIGZvciBhIHBvcnRcbiAqIEB0eXBlIHtBcnJheS48ZnVuY3Rpb24oKE1lc3NhZ2VQb3J0fHUyZi5XcmFwcGVkQ2hyb21lUnVudGltZVBvcnRfKSk+fVxuICogQHByaXZhdGVcbiAqL1xudTJmLndhaXRpbmdGb3JQb3J0XyA9IFtdO1xuXG4vKipcbiAqIEEgY291bnRlciBmb3IgcmVxdWVzdElkcy5cbiAqIEB0eXBlIHtudW1iZXJ9XG4gKiBAcHJpdmF0ZVxuICovXG51MmYucmVxQ291bnRlcl8gPSAwO1xuXG4vKipcbiAqIEEgbWFwIGZyb20gcmVxdWVzdElkcyB0byBjbGllbnQgY2FsbGJhY2tzXG4gKiBAdHlwZSB7T2JqZWN0LjxudW1iZXIsKGZ1bmN0aW9uKCh1MmYuRXJyb3J8dTJmLlJlZ2lzdGVyUmVzcG9uc2UpKVxuICogICAgICAgICAgICAgICAgICAgICAgIHxmdW5jdGlvbigodTJmLkVycm9yfHUyZi5TaWduUmVzcG9uc2UpKSk+fVxuICogQHByaXZhdGVcbiAqL1xudTJmLmNhbGxiYWNrTWFwXyA9IHt9O1xuXG4vKipcbiAqIENyZWF0ZXMgb3IgcmV0cmlldmVzIHRoZSBNZXNzYWdlUG9ydCBzaW5nbGV0b24gdG8gdXNlLlxuICogQHBhcmFtIHtmdW5jdGlvbigoTWVzc2FnZVBvcnR8dTJmLldyYXBwZWRDaHJvbWVSdW50aW1lUG9ydF8pKX0gY2FsbGJhY2tcbiAqIEBwcml2YXRlXG4gKi9cbnUyZi5nZXRQb3J0U2luZ2xldG9uXyA9IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gIGlmICh1MmYucG9ydF8pIHtcbiAgICBjYWxsYmFjayhudWxsLCB1MmYucG9ydF8pO1xuICB9IGVsc2Uge1xuICAgIGlmICh1MmYud2FpdGluZ0ZvclBvcnRfLmxlbmd0aCA9PSAwKSB7XG4gICAgICB1MmYuZ2V0TWVzc2FnZVBvcnQoZnVuY3Rpb24oZXJyLCBwb3J0KSB7XG4gICAgICAgIGlmICghZXJyKSB7XG4gICAgICAgICAgdTJmLnBvcnRfID0gcG9ydDtcbiAgICAgICAgICB1MmYucG9ydF8uYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsXG4gICAgICAgICAgICAvKiogQHR5cGUge2Z1bmN0aW9uKEV2ZW50KX0gKi8gKHUyZi5yZXNwb25zZUhhbmRsZXJfKSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDYXJlZnVsLCBoZXJlIGJlIGFzeW5jIGNhbGxiYWNrcy4gTWF5YmUuXG4gICAgICAgIHdoaWxlICh1MmYud2FpdGluZ0ZvclBvcnRfLmxlbmd0aClcbiAgICAgICAgICB1MmYud2FpdGluZ0ZvclBvcnRfLnNoaWZ0KCkoZXJyLCBwb3J0KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICB1MmYud2FpdGluZ0ZvclBvcnRfLnB1c2goY2FsbGJhY2spO1xuICB9XG59O1xuXG4vKipcbiAqIEhhbmRsZXMgcmVzcG9uc2UgbWVzc2FnZXMgZnJvbSB0aGUgZXh0ZW5zaW9uLlxuICogQHBhcmFtIHtNZXNzYWdlRXZlbnQuPHUyZi5SZXNwb25zZT59IG1lc3NhZ2VcbiAqIEBwcml2YXRlXG4gKi9cbnUyZi5yZXNwb25zZUhhbmRsZXJfID0gZnVuY3Rpb24obWVzc2FnZSkge1xuICB2YXIgcmVzcG9uc2UgPSBtZXNzYWdlLmRhdGE7XG4gIHZhciByZXFJZCA9IHJlc3BvbnNlWydyZXF1ZXN0SWQnXTtcbiAgaWYgKCFyZXFJZCB8fCAhdTJmLmNhbGxiYWNrTWFwX1tyZXFJZF0pIHtcbiAgICBjb25zb2xlLmVycm9yKCdVbmtub3duIG9yIG1pc3NpbmcgcmVxdWVzdElkIGluIHJlc3BvbnNlLicpO1xuICAgIHJldHVybjtcbiAgfVxuICB2YXIgY2IgPSB1MmYuY2FsbGJhY2tNYXBfW3JlcUlkXTtcbiAgZGVsZXRlIHUyZi5jYWxsYmFja01hcF9bcmVxSWRdO1xuICBjYihudWxsLCByZXNwb25zZVsncmVzcG9uc2VEYXRhJ10pO1xufTtcblxuLyoqXG4gKiBDYWxscyB0aGUgY2FsbGJhY2sgd2l0aCB0cnVlIG9yIGZhbHNlIGFzIGZpcnN0IGFuZCBvbmx5IGFyZ3VtZW50XG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICovXG51MmYuaXNTdXBwb3J0ZWQgPSBmdW5jdGlvbihjYWxsYmFjaykge1xuICB1MmYuZ2V0UG9ydFNpbmdsZXRvbl8oZnVuY3Rpb24oZXJyLCBwb3J0KSB7XG4gICAgY2FsbGJhY2soIWVycik7XG4gIH0pO1xufVxuXG4vKipcbiAqIERpc3BhdGNoZXMgYW4gYXJyYXkgb2Ygc2lnbiByZXF1ZXN0cyB0byBhdmFpbGFibGUgVTJGIHRva2Vucy5cbiAqIEBwYXJhbSB7QXJyYXkuPHUyZi5TaWduUmVxdWVzdD59IHNpZ25SZXF1ZXN0c1xuICogQHBhcmFtIHtmdW5jdGlvbigodTJmLkVycm9yfHUyZi5TaWduUmVzcG9uc2UpKX0gY2FsbGJhY2tcbiAqIEBwYXJhbSB7bnVtYmVyPX0gb3B0X3RpbWVvdXRTZWNvbmRzXG4gKi9cbnUyZi5zaWduID0gZnVuY3Rpb24oc2lnblJlcXVlc3RzLCBjYWxsYmFjaywgb3B0X3RpbWVvdXRTZWNvbmRzKSB7XG4gIHUyZi5nZXRQb3J0U2luZ2xldG9uXyhmdW5jdGlvbihlcnIsIHBvcnQpIHtcbiAgICBpZiAoZXJyKVxuICAgICAgcmV0dXJuIGNhbGxiYWNrKGVycik7XG5cbiAgICB2YXIgcmVxSWQgPSArK3UyZi5yZXFDb3VudGVyXztcbiAgICB1MmYuY2FsbGJhY2tNYXBfW3JlcUlkXSA9IGNhbGxiYWNrO1xuICAgIHZhciByZXEgPSB7XG4gICAgICB0eXBlOiB1MmYuTWVzc2FnZVR5cGVzLlUyRl9TSUdOX1JFUVVFU1QsXG4gICAgICBzaWduUmVxdWVzdHM6IHNpZ25SZXF1ZXN0cyxcbiAgICAgIHRpbWVvdXRTZWNvbmRzOiAodHlwZW9mIG9wdF90aW1lb3V0U2Vjb25kcyAhPT0gJ3VuZGVmaW5lZCcgP1xuICAgICAgICBvcHRfdGltZW91dFNlY29uZHMgOiB1MmYuRVhURU5TSU9OX1RJTUVPVVRfU0VDKSxcbiAgICAgIHJlcXVlc3RJZDogcmVxSWRcbiAgICB9O1xuICAgIHBvcnQucG9zdE1lc3NhZ2UocmVxKTtcbiAgfSk7XG59O1xuXG4vKipcbiAqIERpc3BhdGNoZXMgcmVnaXN0ZXIgcmVxdWVzdHMgdG8gYXZhaWxhYmxlIFUyRiB0b2tlbnMuIEFuIGFycmF5IG9mIHNpZ25cbiAqIHJlcXVlc3RzIGlkZW50aWZpZXMgYWxyZWFkeSByZWdpc3RlcmVkIHRva2Vucy5cbiAqIEBwYXJhbSB7QXJyYXkuPHUyZi5SZWdpc3RlclJlcXVlc3Q+fSByZWdpc3RlclJlcXVlc3RzXG4gKiBAcGFyYW0ge0FycmF5Ljx1MmYuU2lnblJlcXVlc3Q+fSBzaWduUmVxdWVzdHNcbiAqIEBwYXJhbSB7ZnVuY3Rpb24oKHUyZi5FcnJvcnx1MmYuUmVnaXN0ZXJSZXNwb25zZSkpfSBjYWxsYmFja1xuICogQHBhcmFtIHtudW1iZXI9fSBvcHRfdGltZW91dFNlY29uZHNcbiAqL1xudTJmLnJlZ2lzdGVyID0gZnVuY3Rpb24ocmVnaXN0ZXJSZXF1ZXN0cywgc2lnblJlcXVlc3RzLFxuICAgIGNhbGxiYWNrLCBvcHRfdGltZW91dFNlY29uZHMpIHtcbiAgdTJmLmdldFBvcnRTaW5nbGV0b25fKGZ1bmN0aW9uKGVyciwgcG9ydCkge1xuICAgIGlmIChlcnIpXG4gICAgICByZXR1cm4gY2FsbGJhY2soZXJyKTtcblxuICAgIHZhciByZXFJZCA9ICsrdTJmLnJlcUNvdW50ZXJfO1xuICAgIHUyZi5jYWxsYmFja01hcF9bcmVxSWRdID0gY2FsbGJhY2s7XG4gICAgdmFyIHJlcSA9IHtcbiAgICAgIHR5cGU6IHUyZi5NZXNzYWdlVHlwZXMuVTJGX1JFR0lTVEVSX1JFUVVFU1QsXG4gICAgICBzaWduUmVxdWVzdHM6IHNpZ25SZXF1ZXN0cyxcbiAgICAgIHJlZ2lzdGVyUmVxdWVzdHM6IHJlZ2lzdGVyUmVxdWVzdHMsXG4gICAgICB0aW1lb3V0U2Vjb25kczogKHR5cGVvZiBvcHRfdGltZW91dFNlY29uZHMgIT09ICd1bmRlZmluZWQnID9cbiAgICAgICAgb3B0X3RpbWVvdXRTZWNvbmRzIDogdTJmLkVYVEVOU0lPTl9USU1FT1VUX1NFQyksXG4gICAgICByZXF1ZXN0SWQ6IHJlcUlkXG4gICAgfTtcbiAgICBwb3J0LnBvc3RNZXNzYWdlKHJlcSk7XG4gIH0pO1xufTtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///69d5\n")},7799:function(module,exports,__webpack_require__){"use strict";eval('/* WEBPACK VAR INJECTION */(function(global) {\n\nmodule.exports = API;\n\nvar chromeApi = __webpack_require__( "69d5" );\n\n// Feature detection (yes really)\nvar isBrowser = ( typeof navigator !== \'undefined\' ) && !!navigator.userAgent;\nvar isSafari = isBrowser && navigator.userAgent.match( /Safari\\// )\n\t&& !navigator.userAgent.match( /Chrome\\// );\nvar isEDGE = isBrowser && navigator.userAgent.match( /Edge\\/1[2345]/ );\n\nvar _backend = null;\nfunction getBackend( Promise )\n{\n\tif ( !_backend )\n\t\t_backend = new Promise( function( resolve, reject )\n\t\t{\n\t\t\tfunction notSupported( )\n\t\t\t{\n\t\t\t\t// Note; {native: true} means *not* using Google\'s hack\n\t\t\t\tresolve( { u2f: null, native: true } );\n\t\t\t}\n\n\t\t\tif ( !isBrowser )\n\t\t\t\treturn notSupported( );\n\n\t\t\tif ( isSafari )\n\t\t\t\t// Safari doesn\'t support U2F, and the Safari-FIDO-U2F\n\t\t\t\t// extension lacks full support (Multi-facet apps), so we\n\t\t\t\t// block it until proper support.\n\t\t\t\treturn notSupported( );\n\n\t\t\tvar hasNativeSupport =\n\t\t\t\t( typeof window.u2f !== \'undefined\' ) &&\n\t\t\t\t( typeof window.u2f.sign === \'function\' );\n\n\t\t\tif ( hasNativeSupport )\n\t\t\t\tresolve( { u2f: window.u2f, native: true } );\n\n\t\t\tif ( isEDGE )\n\t\t\t\t// We don\'t want to check for Google\'s extension hack on EDGE\n\t\t\t\t// as it\'ll cause trouble (popups, etc)\n\t\t\t\treturn notSupported( );\n\n\t\t\tif ( location.protocol === \'http:\' )\n\t\t\t\t// U2F isn\'t supported over http, only https\n\t\t\t\treturn notSupported( );\n\n\t\t\tif ( typeof MessageChannel === \'undefined\' )\n\t\t\t\t// Unsupported browser, the chrome hack would throw\n\t\t\t\treturn notSupported( );\n\n\t\t\t// Test for google extension support\n\t\t\tchromeApi.isSupported( function( ok )\n\t\t\t{\n\t\t\t\tif ( ok )\n\t\t\t\t\tresolve( { u2f: chromeApi, native: false } );\n\t\t\t\telse\n\t\t\t\t\tnotSupported( );\n\t\t\t} );\n\t\t} );\n\n\treturn _backend;\n}\n\nfunction API( Promise )\n{\n\treturn {\n\t\tisSupported   : isSupported.bind( Promise ),\n\t\tensureSupport : ensureSupport.bind( Promise ),\n\t\tregister      : register.bind( Promise ),\n\t\tsign          : sign.bind( Promise ),\n\t\tErrorCodes    : API.ErrorCodes,\n\t\tErrorNames    : API.ErrorNames\n\t};\n}\n\nAPI.ErrorCodes = {\n\tCANCELLED: -1,\n\tOK: 0,\n\tOTHER_ERROR: 1,\n\tBAD_REQUEST: 2,\n\tCONFIGURATION_UNSUPPORTED: 3,\n\tDEVICE_INELIGIBLE: 4,\n\tTIMEOUT: 5\n};\nAPI.ErrorNames = {\n\t"-1": "CANCELLED",\n\t"0": "OK",\n\t"1": "OTHER_ERROR",\n\t"2": "BAD_REQUEST",\n\t"3": "CONFIGURATION_UNSUPPORTED",\n\t"4": "DEVICE_INELIGIBLE",\n\t"5": "TIMEOUT"\n};\n\nfunction makeError( msg, err )\n{\n\tvar code = err != null ? err.errorCode : 1; // Default to OTHER_ERROR\n\tvar type = API.ErrorNames[ \'\' + code ];\n\tvar error = new Error( msg );\n\terror.metaData = {\n\t\ttype: type,\n\t\tcode: code\n\t}\n\treturn error;\n}\n\nfunction deferPromise( Promise, promise )\n{\n\tvar ret = { };\n\tret.promise = new Promise( function( resolve, reject ) {\n\t\tret.resolve = resolve;\n\t\tret.reject = reject;\n\t\tpromise.then( resolve, reject );\n\t} );\n\t/**\n\t * Reject request promise and disconnect port if \'disconnect\' flag is true\n\t * @param {string} msg\n\t * @param {boolean} disconnect\n\t */\n\tret.promise.cancel = function( msg, disconnect )\n\t{\n\t\tgetBackend( Promise )\n\t\t.then( function( backend )\n\t\t{\n\t\t\tif ( disconnect && !backend.native )\n\t\t\t\tbackend.u2f.disconnect( );\n\n\t\t\tret.reject( makeError( msg, { errorCode: -1 } ) );\n\t\t} );\n\t};\n\treturn ret;\n}\n\nfunction defer( Promise, fun )\n{\n\treturn deferPromise( Promise, new Promise( function( resolve, reject )\n\t{\n\t\ttry\n\t\t{\n\t\t\tfun && fun( resolve, reject );\n\t\t}\n\t\tcatch ( err )\n\t\t{\n\t\t\treject( err );\n\t\t}\n\t} ) );\n}\n\nfunction isSupported( )\n{\n\tvar Promise = this;\n\n\treturn getBackend( Promise )\n\t.then( function( backend )\n\t{\n\t\treturn !!backend.u2f;\n\t} );\n}\n\nfunction _ensureSupport( backend )\n{\n\tif ( !backend.u2f )\n\t{\n\t\tif ( location.protocol === \'http:\' )\n\t\t\tthrow new Error( "U2F isn\'t supported over http, only https" );\n\t\tthrow new Error( "U2F not supported" );\n\t}\n}\n\nfunction ensureSupport( )\n{\n\tvar Promise = this;\n\n\treturn getBackend( Promise )\n\t.then( _ensureSupport );\n}\n\nfunction register( registerRequests, signRequests /* = null */, timeout )\n{\n\tvar Promise = this;\n\n\tif ( !Array.isArray( registerRequests ) )\n\t\tregisterRequests = [ registerRequests ];\n\n\tif ( typeof signRequests === \'number\' && typeof timeout === \'undefined\' )\n\t{\n\t\ttimeout = signRequests;\n\t\tsignRequests = null;\n\t}\n\n\tif ( !signRequests )\n\t\tsignRequests = [ ];\n\n\treturn deferPromise( Promise, getBackend( Promise )\n\t.then( function( backend )\n\t{\n\t\t_ensureSupport( backend );\n\n\t\tvar native = backend.native;\n\t\tvar u2f = backend.u2f;\n\n\t\treturn new Promise( function( resolve, reject )\n\t\t{\n\t\t\tfunction cbNative( response )\n\t\t\t{\n\t\t\t\tif ( response.errorCode )\n\t\t\t\t\treject( makeError( "Registration failed", response ) );\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tdelete response.errorCode;\n\t\t\t\t\tresolve( response );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction cbChrome( err, response )\n\t\t\t{\n\t\t\t\tif ( err )\n\t\t\t\t\treject( err );\n\t\t\t\telse if ( response.errorCode )\n\t\t\t\t\treject( makeError( "Registration failed", response ) );\n\t\t\t\telse\n\t\t\t\t\tresolve( response );\n\t\t\t}\n\n\t\t\tif ( native )\n\t\t\t{\n\t\t\t\tvar appId = registerRequests[ 0 ].appId;\n\n\t\t\t\tu2f.register(\n\t\t\t\t\tappId, registerRequests, signRequests, cbNative, timeout );\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tu2f.register(\n\t\t\t\t\tregisterRequests, signRequests, cbChrome, timeout );\n\t\t\t}\n\t\t} );\n\t} ) ).promise;\n}\n\nfunction sign( signRequests, timeout )\n{\n\tvar Promise = this;\n\n\tif ( !Array.isArray( signRequests ) )\n\t\tsignRequests = [ signRequests ];\n\n\treturn deferPromise( Promise, getBackend( Promise )\n\t.then( function( backend )\n\t{\n\t\t_ensureSupport( backend );\n\n\t\tvar native = backend.native;\n\t\tvar u2f = backend.u2f;\n\n\t\treturn new Promise( function( resolve, reject )\n\t\t{\n\t\t\tfunction cbNative( response )\n\t\t\t{\n\t\t\t\tif ( response.errorCode )\n\t\t\t\t\treject( makeError( "Sign failed", response ) );\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tdelete response.errorCode;\n\t\t\t\t\tresolve( response );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction cbChrome( err, response )\n\t\t\t{\n\t\t\t\tif ( err )\n\t\t\t\t\treject( err );\n\t\t\t\telse if ( response.errorCode )\n\t\t\t\t\treject( makeError( "Sign failed", response ) );\n\t\t\t\telse\n\t\t\t\t\tresolve( response );\n\t\t\t}\n\n\t\t\tif ( native )\n\t\t\t{\n\t\t\t\tvar appId = signRequests[ 0 ].appId;\n\t\t\t\tvar challenge = signRequests[ 0 ].challenge;\n\n\t\t\t\tu2f.sign( appId, challenge, signRequests, cbNative, timeout );\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tu2f.sign( signRequests, cbChrome, timeout );\n\t\t\t}\n\t\t} );\n\t} ) ).promise;\n}\n\nfunction makeDefault( func )\n{\n\tAPI[ func ] = function( )\n\t{\n\t\tif ( !global.Promise )\n\t\t\t// This is very unlikely to ever happen, since browsers\n\t\t\t// supporting U2F will most likely support Promises.\n\t\t\tthrow new Error( "The platform doesn\'t natively support promises" );\n\n\t\tvar args = [ ].slice.call( arguments );\n\t\treturn API( global.Promise )[ func ].apply( null, args );\n\t};\n}\n\n// Provide default functions using the built-in Promise if available.\nmakeDefault( \'isSupported\' );\nmakeDefault( \'ensureSupport\' );\nmakeDefault( \'register\' );\nmakeDefault( \'sign\' );\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("c8ba")))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdTJmLWFwaS9saWIvdTJmLWFwaS5qcz83Nzk5Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLDhDQUFhOztBQUViOztBQUVBLGdCQUFnQixtQkFBTyxFQUFFLE1BQWtCOztBQUUzQztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLEVBQUUsYUFBYTtBQUMzQixjQUFjLDBCQUEwQjtBQUN4Qzs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsY0FBYyxnQ0FBZ0M7O0FBRTlDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLGdDQUFnQztBQUMvQztBQUNBO0FBQ0EsSUFBSTtBQUNKLEdBQUc7O0FBRUg7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsNENBQTRDO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0EsWUFBWSxPQUFPO0FBQ25CLFlBQVksUUFBUTtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGdDQUFnQyxnQkFBZ0I7QUFDaEQsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsRUFBRTtBQUNGOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsRUFBRTtBQUNGOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiI3Nzk5LmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IEFQSTtcblxudmFyIGNocm9tZUFwaSA9IHJlcXVpcmUoICcuL2dvb2dsZS11MmYtYXBpJyApO1xuXG4vLyBGZWF0dXJlIGRldGVjdGlvbiAoeWVzIHJlYWxseSlcbnZhciBpc0Jyb3dzZXIgPSAoIHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICkgJiYgISFuYXZpZ2F0b3IudXNlckFnZW50O1xudmFyIGlzU2FmYXJpID0gaXNCcm93c2VyICYmIG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goIC9TYWZhcmlcXC8vIClcblx0JiYgIW5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goIC9DaHJvbWVcXC8vICk7XG52YXIgaXNFREdFID0gaXNCcm93c2VyICYmIG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goIC9FZGdlXFwvMVsyMzQ1XS8gKTtcblxudmFyIF9iYWNrZW5kID0gbnVsbDtcbmZ1bmN0aW9uIGdldEJhY2tlbmQoIFByb21pc2UgKVxue1xuXHRpZiAoICFfYmFja2VuZCApXG5cdFx0X2JhY2tlbmQgPSBuZXcgUHJvbWlzZSggZnVuY3Rpb24oIHJlc29sdmUsIHJlamVjdCApXG5cdFx0e1xuXHRcdFx0ZnVuY3Rpb24gbm90U3VwcG9ydGVkKCApXG5cdFx0XHR7XG5cdFx0XHRcdC8vIE5vdGU7IHtuYXRpdmU6IHRydWV9IG1lYW5zICpub3QqIHVzaW5nIEdvb2dsZSdzIGhhY2tcblx0XHRcdFx0cmVzb2x2ZSggeyB1MmY6IG51bGwsIG5hdGl2ZTogdHJ1ZSB9ICk7XG5cdFx0XHR9XG5cblx0XHRcdGlmICggIWlzQnJvd3NlciApXG5cdFx0XHRcdHJldHVybiBub3RTdXBwb3J0ZWQoICk7XG5cblx0XHRcdGlmICggaXNTYWZhcmkgKVxuXHRcdFx0XHQvLyBTYWZhcmkgZG9lc24ndCBzdXBwb3J0IFUyRiwgYW5kIHRoZSBTYWZhcmktRklETy1VMkZcblx0XHRcdFx0Ly8gZXh0ZW5zaW9uIGxhY2tzIGZ1bGwgc3VwcG9ydCAoTXVsdGktZmFjZXQgYXBwcyksIHNvIHdlXG5cdFx0XHRcdC8vIGJsb2NrIGl0IHVudGlsIHByb3BlciBzdXBwb3J0LlxuXHRcdFx0XHRyZXR1cm4gbm90U3VwcG9ydGVkKCApO1xuXG5cdFx0XHR2YXIgaGFzTmF0aXZlU3VwcG9ydCA9XG5cdFx0XHRcdCggdHlwZW9mIHdpbmRvdy51MmYgIT09ICd1bmRlZmluZWQnICkgJiZcblx0XHRcdFx0KCB0eXBlb2Ygd2luZG93LnUyZi5zaWduID09PSAnZnVuY3Rpb24nICk7XG5cblx0XHRcdGlmICggaGFzTmF0aXZlU3VwcG9ydCApXG5cdFx0XHRcdHJlc29sdmUoIHsgdTJmOiB3aW5kb3cudTJmLCBuYXRpdmU6IHRydWUgfSApO1xuXG5cdFx0XHRpZiAoIGlzRURHRSApXG5cdFx0XHRcdC8vIFdlIGRvbid0IHdhbnQgdG8gY2hlY2sgZm9yIEdvb2dsZSdzIGV4dGVuc2lvbiBoYWNrIG9uIEVER0Vcblx0XHRcdFx0Ly8gYXMgaXQnbGwgY2F1c2UgdHJvdWJsZSAocG9wdXBzLCBldGMpXG5cdFx0XHRcdHJldHVybiBub3RTdXBwb3J0ZWQoICk7XG5cblx0XHRcdGlmICggbG9jYXRpb24ucHJvdG9jb2wgPT09ICdodHRwOicgKVxuXHRcdFx0XHQvLyBVMkYgaXNuJ3Qgc3VwcG9ydGVkIG92ZXIgaHR0cCwgb25seSBodHRwc1xuXHRcdFx0XHRyZXR1cm4gbm90U3VwcG9ydGVkKCApO1xuXG5cdFx0XHRpZiAoIHR5cGVvZiBNZXNzYWdlQ2hhbm5lbCA9PT0gJ3VuZGVmaW5lZCcgKVxuXHRcdFx0XHQvLyBVbnN1cHBvcnRlZCBicm93c2VyLCB0aGUgY2hyb21lIGhhY2sgd291bGQgdGhyb3dcblx0XHRcdFx0cmV0dXJuIG5vdFN1cHBvcnRlZCggKTtcblxuXHRcdFx0Ly8gVGVzdCBmb3IgZ29vZ2xlIGV4dGVuc2lvbiBzdXBwb3J0XG5cdFx0XHRjaHJvbWVBcGkuaXNTdXBwb3J0ZWQoIGZ1bmN0aW9uKCBvayApXG5cdFx0XHR7XG5cdFx0XHRcdGlmICggb2sgKVxuXHRcdFx0XHRcdHJlc29sdmUoIHsgdTJmOiBjaHJvbWVBcGksIG5hdGl2ZTogZmFsc2UgfSApO1xuXHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0bm90U3VwcG9ydGVkKCApO1xuXHRcdFx0fSApO1xuXHRcdH0gKTtcblxuXHRyZXR1cm4gX2JhY2tlbmQ7XG59XG5cbmZ1bmN0aW9uIEFQSSggUHJvbWlzZSApXG57XG5cdHJldHVybiB7XG5cdFx0aXNTdXBwb3J0ZWQgICA6IGlzU3VwcG9ydGVkLmJpbmQoIFByb21pc2UgKSxcblx0XHRlbnN1cmVTdXBwb3J0IDogZW5zdXJlU3VwcG9ydC5iaW5kKCBQcm9taXNlICksXG5cdFx0cmVnaXN0ZXIgICAgICA6IHJlZ2lzdGVyLmJpbmQoIFByb21pc2UgKSxcblx0XHRzaWduICAgICAgICAgIDogc2lnbi5iaW5kKCBQcm9taXNlICksXG5cdFx0RXJyb3JDb2RlcyAgICA6IEFQSS5FcnJvckNvZGVzLFxuXHRcdEVycm9yTmFtZXMgICAgOiBBUEkuRXJyb3JOYW1lc1xuXHR9O1xufVxuXG5BUEkuRXJyb3JDb2RlcyA9IHtcblx0Q0FOQ0VMTEVEOiAtMSxcblx0T0s6IDAsXG5cdE9USEVSX0VSUk9SOiAxLFxuXHRCQURfUkVRVUVTVDogMixcblx0Q09ORklHVVJBVElPTl9VTlNVUFBPUlRFRDogMyxcblx0REVWSUNFX0lORUxJR0lCTEU6IDQsXG5cdFRJTUVPVVQ6IDVcbn07XG5BUEkuRXJyb3JOYW1lcyA9IHtcblx0XCItMVwiOiBcIkNBTkNFTExFRFwiLFxuXHRcIjBcIjogXCJPS1wiLFxuXHRcIjFcIjogXCJPVEhFUl9FUlJPUlwiLFxuXHRcIjJcIjogXCJCQURfUkVRVUVTVFwiLFxuXHRcIjNcIjogXCJDT05GSUdVUkFUSU9OX1VOU1VQUE9SVEVEXCIsXG5cdFwiNFwiOiBcIkRFVklDRV9JTkVMSUdJQkxFXCIsXG5cdFwiNVwiOiBcIlRJTUVPVVRcIlxufTtcblxuZnVuY3Rpb24gbWFrZUVycm9yKCBtc2csIGVyciApXG57XG5cdHZhciBjb2RlID0gZXJyICE9IG51bGwgPyBlcnIuZXJyb3JDb2RlIDogMTsgLy8gRGVmYXVsdCB0byBPVEhFUl9FUlJPUlxuXHR2YXIgdHlwZSA9IEFQSS5FcnJvck5hbWVzWyAnJyArIGNvZGUgXTtcblx0dmFyIGVycm9yID0gbmV3IEVycm9yKCBtc2cgKTtcblx0ZXJyb3IubWV0YURhdGEgPSB7XG5cdFx0dHlwZTogdHlwZSxcblx0XHRjb2RlOiBjb2RlXG5cdH1cblx0cmV0dXJuIGVycm9yO1xufVxuXG5mdW5jdGlvbiBkZWZlclByb21pc2UoIFByb21pc2UsIHByb21pc2UgKVxue1xuXHR2YXIgcmV0ID0geyB9O1xuXHRyZXQucHJvbWlzZSA9IG5ldyBQcm9taXNlKCBmdW5jdGlvbiggcmVzb2x2ZSwgcmVqZWN0ICkge1xuXHRcdHJldC5yZXNvbHZlID0gcmVzb2x2ZTtcblx0XHRyZXQucmVqZWN0ID0gcmVqZWN0O1xuXHRcdHByb21pc2UudGhlbiggcmVzb2x2ZSwgcmVqZWN0ICk7XG5cdH0gKTtcblx0LyoqXG5cdCAqIFJlamVjdCByZXF1ZXN0IHByb21pc2UgYW5kIGRpc2Nvbm5lY3QgcG9ydCBpZiAnZGlzY29ubmVjdCcgZmxhZyBpcyB0cnVlXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBtc2dcblx0ICogQHBhcmFtIHtib29sZWFufSBkaXNjb25uZWN0XG5cdCAqL1xuXHRyZXQucHJvbWlzZS5jYW5jZWwgPSBmdW5jdGlvbiggbXNnLCBkaXNjb25uZWN0IClcblx0e1xuXHRcdGdldEJhY2tlbmQoIFByb21pc2UgKVxuXHRcdC50aGVuKCBmdW5jdGlvbiggYmFja2VuZCApXG5cdFx0e1xuXHRcdFx0aWYgKCBkaXNjb25uZWN0ICYmICFiYWNrZW5kLm5hdGl2ZSApXG5cdFx0XHRcdGJhY2tlbmQudTJmLmRpc2Nvbm5lY3QoICk7XG5cblx0XHRcdHJldC5yZWplY3QoIG1ha2VFcnJvciggbXNnLCB7IGVycm9yQ29kZTogLTEgfSApICk7XG5cdFx0fSApO1xuXHR9O1xuXHRyZXR1cm4gcmV0O1xufVxuXG5mdW5jdGlvbiBkZWZlciggUHJvbWlzZSwgZnVuIClcbntcblx0cmV0dXJuIGRlZmVyUHJvbWlzZSggUHJvbWlzZSwgbmV3IFByb21pc2UoIGZ1bmN0aW9uKCByZXNvbHZlLCByZWplY3QgKVxuXHR7XG5cdFx0dHJ5XG5cdFx0e1xuXHRcdFx0ZnVuICYmIGZ1biggcmVzb2x2ZSwgcmVqZWN0ICk7XG5cdFx0fVxuXHRcdGNhdGNoICggZXJyIClcblx0XHR7XG5cdFx0XHRyZWplY3QoIGVyciApO1xuXHRcdH1cblx0fSApICk7XG59XG5cbmZ1bmN0aW9uIGlzU3VwcG9ydGVkKCApXG57XG5cdHZhciBQcm9taXNlID0gdGhpcztcblxuXHRyZXR1cm4gZ2V0QmFja2VuZCggUHJvbWlzZSApXG5cdC50aGVuKCBmdW5jdGlvbiggYmFja2VuZCApXG5cdHtcblx0XHRyZXR1cm4gISFiYWNrZW5kLnUyZjtcblx0fSApO1xufVxuXG5mdW5jdGlvbiBfZW5zdXJlU3VwcG9ydCggYmFja2VuZCApXG57XG5cdGlmICggIWJhY2tlbmQudTJmIClcblx0e1xuXHRcdGlmICggbG9jYXRpb24ucHJvdG9jb2wgPT09ICdodHRwOicgKVxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKCBcIlUyRiBpc24ndCBzdXBwb3J0ZWQgb3ZlciBodHRwLCBvbmx5IGh0dHBzXCIgKTtcblx0XHR0aHJvdyBuZXcgRXJyb3IoIFwiVTJGIG5vdCBzdXBwb3J0ZWRcIiApO1xuXHR9XG59XG5cbmZ1bmN0aW9uIGVuc3VyZVN1cHBvcnQoIClcbntcblx0dmFyIFByb21pc2UgPSB0aGlzO1xuXG5cdHJldHVybiBnZXRCYWNrZW5kKCBQcm9taXNlIClcblx0LnRoZW4oIF9lbnN1cmVTdXBwb3J0ICk7XG59XG5cbmZ1bmN0aW9uIHJlZ2lzdGVyKCByZWdpc3RlclJlcXVlc3RzLCBzaWduUmVxdWVzdHMgLyogPSBudWxsICovLCB0aW1lb3V0IClcbntcblx0dmFyIFByb21pc2UgPSB0aGlzO1xuXG5cdGlmICggIUFycmF5LmlzQXJyYXkoIHJlZ2lzdGVyUmVxdWVzdHMgKSApXG5cdFx0cmVnaXN0ZXJSZXF1ZXN0cyA9IFsgcmVnaXN0ZXJSZXF1ZXN0cyBdO1xuXG5cdGlmICggdHlwZW9mIHNpZ25SZXF1ZXN0cyA9PT0gJ251bWJlcicgJiYgdHlwZW9mIHRpbWVvdXQgPT09ICd1bmRlZmluZWQnIClcblx0e1xuXHRcdHRpbWVvdXQgPSBzaWduUmVxdWVzdHM7XG5cdFx0c2lnblJlcXVlc3RzID0gbnVsbDtcblx0fVxuXG5cdGlmICggIXNpZ25SZXF1ZXN0cyApXG5cdFx0c2lnblJlcXVlc3RzID0gWyBdO1xuXG5cdHJldHVybiBkZWZlclByb21pc2UoIFByb21pc2UsIGdldEJhY2tlbmQoIFByb21pc2UgKVxuXHQudGhlbiggZnVuY3Rpb24oIGJhY2tlbmQgKVxuXHR7XG5cdFx0X2Vuc3VyZVN1cHBvcnQoIGJhY2tlbmQgKTtcblxuXHRcdHZhciBuYXRpdmUgPSBiYWNrZW5kLm5hdGl2ZTtcblx0XHR2YXIgdTJmID0gYmFja2VuZC51MmY7XG5cblx0XHRyZXR1cm4gbmV3IFByb21pc2UoIGZ1bmN0aW9uKCByZXNvbHZlLCByZWplY3QgKVxuXHRcdHtcblx0XHRcdGZ1bmN0aW9uIGNiTmF0aXZlKCByZXNwb25zZSApXG5cdFx0XHR7XG5cdFx0XHRcdGlmICggcmVzcG9uc2UuZXJyb3JDb2RlIClcblx0XHRcdFx0XHRyZWplY3QoIG1ha2VFcnJvciggXCJSZWdpc3RyYXRpb24gZmFpbGVkXCIsIHJlc3BvbnNlICkgKTtcblx0XHRcdFx0ZWxzZVxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0ZGVsZXRlIHJlc3BvbnNlLmVycm9yQ29kZTtcblx0XHRcdFx0XHRyZXNvbHZlKCByZXNwb25zZSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdGZ1bmN0aW9uIGNiQ2hyb21lKCBlcnIsIHJlc3BvbnNlIClcblx0XHRcdHtcblx0XHRcdFx0aWYgKCBlcnIgKVxuXHRcdFx0XHRcdHJlamVjdCggZXJyICk7XG5cdFx0XHRcdGVsc2UgaWYgKCByZXNwb25zZS5lcnJvckNvZGUgKVxuXHRcdFx0XHRcdHJlamVjdCggbWFrZUVycm9yKCBcIlJlZ2lzdHJhdGlvbiBmYWlsZWRcIiwgcmVzcG9uc2UgKSApO1xuXHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0cmVzb2x2ZSggcmVzcG9uc2UgKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCBuYXRpdmUgKVxuXHRcdFx0e1xuXHRcdFx0XHR2YXIgYXBwSWQgPSByZWdpc3RlclJlcXVlc3RzWyAwIF0uYXBwSWQ7XG5cblx0XHRcdFx0dTJmLnJlZ2lzdGVyKFxuXHRcdFx0XHRcdGFwcElkLCByZWdpc3RlclJlcXVlc3RzLCBzaWduUmVxdWVzdHMsIGNiTmF0aXZlLCB0aW1lb3V0ICk7XG5cdFx0XHR9XG5cdFx0XHRlbHNlXG5cdFx0XHR7XG5cdFx0XHRcdHUyZi5yZWdpc3Rlcihcblx0XHRcdFx0XHRyZWdpc3RlclJlcXVlc3RzLCBzaWduUmVxdWVzdHMsIGNiQ2hyb21lLCB0aW1lb3V0ICk7XG5cdFx0XHR9XG5cdFx0fSApO1xuXHR9ICkgKS5wcm9taXNlO1xufVxuXG5mdW5jdGlvbiBzaWduKCBzaWduUmVxdWVzdHMsIHRpbWVvdXQgKVxue1xuXHR2YXIgUHJvbWlzZSA9IHRoaXM7XG5cblx0aWYgKCAhQXJyYXkuaXNBcnJheSggc2lnblJlcXVlc3RzICkgKVxuXHRcdHNpZ25SZXF1ZXN0cyA9IFsgc2lnblJlcXVlc3RzIF07XG5cblx0cmV0dXJuIGRlZmVyUHJvbWlzZSggUHJvbWlzZSwgZ2V0QmFja2VuZCggUHJvbWlzZSApXG5cdC50aGVuKCBmdW5jdGlvbiggYmFja2VuZCApXG5cdHtcblx0XHRfZW5zdXJlU3VwcG9ydCggYmFja2VuZCApO1xuXG5cdFx0dmFyIG5hdGl2ZSA9IGJhY2tlbmQubmF0aXZlO1xuXHRcdHZhciB1MmYgPSBiYWNrZW5kLnUyZjtcblxuXHRcdHJldHVybiBuZXcgUHJvbWlzZSggZnVuY3Rpb24oIHJlc29sdmUsIHJlamVjdCApXG5cdFx0e1xuXHRcdFx0ZnVuY3Rpb24gY2JOYXRpdmUoIHJlc3BvbnNlIClcblx0XHRcdHtcblx0XHRcdFx0aWYgKCByZXNwb25zZS5lcnJvckNvZGUgKVxuXHRcdFx0XHRcdHJlamVjdCggbWFrZUVycm9yKCBcIlNpZ24gZmFpbGVkXCIsIHJlc3BvbnNlICkgKTtcblx0XHRcdFx0ZWxzZVxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0ZGVsZXRlIHJlc3BvbnNlLmVycm9yQ29kZTtcblx0XHRcdFx0XHRyZXNvbHZlKCByZXNwb25zZSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdGZ1bmN0aW9uIGNiQ2hyb21lKCBlcnIsIHJlc3BvbnNlIClcblx0XHRcdHtcblx0XHRcdFx0aWYgKCBlcnIgKVxuXHRcdFx0XHRcdHJlamVjdCggZXJyICk7XG5cdFx0XHRcdGVsc2UgaWYgKCByZXNwb25zZS5lcnJvckNvZGUgKVxuXHRcdFx0XHRcdHJlamVjdCggbWFrZUVycm9yKCBcIlNpZ24gZmFpbGVkXCIsIHJlc3BvbnNlICkgKTtcblx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdHJlc29sdmUoIHJlc3BvbnNlICk7XG5cdFx0XHR9XG5cblx0XHRcdGlmICggbmF0aXZlIClcblx0XHRcdHtcblx0XHRcdFx0dmFyIGFwcElkID0gc2lnblJlcXVlc3RzWyAwIF0uYXBwSWQ7XG5cdFx0XHRcdHZhciBjaGFsbGVuZ2UgPSBzaWduUmVxdWVzdHNbIDAgXS5jaGFsbGVuZ2U7XG5cblx0XHRcdFx0dTJmLnNpZ24oIGFwcElkLCBjaGFsbGVuZ2UsIHNpZ25SZXF1ZXN0cywgY2JOYXRpdmUsIHRpbWVvdXQgKTtcblx0XHRcdH1cblx0XHRcdGVsc2Vcblx0XHRcdHtcblx0XHRcdFx0dTJmLnNpZ24oIHNpZ25SZXF1ZXN0cywgY2JDaHJvbWUsIHRpbWVvdXQgKTtcblx0XHRcdH1cblx0XHR9ICk7XG5cdH0gKSApLnByb21pc2U7XG59XG5cbmZ1bmN0aW9uIG1ha2VEZWZhdWx0KCBmdW5jIClcbntcblx0QVBJWyBmdW5jIF0gPSBmdW5jdGlvbiggKVxuXHR7XG5cdFx0aWYgKCAhZ2xvYmFsLlByb21pc2UgKVxuXHRcdFx0Ly8gVGhpcyBpcyB2ZXJ5IHVubGlrZWx5IHRvIGV2ZXIgaGFwcGVuLCBzaW5jZSBicm93c2Vyc1xuXHRcdFx0Ly8gc3VwcG9ydGluZyBVMkYgd2lsbCBtb3N0IGxpa2VseSBzdXBwb3J0IFByb21pc2VzLlxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKCBcIlRoZSBwbGF0Zm9ybSBkb2Vzbid0IG5hdGl2ZWx5IHN1cHBvcnQgcHJvbWlzZXNcIiApO1xuXG5cdFx0dmFyIGFyZ3MgPSBbIF0uc2xpY2UuY2FsbCggYXJndW1lbnRzICk7XG5cdFx0cmV0dXJuIEFQSSggZ2xvYmFsLlByb21pc2UgKVsgZnVuYyBdLmFwcGx5KCBudWxsLCBhcmdzICk7XG5cdH07XG59XG5cbi8vIFByb3ZpZGUgZGVmYXVsdCBmdW5jdGlvbnMgdXNpbmcgdGhlIGJ1aWx0LWluIFByb21pc2UgaWYgYXZhaWxhYmxlLlxubWFrZURlZmF1bHQoICdpc1N1cHBvcnRlZCcgKTtcbm1ha2VEZWZhdWx0KCAnZW5zdXJlU3VwcG9ydCcgKTtcbm1ha2VEZWZhdWx0KCAncmVnaXN0ZXInICk7XG5tYWtlRGVmYXVsdCggJ3NpZ24nICk7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///7799\n')},a8fc:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('/* unused harmony export AccountNameRequiredError */\n/* unused harmony export AccountNotSupported */\n/* unused harmony export AmountRequired */\n/* unused harmony export BluetoothRequired */\n/* unused harmony export BtcUnmatchedApp */\n/* unused harmony export CantOpenDevice */\n/* unused harmony export CantScanQRCode */\n/* unused harmony export CashAddrNotSupported */\n/* unused harmony export CurrencyNotSupported */\n/* unused harmony export DBNotReset */\n/* unused harmony export DBWrongPassword */\n/* unused harmony export DeviceAppVerifyNotSupported */\n/* unused harmony export DeviceGenuineSocketEarlyClose */\n/* unused harmony export DeviceHalted */\n/* unused harmony export DeviceInOSUExpected */\n/* unused harmony export DeviceNameInvalid */\n/* unused harmony export DeviceNotGenuineError */\n/* unused harmony export DeviceOnDashboardExpected */\n/* unused harmony export DeviceOnDashboardUnexpected */\n/* unused harmony export DeviceShouldStayInApp */\n/* unused harmony export DeviceSocketFail */\n/* unused harmony export DeviceSocketNoBulkStatus */\n/* unused harmony export DisconnectedDevice */\n/* unused harmony export DisconnectedDeviceDuringOperation */\n/* unused harmony export ETHAddressNonEIP */\n/* unused harmony export EnpointConfigError */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return EthAppPleaseEnableContractData; });\n/* unused harmony export FeeEstimationFailed */\n/* unused harmony export FeeNotLoaded */\n/* unused harmony export FeeRequired */\n/* unused harmony export FeeTooHigh */\n/* unused harmony export FirmwareNotRecognized */\n/* unused harmony export FirmwareOrAppUpdateRequired */\n/* unused harmony export GasLessThanEstimate */\n/* unused harmony export GenuineCheckFailed */\n/* unused harmony export HardResetFail */\n/* unused harmony export InvalidAddress */\n/* unused harmony export InvalidAddressBecauseDestinationIsAlsoSource */\n/* unused harmony export InvalidXRPTag */\n/* unused harmony export LatestMCUInstalledError */\n/* unused harmony export LedgerAPI4xx */\n/* unused harmony export LedgerAPI5xx */\n/* unused harmony export LedgerAPIError */\n/* unused harmony export LedgerAPIErrorWithMessage */\n/* unused harmony export LedgerAPINotAvailable */\n/* unused harmony export MCUNotGenuineToDashboard */\n/* unused harmony export ManagerAppAlreadyInstalledError */\n/* unused harmony export ManagerAppDepInstallRequired */\n/* unused harmony export ManagerAppDepUninstallRequired */\n/* unused harmony export ManagerAppRelyOnBTCError */\n/* unused harmony export ManagerDeviceLockedError */\n/* unused harmony export ManagerFirmwareNotEnoughSpaceError */\n/* unused harmony export ManagerNotEnoughSpaceError */\n/* unused harmony export ManagerUninstallBTCDep */\n/* unused harmony export NetworkDown */\n/* unused harmony export NoAccessToCamera */\n/* unused harmony export NoAddressesFound */\n/* unused harmony export NoDBPathGiven */\n/* unused harmony export NotEnoughBalance */\n/* unused harmony export NotEnoughBalanceBecauseDestinationNotCreated */\n/* unused harmony export NotEnoughBalanceInParentAccount */\n/* unused harmony export NotEnoughBalanceToDelegate */\n/* unused harmony export NotEnoughGas */\n/* unused harmony export NotEnoughSpendableBalance */\n/* unused harmony export NotSupportedLegacyAddress */\n/* unused harmony export PairingFailed */\n/* unused harmony export PasswordIncorrectError */\n/* unused harmony export PasswordsDontMatchError */\n/* unused harmony export RecipientRequired */\n/* unused harmony export RecommendSubAccountsToEmpty */\n/* unused harmony export RecommendUndelegation */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return StatusCodes; });\n/* unused harmony export SyncError */\n/* unused harmony export TimeoutTagged */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "c", function() { return TransportError; });\n/* unused harmony export TransportInterfaceNotAvailable */\n/* unused harmony export TransportOpenUserCancelled */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "d", function() { return TransportRaceCondition; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "e", function() { return TransportStatusError; });\n/* unused harmony export TransportWebUSBGestureRequired */\n/* unused harmony export UnavailableTezosOriginatedAccountReceive */\n/* unused harmony export UnavailableTezosOriginatedAccountSend */\n/* unused harmony export UnexpectedBootloader */\n/* unused harmony export UnknownMCU */\n/* unused harmony export UpdateFetchFileFail */\n/* unused harmony export UpdateIncorrectHash */\n/* unused harmony export UpdateIncorrectSig */\n/* unused harmony export UpdateYourApp */\n/* unused harmony export UserRefusedAddress */\n/* unused harmony export UserRefusedAllowManager */\n/* unused harmony export UserRefusedDeviceNameChange */\n/* unused harmony export UserRefusedFirmwareUpdate */\n/* unused harmony export UserRefusedOnDevice */\n/* unused harmony export WebsocketConnectionError */\n/* unused harmony export WebsocketConnectionFailed */\n/* unused harmony export WrongAppForCurrency */\n/* unused harmony export WrongDeviceForAccount */\n/* unused harmony export addCustomErrorDeserializer */\n/* unused harmony export createCustomErrorClass */\n/* unused harmony export deserializeError */\n/* unused harmony export getAltStatusMessage */\n/* unused harmony export serializeError */\n/* eslint-disable no-continue */\r\n/* eslint-disable no-param-reassign */\r\n/* eslint-disable no-prototype-builtins */\r\nvar errorClasses = {};\r\nvar deserializers = {};\r\nvar addCustomErrorDeserializer = function (name, deserializer) {\r\n    deserializers[name] = deserializer;\r\n};\r\nvar createCustomErrorClass = function (name) {\r\n    var C = function CustomError(message, fields) {\r\n        Object.assign(this, fields);\r\n        this.name = name;\r\n        this.message = message || name;\r\n        this.stack = new Error().stack;\r\n    };\r\n    C.prototype = new Error();\r\n    errorClasses[name] = C;\r\n    return C;\r\n};\r\n// inspired from https://github.com/programble/errio/blob/master/index.js\r\nvar deserializeError = function (object) {\r\n    if (typeof object === "object" && object) {\r\n        try {\r\n            // $FlowFixMe FIXME HACK\r\n            var msg = JSON.parse(object.message);\r\n            if (msg.message && msg.name) {\r\n                object = msg;\r\n            }\r\n        }\r\n        catch (e) {\r\n            // nothing\r\n        }\r\n        var error = void 0;\r\n        if (typeof object.name === "string") {\r\n            var name_1 = object.name;\r\n            var des = deserializers[name_1];\r\n            if (des) {\r\n                error = des(object);\r\n            }\r\n            else {\r\n                var constructor = name_1 === "Error" ? Error : errorClasses[name_1];\r\n                if (!constructor) {\r\n                    console.warn("deserializing an unknown class \'" + name_1 + "\'");\r\n                    constructor = createCustomErrorClass(name_1);\r\n                }\r\n                error = Object.create(constructor.prototype);\r\n                try {\r\n                    for (var prop in object) {\r\n                        if (object.hasOwnProperty(prop)) {\r\n                            error[prop] = object[prop];\r\n                        }\r\n                    }\r\n                }\r\n                catch (e) {\r\n                    // sometimes setting a property can fail (e.g. .name)\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            error = new Error(object.message);\r\n        }\r\n        if (!error.stack && Error.captureStackTrace) {\r\n            Error.captureStackTrace(error, deserializeError);\r\n        }\r\n        return error;\r\n    }\r\n    return new Error(String(object));\r\n};\r\n// inspired from https://github.com/sindresorhus/serialize-error/blob/master/index.js\r\nvar serializeError = function (value) {\r\n    if (!value)\r\n        return value;\r\n    if (typeof value === "object") {\r\n        return destroyCircular(value, []);\r\n    }\r\n    if (typeof value === "function") {\r\n        return "[Function: " + (value.name || "anonymous") + "]";\r\n    }\r\n    return value;\r\n};\r\n// https://www.npmjs.com/package/destroy-circular\r\nfunction destroyCircular(from, seen) {\r\n    var to = {};\r\n    seen.push(from);\r\n    for (var _i = 0, _a = Object.keys(from); _i < _a.length; _i++) {\r\n        var key = _a[_i];\r\n        var value = from[key];\r\n        if (typeof value === "function") {\r\n            continue;\r\n        }\r\n        if (!value || typeof value !== "object") {\r\n            to[key] = value;\r\n            continue;\r\n        }\r\n        if (seen.indexOf(from[key]) === -1) {\r\n            to[key] = destroyCircular(from[key], seen.slice(0));\r\n            continue;\r\n        }\r\n        to[key] = "[Circular]";\r\n    }\r\n    if (typeof from.name === "string") {\r\n        to.name = from.name;\r\n    }\r\n    if (typeof from.message === "string") {\r\n        to.message = from.message;\r\n    }\r\n    if (typeof from.stack === "string") {\r\n        to.stack = from.stack;\r\n    }\r\n    return to;\r\n}\n\nvar AccountNameRequiredError = createCustomErrorClass("AccountNameRequired");\r\nvar AccountNotSupported = createCustomErrorClass("AccountNotSupported");\r\nvar AmountRequired = createCustomErrorClass("AmountRequired");\r\nvar BluetoothRequired = createCustomErrorClass("BluetoothRequired");\r\nvar BtcUnmatchedApp = createCustomErrorClass("BtcUnmatchedApp");\r\nvar CantOpenDevice = createCustomErrorClass("CantOpenDevice");\r\nvar CashAddrNotSupported = createCustomErrorClass("CashAddrNotSupported");\r\nvar CurrencyNotSupported = createCustomErrorClass("CurrencyNotSupported");\r\nvar DeviceAppVerifyNotSupported = createCustomErrorClass("DeviceAppVerifyNotSupported");\r\nvar DeviceGenuineSocketEarlyClose = createCustomErrorClass("DeviceGenuineSocketEarlyClose");\r\nvar DeviceNotGenuineError = createCustomErrorClass("DeviceNotGenuine");\r\nvar DeviceOnDashboardExpected = createCustomErrorClass("DeviceOnDashboardExpected");\r\nvar DeviceOnDashboardUnexpected = createCustomErrorClass("DeviceOnDashboardUnexpected");\r\nvar DeviceInOSUExpected = createCustomErrorClass("DeviceInOSUExpected");\r\nvar DeviceHalted = createCustomErrorClass("DeviceHalted");\r\nvar DeviceNameInvalid = createCustomErrorClass("DeviceNameInvalid");\r\nvar DeviceSocketFail = createCustomErrorClass("DeviceSocketFail");\r\nvar DeviceSocketNoBulkStatus = createCustomErrorClass("DeviceSocketNoBulkStatus");\r\nvar DisconnectedDevice = createCustomErrorClass("DisconnectedDevice");\r\nvar DisconnectedDeviceDuringOperation = createCustomErrorClass("DisconnectedDeviceDuringOperation");\r\nvar EnpointConfigError = createCustomErrorClass("EnpointConfig");\r\nvar EthAppPleaseEnableContractData = createCustomErrorClass("EthAppPleaseEnableContractData");\r\nvar FeeEstimationFailed = createCustomErrorClass("FeeEstimationFailed");\r\nvar FirmwareNotRecognized = createCustomErrorClass("FirmwareNotRecognized");\r\nvar HardResetFail = createCustomErrorClass("HardResetFail");\r\nvar InvalidXRPTag = createCustomErrorClass("InvalidXRPTag");\r\nvar InvalidAddress = createCustomErrorClass("InvalidAddress");\r\nvar InvalidAddressBecauseDestinationIsAlsoSource = createCustomErrorClass("InvalidAddressBecauseDestinationIsAlsoSource");\r\nvar LatestMCUInstalledError = createCustomErrorClass("LatestMCUInstalledError");\r\nvar UnknownMCU = createCustomErrorClass("UnknownMCU");\r\nvar LedgerAPIError = createCustomErrorClass("LedgerAPIError");\r\nvar LedgerAPIErrorWithMessage = createCustomErrorClass("LedgerAPIErrorWithMessage");\r\nvar LedgerAPINotAvailable = createCustomErrorClass("LedgerAPINotAvailable");\r\nvar ManagerAppAlreadyInstalledError = createCustomErrorClass("ManagerAppAlreadyInstalled");\r\nvar ManagerAppRelyOnBTCError = createCustomErrorClass("ManagerAppRelyOnBTC");\r\nvar ManagerAppDepInstallRequired = createCustomErrorClass("ManagerAppDepInstallRequired");\r\nvar ManagerAppDepUninstallRequired = createCustomErrorClass("ManagerAppDepUninstallRequired");\r\nvar ManagerDeviceLockedError = createCustomErrorClass("ManagerDeviceLocked");\r\nvar ManagerFirmwareNotEnoughSpaceError = createCustomErrorClass("ManagerFirmwareNotEnoughSpace");\r\nvar ManagerNotEnoughSpaceError = createCustomErrorClass("ManagerNotEnoughSpace");\r\nvar ManagerUninstallBTCDep = createCustomErrorClass("ManagerUninstallBTCDep");\r\nvar NetworkDown = createCustomErrorClass("NetworkDown");\r\nvar NoAddressesFound = createCustomErrorClass("NoAddressesFound");\r\nvar NotEnoughBalance = createCustomErrorClass("NotEnoughBalance");\r\nvar NotEnoughBalanceToDelegate = createCustomErrorClass("NotEnoughBalanceToDelegate");\r\nvar NotEnoughBalanceInParentAccount = createCustomErrorClass("NotEnoughBalanceInParentAccount");\r\nvar NotEnoughSpendableBalance = createCustomErrorClass("NotEnoughSpendableBalance");\r\nvar NotEnoughBalanceBecauseDestinationNotCreated = createCustomErrorClass("NotEnoughBalanceBecauseDestinationNotCreated");\r\nvar NoAccessToCamera = createCustomErrorClass("NoAccessToCamera");\r\nvar NotEnoughGas = createCustomErrorClass("NotEnoughGas");\r\nvar NotSupportedLegacyAddress = createCustomErrorClass("NotSupportedLegacyAddress");\r\nvar GasLessThanEstimate = createCustomErrorClass("GasLessThanEstimate");\r\nvar PasswordsDontMatchError = createCustomErrorClass("PasswordsDontMatch");\r\nvar PasswordIncorrectError = createCustomErrorClass("PasswordIncorrect");\r\nvar RecommendSubAccountsToEmpty = createCustomErrorClass("RecommendSubAccountsToEmpty");\r\nvar RecommendUndelegation = createCustomErrorClass("RecommendUndelegation");\r\nvar TimeoutTagged = createCustomErrorClass("TimeoutTagged");\r\nvar UnexpectedBootloader = createCustomErrorClass("UnexpectedBootloader");\r\nvar MCUNotGenuineToDashboard = createCustomErrorClass("MCUNotGenuineToDashboard");\r\nvar RecipientRequired = createCustomErrorClass("RecipientRequired");\r\nvar UnavailableTezosOriginatedAccountReceive = createCustomErrorClass("UnavailableTezosOriginatedAccountReceive");\r\nvar UnavailableTezosOriginatedAccountSend = createCustomErrorClass("UnavailableTezosOriginatedAccountSend");\r\nvar UpdateFetchFileFail = createCustomErrorClass("UpdateFetchFileFail");\r\nvar UpdateIncorrectHash = createCustomErrorClass("UpdateIncorrectHash");\r\nvar UpdateIncorrectSig = createCustomErrorClass("UpdateIncorrectSig");\r\nvar UpdateYourApp = createCustomErrorClass("UpdateYourApp");\r\nvar UserRefusedDeviceNameChange = createCustomErrorClass("UserRefusedDeviceNameChange");\r\nvar UserRefusedAddress = createCustomErrorClass("UserRefusedAddress");\r\nvar UserRefusedFirmwareUpdate = createCustomErrorClass("UserRefusedFirmwareUpdate");\r\nvar UserRefusedAllowManager = createCustomErrorClass("UserRefusedAllowManager");\r\nvar UserRefusedOnDevice = createCustomErrorClass("UserRefusedOnDevice"); // TODO rename because it\'s just for transaction refusal\r\nvar TransportOpenUserCancelled = createCustomErrorClass("TransportOpenUserCancelled");\r\nvar TransportInterfaceNotAvailable = createCustomErrorClass("TransportInterfaceNotAvailable");\r\nvar TransportRaceCondition = createCustomErrorClass("TransportRaceCondition");\r\nvar TransportWebUSBGestureRequired = createCustomErrorClass("TransportWebUSBGestureRequired");\r\nvar DeviceShouldStayInApp = createCustomErrorClass("DeviceShouldStayInApp");\r\nvar WebsocketConnectionError = createCustomErrorClass("WebsocketConnectionError");\r\nvar WebsocketConnectionFailed = createCustomErrorClass("WebsocketConnectionFailed");\r\nvar WrongDeviceForAccount = createCustomErrorClass("WrongDeviceForAccount");\r\nvar WrongAppForCurrency = createCustomErrorClass("WrongAppForCurrency");\r\nvar ETHAddressNonEIP = createCustomErrorClass("ETHAddressNonEIP");\r\nvar CantScanQRCode = createCustomErrorClass("CantScanQRCode");\r\nvar FeeNotLoaded = createCustomErrorClass("FeeNotLoaded");\r\nvar FeeRequired = createCustomErrorClass("FeeRequired");\r\nvar FeeTooHigh = createCustomErrorClass("FeeTooHigh");\r\nvar SyncError = createCustomErrorClass("SyncError");\r\nvar PairingFailed = createCustomErrorClass("PairingFailed");\r\nvar GenuineCheckFailed = createCustomErrorClass("GenuineCheckFailed");\r\nvar LedgerAPI4xx = createCustomErrorClass("LedgerAPI4xx");\r\nvar LedgerAPI5xx = createCustomErrorClass("LedgerAPI5xx");\r\nvar FirmwareOrAppUpdateRequired = createCustomErrorClass("FirmwareOrAppUpdateRequired");\r\n// db stuff, no need to translate\r\nvar NoDBPathGiven = createCustomErrorClass("NoDBPathGiven");\r\nvar DBWrongPassword = createCustomErrorClass("DBWrongPassword");\r\nvar DBNotReset = createCustomErrorClass("DBNotReset");\r\n/**\r\n * TransportError is used for any generic transport errors.\r\n * e.g. Error thrown when data received by exchanges are incorrect or if exchanged failed to communicate with the device for various reason.\r\n */\r\nfunction TransportError(message, id) {\r\n    this.name = "TransportError";\r\n    this.message = message;\r\n    this.stack = new Error().stack;\r\n    this.id = id;\r\n}\r\nTransportError.prototype = new Error();\r\naddCustomErrorDeserializer("TransportError", function (e) { return new TransportError(e.message, e.id); });\r\nvar StatusCodes = {\r\n    PIN_REMAINING_ATTEMPTS: 0x63c0,\r\n    INCORRECT_LENGTH: 0x6700,\r\n    MISSING_CRITICAL_PARAMETER: 0x6800,\r\n    COMMAND_INCOMPATIBLE_FILE_STRUCTURE: 0x6981,\r\n    SECURITY_STATUS_NOT_SATISFIED: 0x6982,\r\n    CONDITIONS_OF_USE_NOT_SATISFIED: 0x6985,\r\n    INCORRECT_DATA: 0x6a80,\r\n    NOT_ENOUGH_MEMORY_SPACE: 0x6a84,\r\n    REFERENCED_DATA_NOT_FOUND: 0x6a88,\r\n    FILE_ALREADY_EXISTS: 0x6a89,\r\n    INCORRECT_P1_P2: 0x6b00,\r\n    INS_NOT_SUPPORTED: 0x6d00,\r\n    CLA_NOT_SUPPORTED: 0x6e00,\r\n    TECHNICAL_PROBLEM: 0x6f00,\r\n    OK: 0x9000,\r\n    MEMORY_PROBLEM: 0x9240,\r\n    NO_EF_SELECTED: 0x9400,\r\n    INVALID_OFFSET: 0x9402,\r\n    FILE_NOT_FOUND: 0x9404,\r\n    INCONSISTENT_FILE: 0x9408,\r\n    ALGORITHM_NOT_SUPPORTED: 0x9484,\r\n    INVALID_KCV: 0x9485,\r\n    CODE_NOT_INITIALIZED: 0x9802,\r\n    ACCESS_CONDITION_NOT_FULFILLED: 0x9804,\r\n    CONTRADICTION_SECRET_CODE_STATUS: 0x9808,\r\n    CONTRADICTION_INVALIDATION: 0x9810,\r\n    CODE_BLOCKED: 0x9840,\r\n    MAX_VALUE_REACHED: 0x9850,\r\n    GP_AUTH_FAILED: 0x6300,\r\n    LICENSING: 0x6f42,\r\n    HALTED: 0x6faa,\r\n};\r\nfunction getAltStatusMessage(code) {\r\n    switch (code) {\r\n        // improve text of most common errors\r\n        case 0x6700:\r\n            return "Incorrect length";\r\n        case 0x6800:\r\n            return "Missing critical parameter";\r\n        case 0x6982:\r\n            return "Security not satisfied (dongle locked or have invalid access rights)";\r\n        case 0x6985:\r\n            return "Condition of use not satisfied (denied by the user?)";\r\n        case 0x6a80:\r\n            return "Invalid data received";\r\n        case 0x6b00:\r\n            return "Invalid parameter received";\r\n    }\r\n    if (0x6f00 <= code && code <= 0x6fff) {\r\n        return "Internal error, please report";\r\n    }\r\n}\r\n/**\r\n * Error thrown when a device returned a non success status.\r\n * the error.statusCode is one of the `StatusCodes` exported by this library.\r\n */\r\nfunction TransportStatusError(statusCode) {\r\n    this.name = "TransportStatusError";\r\n    var statusText = Object.keys(StatusCodes).find(function (k) { return StatusCodes[k] === statusCode; }) ||\r\n        "UNKNOWN_ERROR";\r\n    var smsg = getAltStatusMessage(statusCode) || statusText;\r\n    var statusCodeStr = statusCode.toString(16);\r\n    this.message = "Ledger device: " + smsg + " (0x" + statusCodeStr + ")";\r\n    this.stack = new Error().stack;\r\n    this.statusCode = statusCode;\r\n    this.statusText = statusText;\r\n}\r\nTransportStatusError.prototype = new Error();\r\naddCustomErrorDeserializer("TransportStatusError", function (e) { return new TransportStatusError(e.statusCode); });\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGxlZGdlcmhxL2Vycm9ycy9kaXN0L2luZGV4LmpzP2E4ZmMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNENBQTRDLGdCQUFnQjtBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0VBQXdFO0FBQ3hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyREFBMkQsNENBQTRDLEVBQUU7QUFDekc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlFQUFpRSxzQ0FBc0MsRUFBRTtBQUN6RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpRUFBaUUsK0NBQStDLEVBQUU7O0FBRXFxRSIsImZpbGUiOiJhOGZjLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyogZXNsaW50LWRpc2FibGUgbm8tY29udGludWUgKi9cclxuLyogZXNsaW50LWRpc2FibGUgbm8tcGFyYW0tcmVhc3NpZ24gKi9cclxuLyogZXNsaW50LWRpc2FibGUgbm8tcHJvdG90eXBlLWJ1aWx0aW5zICovXHJcbnZhciBlcnJvckNsYXNzZXMgPSB7fTtcclxudmFyIGRlc2VyaWFsaXplcnMgPSB7fTtcclxudmFyIGFkZEN1c3RvbUVycm9yRGVzZXJpYWxpemVyID0gZnVuY3Rpb24gKG5hbWUsIGRlc2VyaWFsaXplcikge1xyXG4gICAgZGVzZXJpYWxpemVyc1tuYW1lXSA9IGRlc2VyaWFsaXplcjtcclxufTtcclxudmFyIGNyZWF0ZUN1c3RvbUVycm9yQ2xhc3MgPSBmdW5jdGlvbiAobmFtZSkge1xyXG4gICAgdmFyIEMgPSBmdW5jdGlvbiBDdXN0b21FcnJvcihtZXNzYWdlLCBmaWVsZHMpIHtcclxuICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMsIGZpZWxkcyk7XHJcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcclxuICAgICAgICB0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlIHx8IG5hbWU7XHJcbiAgICAgICAgdGhpcy5zdGFjayA9IG5ldyBFcnJvcigpLnN0YWNrO1xyXG4gICAgfTtcclxuICAgIEMucHJvdG90eXBlID0gbmV3IEVycm9yKCk7XHJcbiAgICBlcnJvckNsYXNzZXNbbmFtZV0gPSBDO1xyXG4gICAgcmV0dXJuIEM7XHJcbn07XHJcbi8vIGluc3BpcmVkIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL3Byb2dyYW1ibGUvZXJyaW8vYmxvYi9tYXN0ZXIvaW5kZXguanNcclxudmFyIGRlc2VyaWFsaXplRXJyb3IgPSBmdW5jdGlvbiAob2JqZWN0KSB7XHJcbiAgICBpZiAodHlwZW9mIG9iamVjdCA9PT0gXCJvYmplY3RcIiAmJiBvYmplY3QpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAvLyAkRmxvd0ZpeE1lIEZJWE1FIEhBQ0tcclxuICAgICAgICAgICAgdmFyIG1zZyA9IEpTT04ucGFyc2Uob2JqZWN0Lm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICBpZiAobXNnLm1lc3NhZ2UgJiYgbXNnLm5hbWUpIHtcclxuICAgICAgICAgICAgICAgIG9iamVjdCA9IG1zZztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAvLyBub3RoaW5nXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBlcnJvciA9IHZvaWQgMDtcclxuICAgICAgICBpZiAodHlwZW9mIG9iamVjdC5uYW1lID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgIHZhciBuYW1lXzEgPSBvYmplY3QubmFtZTtcclxuICAgICAgICAgICAgdmFyIGRlcyA9IGRlc2VyaWFsaXplcnNbbmFtZV8xXTtcclxuICAgICAgICAgICAgaWYgKGRlcykge1xyXG4gICAgICAgICAgICAgICAgZXJyb3IgPSBkZXMob2JqZWN0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHZhciBjb25zdHJ1Y3RvciA9IG5hbWVfMSA9PT0gXCJFcnJvclwiID8gRXJyb3IgOiBlcnJvckNsYXNzZXNbbmFtZV8xXTtcclxuICAgICAgICAgICAgICAgIGlmICghY29uc3RydWN0b3IpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJkZXNlcmlhbGl6aW5nIGFuIHVua25vd24gY2xhc3MgJ1wiICsgbmFtZV8xICsgXCInXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0cnVjdG9yID0gY3JlYXRlQ3VzdG9tRXJyb3JDbGFzcyhuYW1lXzEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZXJyb3IgPSBPYmplY3QuY3JlYXRlKGNvbnN0cnVjdG9yLnByb3RvdHlwZSk7XHJcbiAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHByb3AgaW4gb2JqZWN0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvYmplY3QuaGFzT3duUHJvcGVydHkocHJvcCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yW3Byb3BdID0gb2JqZWN0W3Byb3BdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBzb21ldGltZXMgc2V0dGluZyBhIHByb3BlcnR5IGNhbiBmYWlsIChlLmcuIC5uYW1lKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBlcnJvciA9IG5ldyBFcnJvcihvYmplY3QubWVzc2FnZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghZXJyb3Iuc3RhY2sgJiYgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UpIHtcclxuICAgICAgICAgICAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UoZXJyb3IsIGRlc2VyaWFsaXplRXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZXJyb3I7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbmV3IEVycm9yKFN0cmluZyhvYmplY3QpKTtcclxufTtcclxuLy8gaW5zcGlyZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vc2luZHJlc29yaHVzL3NlcmlhbGl6ZS1lcnJvci9ibG9iL21hc3Rlci9pbmRleC5qc1xyXG52YXIgc2VyaWFsaXplRXJyb3IgPSBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgIGlmICghdmFsdWUpXHJcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIikge1xyXG4gICAgICAgIHJldHVybiBkZXN0cm95Q2lyY3VsYXIodmFsdWUsIFtdKTtcclxuICAgIH1cclxuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgIHJldHVybiBcIltGdW5jdGlvbjogXCIgKyAodmFsdWUubmFtZSB8fCBcImFub255bW91c1wiKSArIFwiXVwiO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHZhbHVlO1xyXG59O1xyXG4vLyBodHRwczovL3d3dy5ucG1qcy5jb20vcGFja2FnZS9kZXN0cm95LWNpcmN1bGFyXHJcbmZ1bmN0aW9uIGRlc3Ryb3lDaXJjdWxhcihmcm9tLCBzZWVuKSB7XHJcbiAgICB2YXIgdG8gPSB7fTtcclxuICAgIHNlZW4ucHVzaChmcm9tKTtcclxuICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSBPYmplY3Qua2V5cyhmcm9tKTsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICB2YXIga2V5ID0gX2FbX2ldO1xyXG4gICAgICAgIHZhciB2YWx1ZSA9IGZyb21ba2V5XTtcclxuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghdmFsdWUgfHwgdHlwZW9mIHZhbHVlICE9PSBcIm9iamVjdFwiKSB7XHJcbiAgICAgICAgICAgIHRvW2tleV0gPSB2YWx1ZTtcclxuICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChzZWVuLmluZGV4T2YoZnJvbVtrZXldKSA9PT0gLTEpIHtcclxuICAgICAgICAgICAgdG9ba2V5XSA9IGRlc3Ryb3lDaXJjdWxhcihmcm9tW2tleV0sIHNlZW4uc2xpY2UoMCkpO1xyXG4gICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdG9ba2V5XSA9IFwiW0NpcmN1bGFyXVwiO1xyXG4gICAgfVxyXG4gICAgaWYgKHR5cGVvZiBmcm9tLm5hbWUgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICB0by5uYW1lID0gZnJvbS5uYW1lO1xyXG4gICAgfVxyXG4gICAgaWYgKHR5cGVvZiBmcm9tLm1lc3NhZ2UgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICB0by5tZXNzYWdlID0gZnJvbS5tZXNzYWdlO1xyXG4gICAgfVxyXG4gICAgaWYgKHR5cGVvZiBmcm9tLnN0YWNrID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgdG8uc3RhY2sgPSBmcm9tLnN0YWNrO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRvO1xyXG59XG5cbnZhciBBY2NvdW50TmFtZVJlcXVpcmVkRXJyb3IgPSBjcmVhdGVDdXN0b21FcnJvckNsYXNzKFwiQWNjb3VudE5hbWVSZXF1aXJlZFwiKTtcclxudmFyIEFjY291bnROb3RTdXBwb3J0ZWQgPSBjcmVhdGVDdXN0b21FcnJvckNsYXNzKFwiQWNjb3VudE5vdFN1cHBvcnRlZFwiKTtcclxudmFyIEFtb3VudFJlcXVpcmVkID0gY3JlYXRlQ3VzdG9tRXJyb3JDbGFzcyhcIkFtb3VudFJlcXVpcmVkXCIpO1xyXG52YXIgQmx1ZXRvb3RoUmVxdWlyZWQgPSBjcmVhdGVDdXN0b21FcnJvckNsYXNzKFwiQmx1ZXRvb3RoUmVxdWlyZWRcIik7XHJcbnZhciBCdGNVbm1hdGNoZWRBcHAgPSBjcmVhdGVDdXN0b21FcnJvckNsYXNzKFwiQnRjVW5tYXRjaGVkQXBwXCIpO1xyXG52YXIgQ2FudE9wZW5EZXZpY2UgPSBjcmVhdGVDdXN0b21FcnJvckNsYXNzKFwiQ2FudE9wZW5EZXZpY2VcIik7XHJcbnZhciBDYXNoQWRkck5vdFN1cHBvcnRlZCA9IGNyZWF0ZUN1c3RvbUVycm9yQ2xhc3MoXCJDYXNoQWRkck5vdFN1cHBvcnRlZFwiKTtcclxudmFyIEN1cnJlbmN5Tm90U3VwcG9ydGVkID0gY3JlYXRlQ3VzdG9tRXJyb3JDbGFzcyhcIkN1cnJlbmN5Tm90U3VwcG9ydGVkXCIpO1xyXG52YXIgRGV2aWNlQXBwVmVyaWZ5Tm90U3VwcG9ydGVkID0gY3JlYXRlQ3VzdG9tRXJyb3JDbGFzcyhcIkRldmljZUFwcFZlcmlmeU5vdFN1cHBvcnRlZFwiKTtcclxudmFyIERldmljZUdlbnVpbmVTb2NrZXRFYXJseUNsb3NlID0gY3JlYXRlQ3VzdG9tRXJyb3JDbGFzcyhcIkRldmljZUdlbnVpbmVTb2NrZXRFYXJseUNsb3NlXCIpO1xyXG52YXIgRGV2aWNlTm90R2VudWluZUVycm9yID0gY3JlYXRlQ3VzdG9tRXJyb3JDbGFzcyhcIkRldmljZU5vdEdlbnVpbmVcIik7XHJcbnZhciBEZXZpY2VPbkRhc2hib2FyZEV4cGVjdGVkID0gY3JlYXRlQ3VzdG9tRXJyb3JDbGFzcyhcIkRldmljZU9uRGFzaGJvYXJkRXhwZWN0ZWRcIik7XHJcbnZhciBEZXZpY2VPbkRhc2hib2FyZFVuZXhwZWN0ZWQgPSBjcmVhdGVDdXN0b21FcnJvckNsYXNzKFwiRGV2aWNlT25EYXNoYm9hcmRVbmV4cGVjdGVkXCIpO1xyXG52YXIgRGV2aWNlSW5PU1VFeHBlY3RlZCA9IGNyZWF0ZUN1c3RvbUVycm9yQ2xhc3MoXCJEZXZpY2VJbk9TVUV4cGVjdGVkXCIpO1xyXG52YXIgRGV2aWNlSGFsdGVkID0gY3JlYXRlQ3VzdG9tRXJyb3JDbGFzcyhcIkRldmljZUhhbHRlZFwiKTtcclxudmFyIERldmljZU5hbWVJbnZhbGlkID0gY3JlYXRlQ3VzdG9tRXJyb3JDbGFzcyhcIkRldmljZU5hbWVJbnZhbGlkXCIpO1xyXG52YXIgRGV2aWNlU29ja2V0RmFpbCA9IGNyZWF0ZUN1c3RvbUVycm9yQ2xhc3MoXCJEZXZpY2VTb2NrZXRGYWlsXCIpO1xyXG52YXIgRGV2aWNlU29ja2V0Tm9CdWxrU3RhdHVzID0gY3JlYXRlQ3VzdG9tRXJyb3JDbGFzcyhcIkRldmljZVNvY2tldE5vQnVsa1N0YXR1c1wiKTtcclxudmFyIERpc2Nvbm5lY3RlZERldmljZSA9IGNyZWF0ZUN1c3RvbUVycm9yQ2xhc3MoXCJEaXNjb25uZWN0ZWREZXZpY2VcIik7XHJcbnZhciBEaXNjb25uZWN0ZWREZXZpY2VEdXJpbmdPcGVyYXRpb24gPSBjcmVhdGVDdXN0b21FcnJvckNsYXNzKFwiRGlzY29ubmVjdGVkRGV2aWNlRHVyaW5nT3BlcmF0aW9uXCIpO1xyXG52YXIgRW5wb2ludENvbmZpZ0Vycm9yID0gY3JlYXRlQ3VzdG9tRXJyb3JDbGFzcyhcIkVucG9pbnRDb25maWdcIik7XHJcbnZhciBFdGhBcHBQbGVhc2VFbmFibGVDb250cmFjdERhdGEgPSBjcmVhdGVDdXN0b21FcnJvckNsYXNzKFwiRXRoQXBwUGxlYXNlRW5hYmxlQ29udHJhY3REYXRhXCIpO1xyXG52YXIgRmVlRXN0aW1hdGlvbkZhaWxlZCA9IGNyZWF0ZUN1c3RvbUVycm9yQ2xhc3MoXCJGZWVFc3RpbWF0aW9uRmFpbGVkXCIpO1xyXG52YXIgRmlybXdhcmVOb3RSZWNvZ25pemVkID0gY3JlYXRlQ3VzdG9tRXJyb3JDbGFzcyhcIkZpcm13YXJlTm90UmVjb2duaXplZFwiKTtcclxudmFyIEhhcmRSZXNldEZhaWwgPSBjcmVhdGVDdXN0b21FcnJvckNsYXNzKFwiSGFyZFJlc2V0RmFpbFwiKTtcclxudmFyIEludmFsaWRYUlBUYWcgPSBjcmVhdGVDdXN0b21FcnJvckNsYXNzKFwiSW52YWxpZFhSUFRhZ1wiKTtcclxudmFyIEludmFsaWRBZGRyZXNzID0gY3JlYXRlQ3VzdG9tRXJyb3JDbGFzcyhcIkludmFsaWRBZGRyZXNzXCIpO1xyXG52YXIgSW52YWxpZEFkZHJlc3NCZWNhdXNlRGVzdGluYXRpb25Jc0Fsc29Tb3VyY2UgPSBjcmVhdGVDdXN0b21FcnJvckNsYXNzKFwiSW52YWxpZEFkZHJlc3NCZWNhdXNlRGVzdGluYXRpb25Jc0Fsc29Tb3VyY2VcIik7XHJcbnZhciBMYXRlc3RNQ1VJbnN0YWxsZWRFcnJvciA9IGNyZWF0ZUN1c3RvbUVycm9yQ2xhc3MoXCJMYXRlc3RNQ1VJbnN0YWxsZWRFcnJvclwiKTtcclxudmFyIFVua25vd25NQ1UgPSBjcmVhdGVDdXN0b21FcnJvckNsYXNzKFwiVW5rbm93bk1DVVwiKTtcclxudmFyIExlZGdlckFQSUVycm9yID0gY3JlYXRlQ3VzdG9tRXJyb3JDbGFzcyhcIkxlZGdlckFQSUVycm9yXCIpO1xyXG52YXIgTGVkZ2VyQVBJRXJyb3JXaXRoTWVzc2FnZSA9IGNyZWF0ZUN1c3RvbUVycm9yQ2xhc3MoXCJMZWRnZXJBUElFcnJvcldpdGhNZXNzYWdlXCIpO1xyXG52YXIgTGVkZ2VyQVBJTm90QXZhaWxhYmxlID0gY3JlYXRlQ3VzdG9tRXJyb3JDbGFzcyhcIkxlZGdlckFQSU5vdEF2YWlsYWJsZVwiKTtcclxudmFyIE1hbmFnZXJBcHBBbHJlYWR5SW5zdGFsbGVkRXJyb3IgPSBjcmVhdGVDdXN0b21FcnJvckNsYXNzKFwiTWFuYWdlckFwcEFscmVhZHlJbnN0YWxsZWRcIik7XHJcbnZhciBNYW5hZ2VyQXBwUmVseU9uQlRDRXJyb3IgPSBjcmVhdGVDdXN0b21FcnJvckNsYXNzKFwiTWFuYWdlckFwcFJlbHlPbkJUQ1wiKTtcclxudmFyIE1hbmFnZXJBcHBEZXBJbnN0YWxsUmVxdWlyZWQgPSBjcmVhdGVDdXN0b21FcnJvckNsYXNzKFwiTWFuYWdlckFwcERlcEluc3RhbGxSZXF1aXJlZFwiKTtcclxudmFyIE1hbmFnZXJBcHBEZXBVbmluc3RhbGxSZXF1aXJlZCA9IGNyZWF0ZUN1c3RvbUVycm9yQ2xhc3MoXCJNYW5hZ2VyQXBwRGVwVW5pbnN0YWxsUmVxdWlyZWRcIik7XHJcbnZhciBNYW5hZ2VyRGV2aWNlTG9ja2VkRXJyb3IgPSBjcmVhdGVDdXN0b21FcnJvckNsYXNzKFwiTWFuYWdlckRldmljZUxvY2tlZFwiKTtcclxudmFyIE1hbmFnZXJGaXJtd2FyZU5vdEVub3VnaFNwYWNlRXJyb3IgPSBjcmVhdGVDdXN0b21FcnJvckNsYXNzKFwiTWFuYWdlckZpcm13YXJlTm90RW5vdWdoU3BhY2VcIik7XHJcbnZhciBNYW5hZ2VyTm90RW5vdWdoU3BhY2VFcnJvciA9IGNyZWF0ZUN1c3RvbUVycm9yQ2xhc3MoXCJNYW5hZ2VyTm90RW5vdWdoU3BhY2VcIik7XHJcbnZhciBNYW5hZ2VyVW5pbnN0YWxsQlRDRGVwID0gY3JlYXRlQ3VzdG9tRXJyb3JDbGFzcyhcIk1hbmFnZXJVbmluc3RhbGxCVENEZXBcIik7XHJcbnZhciBOZXR3b3JrRG93biA9IGNyZWF0ZUN1c3RvbUVycm9yQ2xhc3MoXCJOZXR3b3JrRG93blwiKTtcclxudmFyIE5vQWRkcmVzc2VzRm91bmQgPSBjcmVhdGVDdXN0b21FcnJvckNsYXNzKFwiTm9BZGRyZXNzZXNGb3VuZFwiKTtcclxudmFyIE5vdEVub3VnaEJhbGFuY2UgPSBjcmVhdGVDdXN0b21FcnJvckNsYXNzKFwiTm90RW5vdWdoQmFsYW5jZVwiKTtcclxudmFyIE5vdEVub3VnaEJhbGFuY2VUb0RlbGVnYXRlID0gY3JlYXRlQ3VzdG9tRXJyb3JDbGFzcyhcIk5vdEVub3VnaEJhbGFuY2VUb0RlbGVnYXRlXCIpO1xyXG52YXIgTm90RW5vdWdoQmFsYW5jZUluUGFyZW50QWNjb3VudCA9IGNyZWF0ZUN1c3RvbUVycm9yQ2xhc3MoXCJOb3RFbm91Z2hCYWxhbmNlSW5QYXJlbnRBY2NvdW50XCIpO1xyXG52YXIgTm90RW5vdWdoU3BlbmRhYmxlQmFsYW5jZSA9IGNyZWF0ZUN1c3RvbUVycm9yQ2xhc3MoXCJOb3RFbm91Z2hTcGVuZGFibGVCYWxhbmNlXCIpO1xyXG52YXIgTm90RW5vdWdoQmFsYW5jZUJlY2F1c2VEZXN0aW5hdGlvbk5vdENyZWF0ZWQgPSBjcmVhdGVDdXN0b21FcnJvckNsYXNzKFwiTm90RW5vdWdoQmFsYW5jZUJlY2F1c2VEZXN0aW5hdGlvbk5vdENyZWF0ZWRcIik7XHJcbnZhciBOb0FjY2Vzc1RvQ2FtZXJhID0gY3JlYXRlQ3VzdG9tRXJyb3JDbGFzcyhcIk5vQWNjZXNzVG9DYW1lcmFcIik7XHJcbnZhciBOb3RFbm91Z2hHYXMgPSBjcmVhdGVDdXN0b21FcnJvckNsYXNzKFwiTm90RW5vdWdoR2FzXCIpO1xyXG52YXIgTm90U3VwcG9ydGVkTGVnYWN5QWRkcmVzcyA9IGNyZWF0ZUN1c3RvbUVycm9yQ2xhc3MoXCJOb3RTdXBwb3J0ZWRMZWdhY3lBZGRyZXNzXCIpO1xyXG52YXIgR2FzTGVzc1RoYW5Fc3RpbWF0ZSA9IGNyZWF0ZUN1c3RvbUVycm9yQ2xhc3MoXCJHYXNMZXNzVGhhbkVzdGltYXRlXCIpO1xyXG52YXIgUGFzc3dvcmRzRG9udE1hdGNoRXJyb3IgPSBjcmVhdGVDdXN0b21FcnJvckNsYXNzKFwiUGFzc3dvcmRzRG9udE1hdGNoXCIpO1xyXG52YXIgUGFzc3dvcmRJbmNvcnJlY3RFcnJvciA9IGNyZWF0ZUN1c3RvbUVycm9yQ2xhc3MoXCJQYXNzd29yZEluY29ycmVjdFwiKTtcclxudmFyIFJlY29tbWVuZFN1YkFjY291bnRzVG9FbXB0eSA9IGNyZWF0ZUN1c3RvbUVycm9yQ2xhc3MoXCJSZWNvbW1lbmRTdWJBY2NvdW50c1RvRW1wdHlcIik7XHJcbnZhciBSZWNvbW1lbmRVbmRlbGVnYXRpb24gPSBjcmVhdGVDdXN0b21FcnJvckNsYXNzKFwiUmVjb21tZW5kVW5kZWxlZ2F0aW9uXCIpO1xyXG52YXIgVGltZW91dFRhZ2dlZCA9IGNyZWF0ZUN1c3RvbUVycm9yQ2xhc3MoXCJUaW1lb3V0VGFnZ2VkXCIpO1xyXG52YXIgVW5leHBlY3RlZEJvb3Rsb2FkZXIgPSBjcmVhdGVDdXN0b21FcnJvckNsYXNzKFwiVW5leHBlY3RlZEJvb3Rsb2FkZXJcIik7XHJcbnZhciBNQ1VOb3RHZW51aW5lVG9EYXNoYm9hcmQgPSBjcmVhdGVDdXN0b21FcnJvckNsYXNzKFwiTUNVTm90R2VudWluZVRvRGFzaGJvYXJkXCIpO1xyXG52YXIgUmVjaXBpZW50UmVxdWlyZWQgPSBjcmVhdGVDdXN0b21FcnJvckNsYXNzKFwiUmVjaXBpZW50UmVxdWlyZWRcIik7XHJcbnZhciBVbmF2YWlsYWJsZVRlem9zT3JpZ2luYXRlZEFjY291bnRSZWNlaXZlID0gY3JlYXRlQ3VzdG9tRXJyb3JDbGFzcyhcIlVuYXZhaWxhYmxlVGV6b3NPcmlnaW5hdGVkQWNjb3VudFJlY2VpdmVcIik7XHJcbnZhciBVbmF2YWlsYWJsZVRlem9zT3JpZ2luYXRlZEFjY291bnRTZW5kID0gY3JlYXRlQ3VzdG9tRXJyb3JDbGFzcyhcIlVuYXZhaWxhYmxlVGV6b3NPcmlnaW5hdGVkQWNjb3VudFNlbmRcIik7XHJcbnZhciBVcGRhdGVGZXRjaEZpbGVGYWlsID0gY3JlYXRlQ3VzdG9tRXJyb3JDbGFzcyhcIlVwZGF0ZUZldGNoRmlsZUZhaWxcIik7XHJcbnZhciBVcGRhdGVJbmNvcnJlY3RIYXNoID0gY3JlYXRlQ3VzdG9tRXJyb3JDbGFzcyhcIlVwZGF0ZUluY29ycmVjdEhhc2hcIik7XHJcbnZhciBVcGRhdGVJbmNvcnJlY3RTaWcgPSBjcmVhdGVDdXN0b21FcnJvckNsYXNzKFwiVXBkYXRlSW5jb3JyZWN0U2lnXCIpO1xyXG52YXIgVXBkYXRlWW91ckFwcCA9IGNyZWF0ZUN1c3RvbUVycm9yQ2xhc3MoXCJVcGRhdGVZb3VyQXBwXCIpO1xyXG52YXIgVXNlclJlZnVzZWREZXZpY2VOYW1lQ2hhbmdlID0gY3JlYXRlQ3VzdG9tRXJyb3JDbGFzcyhcIlVzZXJSZWZ1c2VkRGV2aWNlTmFtZUNoYW5nZVwiKTtcclxudmFyIFVzZXJSZWZ1c2VkQWRkcmVzcyA9IGNyZWF0ZUN1c3RvbUVycm9yQ2xhc3MoXCJVc2VyUmVmdXNlZEFkZHJlc3NcIik7XHJcbnZhciBVc2VyUmVmdXNlZEZpcm13YXJlVXBkYXRlID0gY3JlYXRlQ3VzdG9tRXJyb3JDbGFzcyhcIlVzZXJSZWZ1c2VkRmlybXdhcmVVcGRhdGVcIik7XHJcbnZhciBVc2VyUmVmdXNlZEFsbG93TWFuYWdlciA9IGNyZWF0ZUN1c3RvbUVycm9yQ2xhc3MoXCJVc2VyUmVmdXNlZEFsbG93TWFuYWdlclwiKTtcclxudmFyIFVzZXJSZWZ1c2VkT25EZXZpY2UgPSBjcmVhdGVDdXN0b21FcnJvckNsYXNzKFwiVXNlclJlZnVzZWRPbkRldmljZVwiKTsgLy8gVE9ETyByZW5hbWUgYmVjYXVzZSBpdCdzIGp1c3QgZm9yIHRyYW5zYWN0aW9uIHJlZnVzYWxcclxudmFyIFRyYW5zcG9ydE9wZW5Vc2VyQ2FuY2VsbGVkID0gY3JlYXRlQ3VzdG9tRXJyb3JDbGFzcyhcIlRyYW5zcG9ydE9wZW5Vc2VyQ2FuY2VsbGVkXCIpO1xyXG52YXIgVHJhbnNwb3J0SW50ZXJmYWNlTm90QXZhaWxhYmxlID0gY3JlYXRlQ3VzdG9tRXJyb3JDbGFzcyhcIlRyYW5zcG9ydEludGVyZmFjZU5vdEF2YWlsYWJsZVwiKTtcclxudmFyIFRyYW5zcG9ydFJhY2VDb25kaXRpb24gPSBjcmVhdGVDdXN0b21FcnJvckNsYXNzKFwiVHJhbnNwb3J0UmFjZUNvbmRpdGlvblwiKTtcclxudmFyIFRyYW5zcG9ydFdlYlVTQkdlc3R1cmVSZXF1aXJlZCA9IGNyZWF0ZUN1c3RvbUVycm9yQ2xhc3MoXCJUcmFuc3BvcnRXZWJVU0JHZXN0dXJlUmVxdWlyZWRcIik7XHJcbnZhciBEZXZpY2VTaG91bGRTdGF5SW5BcHAgPSBjcmVhdGVDdXN0b21FcnJvckNsYXNzKFwiRGV2aWNlU2hvdWxkU3RheUluQXBwXCIpO1xyXG52YXIgV2Vic29ja2V0Q29ubmVjdGlvbkVycm9yID0gY3JlYXRlQ3VzdG9tRXJyb3JDbGFzcyhcIldlYnNvY2tldENvbm5lY3Rpb25FcnJvclwiKTtcclxudmFyIFdlYnNvY2tldENvbm5lY3Rpb25GYWlsZWQgPSBjcmVhdGVDdXN0b21FcnJvckNsYXNzKFwiV2Vic29ja2V0Q29ubmVjdGlvbkZhaWxlZFwiKTtcclxudmFyIFdyb25nRGV2aWNlRm9yQWNjb3VudCA9IGNyZWF0ZUN1c3RvbUVycm9yQ2xhc3MoXCJXcm9uZ0RldmljZUZvckFjY291bnRcIik7XHJcbnZhciBXcm9uZ0FwcEZvckN1cnJlbmN5ID0gY3JlYXRlQ3VzdG9tRXJyb3JDbGFzcyhcIldyb25nQXBwRm9yQ3VycmVuY3lcIik7XHJcbnZhciBFVEhBZGRyZXNzTm9uRUlQID0gY3JlYXRlQ3VzdG9tRXJyb3JDbGFzcyhcIkVUSEFkZHJlc3NOb25FSVBcIik7XHJcbnZhciBDYW50U2NhblFSQ29kZSA9IGNyZWF0ZUN1c3RvbUVycm9yQ2xhc3MoXCJDYW50U2NhblFSQ29kZVwiKTtcclxudmFyIEZlZU5vdExvYWRlZCA9IGNyZWF0ZUN1c3RvbUVycm9yQ2xhc3MoXCJGZWVOb3RMb2FkZWRcIik7XHJcbnZhciBGZWVSZXF1aXJlZCA9IGNyZWF0ZUN1c3RvbUVycm9yQ2xhc3MoXCJGZWVSZXF1aXJlZFwiKTtcclxudmFyIEZlZVRvb0hpZ2ggPSBjcmVhdGVDdXN0b21FcnJvckNsYXNzKFwiRmVlVG9vSGlnaFwiKTtcclxudmFyIFN5bmNFcnJvciA9IGNyZWF0ZUN1c3RvbUVycm9yQ2xhc3MoXCJTeW5jRXJyb3JcIik7XHJcbnZhciBQYWlyaW5nRmFpbGVkID0gY3JlYXRlQ3VzdG9tRXJyb3JDbGFzcyhcIlBhaXJpbmdGYWlsZWRcIik7XHJcbnZhciBHZW51aW5lQ2hlY2tGYWlsZWQgPSBjcmVhdGVDdXN0b21FcnJvckNsYXNzKFwiR2VudWluZUNoZWNrRmFpbGVkXCIpO1xyXG52YXIgTGVkZ2VyQVBJNHh4ID0gY3JlYXRlQ3VzdG9tRXJyb3JDbGFzcyhcIkxlZGdlckFQSTR4eFwiKTtcclxudmFyIExlZGdlckFQSTV4eCA9IGNyZWF0ZUN1c3RvbUVycm9yQ2xhc3MoXCJMZWRnZXJBUEk1eHhcIik7XHJcbnZhciBGaXJtd2FyZU9yQXBwVXBkYXRlUmVxdWlyZWQgPSBjcmVhdGVDdXN0b21FcnJvckNsYXNzKFwiRmlybXdhcmVPckFwcFVwZGF0ZVJlcXVpcmVkXCIpO1xyXG4vLyBkYiBzdHVmZiwgbm8gbmVlZCB0byB0cmFuc2xhdGVcclxudmFyIE5vREJQYXRoR2l2ZW4gPSBjcmVhdGVDdXN0b21FcnJvckNsYXNzKFwiTm9EQlBhdGhHaXZlblwiKTtcclxudmFyIERCV3JvbmdQYXNzd29yZCA9IGNyZWF0ZUN1c3RvbUVycm9yQ2xhc3MoXCJEQldyb25nUGFzc3dvcmRcIik7XHJcbnZhciBEQk5vdFJlc2V0ID0gY3JlYXRlQ3VzdG9tRXJyb3JDbGFzcyhcIkRCTm90UmVzZXRcIik7XHJcbi8qKlxyXG4gKiBUcmFuc3BvcnRFcnJvciBpcyB1c2VkIGZvciBhbnkgZ2VuZXJpYyB0cmFuc3BvcnQgZXJyb3JzLlxyXG4gKiBlLmcuIEVycm9yIHRocm93biB3aGVuIGRhdGEgcmVjZWl2ZWQgYnkgZXhjaGFuZ2VzIGFyZSBpbmNvcnJlY3Qgb3IgaWYgZXhjaGFuZ2VkIGZhaWxlZCB0byBjb21tdW5pY2F0ZSB3aXRoIHRoZSBkZXZpY2UgZm9yIHZhcmlvdXMgcmVhc29uLlxyXG4gKi9cclxuZnVuY3Rpb24gVHJhbnNwb3J0RXJyb3IobWVzc2FnZSwgaWQpIHtcclxuICAgIHRoaXMubmFtZSA9IFwiVHJhbnNwb3J0RXJyb3JcIjtcclxuICAgIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XHJcbiAgICB0aGlzLnN0YWNrID0gbmV3IEVycm9yKCkuc3RhY2s7XHJcbiAgICB0aGlzLmlkID0gaWQ7XHJcbn1cclxuVHJhbnNwb3J0RXJyb3IucHJvdG90eXBlID0gbmV3IEVycm9yKCk7XHJcbmFkZEN1c3RvbUVycm9yRGVzZXJpYWxpemVyKFwiVHJhbnNwb3J0RXJyb3JcIiwgZnVuY3Rpb24gKGUpIHsgcmV0dXJuIG5ldyBUcmFuc3BvcnRFcnJvcihlLm1lc3NhZ2UsIGUuaWQpOyB9KTtcclxudmFyIFN0YXR1c0NvZGVzID0ge1xyXG4gICAgUElOX1JFTUFJTklOR19BVFRFTVBUUzogMHg2M2MwLFxyXG4gICAgSU5DT1JSRUNUX0xFTkdUSDogMHg2NzAwLFxyXG4gICAgTUlTU0lOR19DUklUSUNBTF9QQVJBTUVURVI6IDB4NjgwMCxcclxuICAgIENPTU1BTkRfSU5DT01QQVRJQkxFX0ZJTEVfU1RSVUNUVVJFOiAweDY5ODEsXHJcbiAgICBTRUNVUklUWV9TVEFUVVNfTk9UX1NBVElTRklFRDogMHg2OTgyLFxyXG4gICAgQ09ORElUSU9OU19PRl9VU0VfTk9UX1NBVElTRklFRDogMHg2OTg1LFxyXG4gICAgSU5DT1JSRUNUX0RBVEE6IDB4NmE4MCxcclxuICAgIE5PVF9FTk9VR0hfTUVNT1JZX1NQQUNFOiAweDZhODQsXHJcbiAgICBSRUZFUkVOQ0VEX0RBVEFfTk9UX0ZPVU5EOiAweDZhODgsXHJcbiAgICBGSUxFX0FMUkVBRFlfRVhJU1RTOiAweDZhODksXHJcbiAgICBJTkNPUlJFQ1RfUDFfUDI6IDB4NmIwMCxcclxuICAgIElOU19OT1RfU1VQUE9SVEVEOiAweDZkMDAsXHJcbiAgICBDTEFfTk9UX1NVUFBPUlRFRDogMHg2ZTAwLFxyXG4gICAgVEVDSE5JQ0FMX1BST0JMRU06IDB4NmYwMCxcclxuICAgIE9LOiAweDkwMDAsXHJcbiAgICBNRU1PUllfUFJPQkxFTTogMHg5MjQwLFxyXG4gICAgTk9fRUZfU0VMRUNURUQ6IDB4OTQwMCxcclxuICAgIElOVkFMSURfT0ZGU0VUOiAweDk0MDIsXHJcbiAgICBGSUxFX05PVF9GT1VORDogMHg5NDA0LFxyXG4gICAgSU5DT05TSVNURU5UX0ZJTEU6IDB4OTQwOCxcclxuICAgIEFMR09SSVRITV9OT1RfU1VQUE9SVEVEOiAweDk0ODQsXHJcbiAgICBJTlZBTElEX0tDVjogMHg5NDg1LFxyXG4gICAgQ09ERV9OT1RfSU5JVElBTElaRUQ6IDB4OTgwMixcclxuICAgIEFDQ0VTU19DT05ESVRJT05fTk9UX0ZVTEZJTExFRDogMHg5ODA0LFxyXG4gICAgQ09OVFJBRElDVElPTl9TRUNSRVRfQ09ERV9TVEFUVVM6IDB4OTgwOCxcclxuICAgIENPTlRSQURJQ1RJT05fSU5WQUxJREFUSU9OOiAweDk4MTAsXHJcbiAgICBDT0RFX0JMT0NLRUQ6IDB4OTg0MCxcclxuICAgIE1BWF9WQUxVRV9SRUFDSEVEOiAweDk4NTAsXHJcbiAgICBHUF9BVVRIX0ZBSUxFRDogMHg2MzAwLFxyXG4gICAgTElDRU5TSU5HOiAweDZmNDIsXHJcbiAgICBIQUxURUQ6IDB4NmZhYSxcclxufTtcclxuZnVuY3Rpb24gZ2V0QWx0U3RhdHVzTWVzc2FnZShjb2RlKSB7XHJcbiAgICBzd2l0Y2ggKGNvZGUpIHtcclxuICAgICAgICAvLyBpbXByb3ZlIHRleHQgb2YgbW9zdCBjb21tb24gZXJyb3JzXHJcbiAgICAgICAgY2FzZSAweDY3MDA6XHJcbiAgICAgICAgICAgIHJldHVybiBcIkluY29ycmVjdCBsZW5ndGhcIjtcclxuICAgICAgICBjYXNlIDB4NjgwMDpcclxuICAgICAgICAgICAgcmV0dXJuIFwiTWlzc2luZyBjcml0aWNhbCBwYXJhbWV0ZXJcIjtcclxuICAgICAgICBjYXNlIDB4Njk4MjpcclxuICAgICAgICAgICAgcmV0dXJuIFwiU2VjdXJpdHkgbm90IHNhdGlzZmllZCAoZG9uZ2xlIGxvY2tlZCBvciBoYXZlIGludmFsaWQgYWNjZXNzIHJpZ2h0cylcIjtcclxuICAgICAgICBjYXNlIDB4Njk4NTpcclxuICAgICAgICAgICAgcmV0dXJuIFwiQ29uZGl0aW9uIG9mIHVzZSBub3Qgc2F0aXNmaWVkIChkZW5pZWQgYnkgdGhlIHVzZXI/KVwiO1xyXG4gICAgICAgIGNhc2UgMHg2YTgwOlxyXG4gICAgICAgICAgICByZXR1cm4gXCJJbnZhbGlkIGRhdGEgcmVjZWl2ZWRcIjtcclxuICAgICAgICBjYXNlIDB4NmIwMDpcclxuICAgICAgICAgICAgcmV0dXJuIFwiSW52YWxpZCBwYXJhbWV0ZXIgcmVjZWl2ZWRcIjtcclxuICAgIH1cclxuICAgIGlmICgweDZmMDAgPD0gY29kZSAmJiBjb2RlIDw9IDB4NmZmZikge1xyXG4gICAgICAgIHJldHVybiBcIkludGVybmFsIGVycm9yLCBwbGVhc2UgcmVwb3J0XCI7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIEVycm9yIHRocm93biB3aGVuIGEgZGV2aWNlIHJldHVybmVkIGEgbm9uIHN1Y2Nlc3Mgc3RhdHVzLlxyXG4gKiB0aGUgZXJyb3Iuc3RhdHVzQ29kZSBpcyBvbmUgb2YgdGhlIGBTdGF0dXNDb2Rlc2AgZXhwb3J0ZWQgYnkgdGhpcyBsaWJyYXJ5LlxyXG4gKi9cclxuZnVuY3Rpb24gVHJhbnNwb3J0U3RhdHVzRXJyb3Ioc3RhdHVzQ29kZSkge1xyXG4gICAgdGhpcy5uYW1lID0gXCJUcmFuc3BvcnRTdGF0dXNFcnJvclwiO1xyXG4gICAgdmFyIHN0YXR1c1RleHQgPSBPYmplY3Qua2V5cyhTdGF0dXNDb2RlcykuZmluZChmdW5jdGlvbiAoaykgeyByZXR1cm4gU3RhdHVzQ29kZXNba10gPT09IHN0YXR1c0NvZGU7IH0pIHx8XHJcbiAgICAgICAgXCJVTktOT1dOX0VSUk9SXCI7XHJcbiAgICB2YXIgc21zZyA9IGdldEFsdFN0YXR1c01lc3NhZ2Uoc3RhdHVzQ29kZSkgfHwgc3RhdHVzVGV4dDtcclxuICAgIHZhciBzdGF0dXNDb2RlU3RyID0gc3RhdHVzQ29kZS50b1N0cmluZygxNik7XHJcbiAgICB0aGlzLm1lc3NhZ2UgPSBcIkxlZGdlciBkZXZpY2U6IFwiICsgc21zZyArIFwiICgweFwiICsgc3RhdHVzQ29kZVN0ciArIFwiKVwiO1xyXG4gICAgdGhpcy5zdGFjayA9IG5ldyBFcnJvcigpLnN0YWNrO1xyXG4gICAgdGhpcy5zdGF0dXNDb2RlID0gc3RhdHVzQ29kZTtcclxuICAgIHRoaXMuc3RhdHVzVGV4dCA9IHN0YXR1c1RleHQ7XHJcbn1cclxuVHJhbnNwb3J0U3RhdHVzRXJyb3IucHJvdG90eXBlID0gbmV3IEVycm9yKCk7XHJcbmFkZEN1c3RvbUVycm9yRGVzZXJpYWxpemVyKFwiVHJhbnNwb3J0U3RhdHVzRXJyb3JcIiwgZnVuY3Rpb24gKGUpIHsgcmV0dXJuIG5ldyBUcmFuc3BvcnRTdGF0dXNFcnJvcihlLnN0YXR1c0NvZGUpOyB9KTtcblxuZXhwb3J0IHsgQWNjb3VudE5hbWVSZXF1aXJlZEVycm9yLCBBY2NvdW50Tm90U3VwcG9ydGVkLCBBbW91bnRSZXF1aXJlZCwgQmx1ZXRvb3RoUmVxdWlyZWQsIEJ0Y1VubWF0Y2hlZEFwcCwgQ2FudE9wZW5EZXZpY2UsIENhbnRTY2FuUVJDb2RlLCBDYXNoQWRkck5vdFN1cHBvcnRlZCwgQ3VycmVuY3lOb3RTdXBwb3J0ZWQsIERCTm90UmVzZXQsIERCV3JvbmdQYXNzd29yZCwgRGV2aWNlQXBwVmVyaWZ5Tm90U3VwcG9ydGVkLCBEZXZpY2VHZW51aW5lU29ja2V0RWFybHlDbG9zZSwgRGV2aWNlSGFsdGVkLCBEZXZpY2VJbk9TVUV4cGVjdGVkLCBEZXZpY2VOYW1lSW52YWxpZCwgRGV2aWNlTm90R2VudWluZUVycm9yLCBEZXZpY2VPbkRhc2hib2FyZEV4cGVjdGVkLCBEZXZpY2VPbkRhc2hib2FyZFVuZXhwZWN0ZWQsIERldmljZVNob3VsZFN0YXlJbkFwcCwgRGV2aWNlU29ja2V0RmFpbCwgRGV2aWNlU29ja2V0Tm9CdWxrU3RhdHVzLCBEaXNjb25uZWN0ZWREZXZpY2UsIERpc2Nvbm5lY3RlZERldmljZUR1cmluZ09wZXJhdGlvbiwgRVRIQWRkcmVzc05vbkVJUCwgRW5wb2ludENvbmZpZ0Vycm9yLCBFdGhBcHBQbGVhc2VFbmFibGVDb250cmFjdERhdGEsIEZlZUVzdGltYXRpb25GYWlsZWQsIEZlZU5vdExvYWRlZCwgRmVlUmVxdWlyZWQsIEZlZVRvb0hpZ2gsIEZpcm13YXJlTm90UmVjb2duaXplZCwgRmlybXdhcmVPckFwcFVwZGF0ZVJlcXVpcmVkLCBHYXNMZXNzVGhhbkVzdGltYXRlLCBHZW51aW5lQ2hlY2tGYWlsZWQsIEhhcmRSZXNldEZhaWwsIEludmFsaWRBZGRyZXNzLCBJbnZhbGlkQWRkcmVzc0JlY2F1c2VEZXN0aW5hdGlvbklzQWxzb1NvdXJjZSwgSW52YWxpZFhSUFRhZywgTGF0ZXN0TUNVSW5zdGFsbGVkRXJyb3IsIExlZGdlckFQSTR4eCwgTGVkZ2VyQVBJNXh4LCBMZWRnZXJBUElFcnJvciwgTGVkZ2VyQVBJRXJyb3JXaXRoTWVzc2FnZSwgTGVkZ2VyQVBJTm90QXZhaWxhYmxlLCBNQ1VOb3RHZW51aW5lVG9EYXNoYm9hcmQsIE1hbmFnZXJBcHBBbHJlYWR5SW5zdGFsbGVkRXJyb3IsIE1hbmFnZXJBcHBEZXBJbnN0YWxsUmVxdWlyZWQsIE1hbmFnZXJBcHBEZXBVbmluc3RhbGxSZXF1aXJlZCwgTWFuYWdlckFwcFJlbHlPbkJUQ0Vycm9yLCBNYW5hZ2VyRGV2aWNlTG9ja2VkRXJyb3IsIE1hbmFnZXJGaXJtd2FyZU5vdEVub3VnaFNwYWNlRXJyb3IsIE1hbmFnZXJOb3RFbm91Z2hTcGFjZUVycm9yLCBNYW5hZ2VyVW5pbnN0YWxsQlRDRGVwLCBOZXR3b3JrRG93biwgTm9BY2Nlc3NUb0NhbWVyYSwgTm9BZGRyZXNzZXNGb3VuZCwgTm9EQlBhdGhHaXZlbiwgTm90RW5vdWdoQmFsYW5jZSwgTm90RW5vdWdoQmFsYW5jZUJlY2F1c2VEZXN0aW5hdGlvbk5vdENyZWF0ZWQsIE5vdEVub3VnaEJhbGFuY2VJblBhcmVudEFjY291bnQsIE5vdEVub3VnaEJhbGFuY2VUb0RlbGVnYXRlLCBOb3RFbm91Z2hHYXMsIE5vdEVub3VnaFNwZW5kYWJsZUJhbGFuY2UsIE5vdFN1cHBvcnRlZExlZ2FjeUFkZHJlc3MsIFBhaXJpbmdGYWlsZWQsIFBhc3N3b3JkSW5jb3JyZWN0RXJyb3IsIFBhc3N3b3Jkc0RvbnRNYXRjaEVycm9yLCBSZWNpcGllbnRSZXF1aXJlZCwgUmVjb21tZW5kU3ViQWNjb3VudHNUb0VtcHR5LCBSZWNvbW1lbmRVbmRlbGVnYXRpb24sIFN0YXR1c0NvZGVzLCBTeW5jRXJyb3IsIFRpbWVvdXRUYWdnZWQsIFRyYW5zcG9ydEVycm9yLCBUcmFuc3BvcnRJbnRlcmZhY2VOb3RBdmFpbGFibGUsIFRyYW5zcG9ydE9wZW5Vc2VyQ2FuY2VsbGVkLCBUcmFuc3BvcnRSYWNlQ29uZGl0aW9uLCBUcmFuc3BvcnRTdGF0dXNFcnJvciwgVHJhbnNwb3J0V2ViVVNCR2VzdHVyZVJlcXVpcmVkLCBVbmF2YWlsYWJsZVRlem9zT3JpZ2luYXRlZEFjY291bnRSZWNlaXZlLCBVbmF2YWlsYWJsZVRlem9zT3JpZ2luYXRlZEFjY291bnRTZW5kLCBVbmV4cGVjdGVkQm9vdGxvYWRlciwgVW5rbm93bk1DVSwgVXBkYXRlRmV0Y2hGaWxlRmFpbCwgVXBkYXRlSW5jb3JyZWN0SGFzaCwgVXBkYXRlSW5jb3JyZWN0U2lnLCBVcGRhdGVZb3VyQXBwLCBVc2VyUmVmdXNlZEFkZHJlc3MsIFVzZXJSZWZ1c2VkQWxsb3dNYW5hZ2VyLCBVc2VyUmVmdXNlZERldmljZU5hbWVDaGFuZ2UsIFVzZXJSZWZ1c2VkRmlybXdhcmVVcGRhdGUsIFVzZXJSZWZ1c2VkT25EZXZpY2UsIFdlYnNvY2tldENvbm5lY3Rpb25FcnJvciwgV2Vic29ja2V0Q29ubmVjdGlvbkZhaWxlZCwgV3JvbmdBcHBGb3JDdXJyZW5jeSwgV3JvbmdEZXZpY2VGb3JBY2NvdW50LCBhZGRDdXN0b21FcnJvckRlc2VyaWFsaXplciwgY3JlYXRlQ3VzdG9tRXJyb3JDbGFzcywgZGVzZXJpYWxpemVFcnJvciwgZ2V0QWx0U3RhdHVzTWVzc2FnZSwgc2VyaWFsaXplRXJyb3IgfTtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///a8fc\n')},bd42:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return log; });\n/* unused harmony export listen */\n/**\n * A Log object\n */\nlet id = 0;\nconst subscribers = [];\n/**\n * log something\n * @param type a namespaced identifier of the log (it is not a level like "debug", "error" but more like "apdu-in", "apdu-out", etc...)\n * @param message a clear message of the log associated to the type\n */\n\nconst log = (type, message, data) => {\n  const obj = {\n    type,\n    id: String(++id),\n    date: new Date()\n  };\n  if (message) obj.message = message;\n  if (data) obj.data = data;\n  dispatch(obj);\n};\n/**\n * listen to logs.\n * @param cb that is called for each future log() with the Log object\n * @return a function that can be called to unsubscribe the listener\n */\n\nconst listen = cb => {\n  subscribers.push(cb);\n  return () => {\n    const i = subscribers.indexOf(cb);\n\n    if (i !== -1) {\n      // equivalent of subscribers.splice(i, 1) // https://twitter.com/Rich_Harris/status/1125850391155965952\n      subscribers[i] = subscribers[subscribers.length - 1];\n      subscribers.pop();\n    }\n  };\n};\n\nfunction dispatch(log) {\n  for (let i = 0; i < subscribers.length; i++) {\n    try {\n      subscribers[i](log);\n    } catch (e) {\n      console.error(e);\n    }\n  }\n} // for debug purpose\n\n\nif (typeof window !== "undefined") {\n  window.__ledgerLogsListen = listen;\n}\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGxlZGdlcmhxL2xvZ3MvbGliLWVzL2luZGV4LmpzP2JkNDIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFTztBQUNQO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGlCQUFpQix3QkFBd0I7QUFDekM7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxDQUFDOzs7QUFHRDtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJiZDQyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBBIExvZyBvYmplY3RcbiAqL1xubGV0IGlkID0gMDtcbmNvbnN0IHN1YnNjcmliZXJzID0gW107XG4vKipcbiAqIGxvZyBzb21ldGhpbmdcbiAqIEBwYXJhbSB0eXBlIGEgbmFtZXNwYWNlZCBpZGVudGlmaWVyIG9mIHRoZSBsb2cgKGl0IGlzIG5vdCBhIGxldmVsIGxpa2UgXCJkZWJ1Z1wiLCBcImVycm9yXCIgYnV0IG1vcmUgbGlrZSBcImFwZHUtaW5cIiwgXCJhcGR1LW91dFwiLCBldGMuLi4pXG4gKiBAcGFyYW0gbWVzc2FnZSBhIGNsZWFyIG1lc3NhZ2Ugb2YgdGhlIGxvZyBhc3NvY2lhdGVkIHRvIHRoZSB0eXBlXG4gKi9cblxuZXhwb3J0IGNvbnN0IGxvZyA9ICh0eXBlLCBtZXNzYWdlLCBkYXRhKSA9PiB7XG4gIGNvbnN0IG9iaiA9IHtcbiAgICB0eXBlLFxuICAgIGlkOiBTdHJpbmcoKytpZCksXG4gICAgZGF0ZTogbmV3IERhdGUoKVxuICB9O1xuICBpZiAobWVzc2FnZSkgb2JqLm1lc3NhZ2UgPSBtZXNzYWdlO1xuICBpZiAoZGF0YSkgb2JqLmRhdGEgPSBkYXRhO1xuICBkaXNwYXRjaChvYmopO1xufTtcbi8qKlxuICogbGlzdGVuIHRvIGxvZ3MuXG4gKiBAcGFyYW0gY2IgdGhhdCBpcyBjYWxsZWQgZm9yIGVhY2ggZnV0dXJlIGxvZygpIHdpdGggdGhlIExvZyBvYmplY3RcbiAqIEByZXR1cm4gYSBmdW5jdGlvbiB0aGF0IGNhbiBiZSBjYWxsZWQgdG8gdW5zdWJzY3JpYmUgdGhlIGxpc3RlbmVyXG4gKi9cblxuZXhwb3J0IGNvbnN0IGxpc3RlbiA9IGNiID0+IHtcbiAgc3Vic2NyaWJlcnMucHVzaChjYik7XG4gIHJldHVybiAoKSA9PiB7XG4gICAgY29uc3QgaSA9IHN1YnNjcmliZXJzLmluZGV4T2YoY2IpO1xuXG4gICAgaWYgKGkgIT09IC0xKSB7XG4gICAgICAvLyBlcXVpdmFsZW50IG9mIHN1YnNjcmliZXJzLnNwbGljZShpLCAxKSAvLyBodHRwczovL3R3aXR0ZXIuY29tL1JpY2hfSGFycmlzL3N0YXR1cy8xMTI1ODUwMzkxMTU1OTY1OTUyXG4gICAgICBzdWJzY3JpYmVyc1tpXSA9IHN1YnNjcmliZXJzW3N1YnNjcmliZXJzLmxlbmd0aCAtIDFdO1xuICAgICAgc3Vic2NyaWJlcnMucG9wKCk7XG4gICAgfVxuICB9O1xufTtcblxuZnVuY3Rpb24gZGlzcGF0Y2gobG9nKSB7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgc3Vic2NyaWJlcnMubGVuZ3RoOyBpKyspIHtcbiAgICB0cnkge1xuICAgICAgc3Vic2NyaWJlcnNbaV0obG9nKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGUpO1xuICAgIH1cbiAgfVxufSAvLyBmb3IgZGVidWcgcHVycG9zZVxuXG5cbmlmICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gIHdpbmRvdy5fX2xlZGdlckxvZ3NMaXN0ZW4gPSBsaXN0ZW47XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///bd42\n')},d418:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(Buffer) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return TransportU2F; });\n/* harmony import */ var u2f_api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("d5cf");\n/* harmony import */ var u2f_api__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(u2f_api__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _ledgerhq_hw_transport__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("f685");\n/* harmony import */ var _ledgerhq_logs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("bd42");\n/* harmony import */ var _ledgerhq_errors__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("a8fc");\n\n\n\n\n\nfunction wrapU2FTransportError(originalError, message, id) {\n  const err = new _ledgerhq_errors__WEBPACK_IMPORTED_MODULE_3__[/* TransportError */ "c"](message, id); // $FlowFixMe\n\n  err.originalError = originalError;\n  return err;\n}\n\nfunction wrapApdu(apdu, key) {\n  const result = Buffer.alloc(apdu.length);\n\n  for (let i = 0; i < apdu.length; i++) {\n    result[i] = apdu[i] ^ key[i % key.length];\n  }\n\n  return result;\n} // Convert from normal to web-safe, strip trailing "="s\n\n\nconst webSafe64 = base64 => base64.replace(/\\+/g, "-").replace(/\\//g, "_").replace(/=+$/, ""); // Convert from web-safe to normal, add trailing "="s\n\n\nconst normal64 = base64 => base64.replace(/-/g, "+").replace(/_/g, "/") + "==".substring(0, 3 * base64.length % 4);\n\nfunction attemptExchange(apdu, timeoutMillis, scrambleKey, unwrap) {\n  const keyHandle = wrapApdu(apdu, scrambleKey);\n  const challenge = Buffer.from("0000000000000000000000000000000000000000000000000000000000000000", "hex");\n  const signRequest = {\n    version: "U2F_V2",\n    keyHandle: webSafe64(keyHandle.toString("base64")),\n    challenge: webSafe64(challenge.toString("base64")),\n    appId: location.origin\n  };\n  Object(_ledgerhq_logs__WEBPACK_IMPORTED_MODULE_2__[/* log */ "a"])("apdu", "=> " + apdu.toString("hex"));\n  return Object(u2f_api__WEBPACK_IMPORTED_MODULE_0__["sign"])(signRequest, timeoutMillis / 1000).then(response => {\n    const {\n      signatureData\n    } = response;\n\n    if (typeof signatureData === "string") {\n      const data = Buffer.from(normal64(signatureData), "base64");\n      let result;\n\n      if (!unwrap) {\n        result = data;\n      } else {\n        result = data.slice(5);\n      }\n\n      Object(_ledgerhq_logs__WEBPACK_IMPORTED_MODULE_2__[/* log */ "a"])("apdu", "<= " + result.toString("hex"));\n      return result;\n    } else {\n      throw response;\n    }\n  });\n}\n\nlet transportInstances = [];\n\nfunction emitDisconnect() {\n  transportInstances.forEach(t => t.emit("disconnect"));\n  transportInstances = [];\n}\n\nfunction isTimeoutU2FError(u2fError) {\n  return u2fError.metaData.code === 5;\n}\n/**\n * U2F web Transport implementation\n * @example\n * import TransportU2F from "@ledgerhq/hw-transport-u2f";\n * ...\n * TransportU2F.create().then(transport => ...)\n */\n\n\nclass TransportU2F extends _ledgerhq_hw_transport__WEBPACK_IMPORTED_MODULE_1__[/* default */ "a"] {\n  /*\n   */\n\n  /*\n   */\n\n  /**\n   * static function to create a new Transport from a connected Ledger device discoverable via U2F (browser support)\n   */\n  static async open(_, _openTimeout = 5000) {\n    return new TransportU2F();\n  }\n\n  constructor() {\n    super();\n    this.scrambleKey = void 0;\n    this.unwrap = true;\n    transportInstances.push(this);\n  }\n  /**\n   * Exchange with the device using APDU protocol.\n   * @param apdu\n   * @returns a promise of apdu response\n   */\n\n\n  async exchange(apdu) {\n    try {\n      return await attemptExchange(apdu, this.exchangeTimeout, this.scrambleKey, this.unwrap);\n    } catch (e) {\n      const isU2FError = typeof e.metaData === "object";\n\n      if (isU2FError) {\n        if (isTimeoutU2FError(e)) {\n          emitDisconnect();\n        } // the wrapping make error more usable and "printable" to the end user.\n\n\n        throw wrapU2FTransportError(e, "Failed to sign with Ledger device: U2F " + e.metaData.type, "U2F_" + e.metaData.code);\n      } else {\n        throw e;\n      }\n    }\n  }\n  /**\n   */\n\n\n  setScrambleKey(scrambleKey) {\n    this.scrambleKey = Buffer.from(scrambleKey, "ascii");\n  }\n  /**\n   */\n\n\n  setUnwrap(unwrap) {\n    this.unwrap = unwrap;\n  }\n\n  close() {\n    // u2f have no way to clean things up\n    return Promise.resolve();\n  }\n\n}\nTransportU2F.isSupported = u2f_api__WEBPACK_IMPORTED_MODULE_0__["isSupported"];\n\nTransportU2F.list = () => // this transport is not discoverable but we are going to guess if it is here with isSupported()\nObject(u2f_api__WEBPACK_IMPORTED_MODULE_0__["isSupported"])().then(supported => supported ? [null] : []);\n\nTransportU2F.listen = observer => {\n  let unsubscribed = false;\n  Object(u2f_api__WEBPACK_IMPORTED_MODULE_0__["isSupported"])().then(supported => {\n    if (unsubscribed) return;\n\n    if (supported) {\n      observer.next({\n        type: "add",\n        descriptor: null\n      });\n      observer.complete();\n    } else {\n      observer.error(new _ledgerhq_errors__WEBPACK_IMPORTED_MODULE_3__[/* TransportError */ "c"]("U2F browser support is needed for Ledger. " + "Please use Chrome, Opera or Firefox with a U2F extension. " + "Also make sure you\'re on an HTTPS connection", "U2FNotSupported"));\n    }\n  });\n  return {\n    unsubscribe: () => {\n      unsubscribed = true;\n    }\n  };\n};\n//# sourceMappingURL=TransportU2F.js.map\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("1c35").Buffer))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGxlZGdlcmhxL2h3LXRyYW5zcG9ydC11MmYvbGliLWVzL1RyYW5zcG9ydFUyRi5qcz9kNDE4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQTRDO0FBQ0c7QUFDVjtBQUNhOztBQUVsRDtBQUNBLGtCQUFrQix1RUFBYyxjQUFjOztBQUU5QztBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxpQkFBaUIsaUJBQWlCO0FBQ2xDO0FBQ0E7O0FBRUE7QUFDQSxDQUFDOzs7QUFHRCw4RkFBOEY7OztBQUc5Rjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFLGtFQUFHO0FBQ0wsU0FBUyxvREFBSTtBQUNiO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7O0FBRUEsTUFBTSxrRUFBRztBQUNUO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdlLDJCQUEyQixzRUFBUztBQUNuRDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxTQUFTOzs7QUFHVDtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDJCQUEyQixtREFBVzs7QUFFdEM7QUFDQSwyREFBVzs7QUFFWDtBQUNBO0FBQ0EsRUFBRSwyREFBVztBQUNiOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsS0FBSztBQUNMLHlCQUF5Qix1RUFBYztBQUN2QztBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QyIsImZpbGUiOiJkNDE4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgc2lnbiwgaXNTdXBwb3J0ZWQgfSBmcm9tIFwidTJmLWFwaVwiO1xuaW1wb3J0IFRyYW5zcG9ydCBmcm9tIFwiQGxlZGdlcmhxL2h3LXRyYW5zcG9ydFwiO1xuaW1wb3J0IHsgbG9nIH0gZnJvbSBcIkBsZWRnZXJocS9sb2dzXCI7XG5pbXBvcnQgeyBUcmFuc3BvcnRFcnJvciB9IGZyb20gXCJAbGVkZ2VyaHEvZXJyb3JzXCI7XG5cbmZ1bmN0aW9uIHdyYXBVMkZUcmFuc3BvcnRFcnJvcihvcmlnaW5hbEVycm9yLCBtZXNzYWdlLCBpZCkge1xuICBjb25zdCBlcnIgPSBuZXcgVHJhbnNwb3J0RXJyb3IobWVzc2FnZSwgaWQpOyAvLyAkRmxvd0ZpeE1lXG5cbiAgZXJyLm9yaWdpbmFsRXJyb3IgPSBvcmlnaW5hbEVycm9yO1xuICByZXR1cm4gZXJyO1xufVxuXG5mdW5jdGlvbiB3cmFwQXBkdShhcGR1LCBrZXkpIHtcbiAgY29uc3QgcmVzdWx0ID0gQnVmZmVyLmFsbG9jKGFwZHUubGVuZ3RoKTtcblxuICBmb3IgKGxldCBpID0gMDsgaSA8IGFwZHUubGVuZ3RoOyBpKyspIHtcbiAgICByZXN1bHRbaV0gPSBhcGR1W2ldIF4ga2V5W2kgJSBrZXkubGVuZ3RoXTtcbiAgfVxuXG4gIHJldHVybiByZXN1bHQ7XG59IC8vIENvbnZlcnQgZnJvbSBub3JtYWwgdG8gd2ViLXNhZmUsIHN0cmlwIHRyYWlsaW5nIFwiPVwic1xuXG5cbmNvbnN0IHdlYlNhZmU2NCA9IGJhc2U2NCA9PiBiYXNlNjQucmVwbGFjZSgvXFwrL2csIFwiLVwiKS5yZXBsYWNlKC9cXC8vZywgXCJfXCIpLnJlcGxhY2UoLz0rJC8sIFwiXCIpOyAvLyBDb252ZXJ0IGZyb20gd2ViLXNhZmUgdG8gbm9ybWFsLCBhZGQgdHJhaWxpbmcgXCI9XCJzXG5cblxuY29uc3Qgbm9ybWFsNjQgPSBiYXNlNjQgPT4gYmFzZTY0LnJlcGxhY2UoLy0vZywgXCIrXCIpLnJlcGxhY2UoL18vZywgXCIvXCIpICsgXCI9PVwiLnN1YnN0cmluZygwLCAzICogYmFzZTY0Lmxlbmd0aCAlIDQpO1xuXG5mdW5jdGlvbiBhdHRlbXB0RXhjaGFuZ2UoYXBkdSwgdGltZW91dE1pbGxpcywgc2NyYW1ibGVLZXksIHVud3JhcCkge1xuICBjb25zdCBrZXlIYW5kbGUgPSB3cmFwQXBkdShhcGR1LCBzY3JhbWJsZUtleSk7XG4gIGNvbnN0IGNoYWxsZW5nZSA9IEJ1ZmZlci5mcm9tKFwiMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMFwiLCBcImhleFwiKTtcbiAgY29uc3Qgc2lnblJlcXVlc3QgPSB7XG4gICAgdmVyc2lvbjogXCJVMkZfVjJcIixcbiAgICBrZXlIYW5kbGU6IHdlYlNhZmU2NChrZXlIYW5kbGUudG9TdHJpbmcoXCJiYXNlNjRcIikpLFxuICAgIGNoYWxsZW5nZTogd2ViU2FmZTY0KGNoYWxsZW5nZS50b1N0cmluZyhcImJhc2U2NFwiKSksXG4gICAgYXBwSWQ6IGxvY2F0aW9uLm9yaWdpblxuICB9O1xuICBsb2coXCJhcGR1XCIsIFwiPT4gXCIgKyBhcGR1LnRvU3RyaW5nKFwiaGV4XCIpKTtcbiAgcmV0dXJuIHNpZ24oc2lnblJlcXVlc3QsIHRpbWVvdXRNaWxsaXMgLyAxMDAwKS50aGVuKHJlc3BvbnNlID0+IHtcbiAgICBjb25zdCB7XG4gICAgICBzaWduYXR1cmVEYXRhXG4gICAgfSA9IHJlc3BvbnNlO1xuXG4gICAgaWYgKHR5cGVvZiBzaWduYXR1cmVEYXRhID09PSBcInN0cmluZ1wiKSB7XG4gICAgICBjb25zdCBkYXRhID0gQnVmZmVyLmZyb20obm9ybWFsNjQoc2lnbmF0dXJlRGF0YSksIFwiYmFzZTY0XCIpO1xuICAgICAgbGV0IHJlc3VsdDtcblxuICAgICAgaWYgKCF1bndyYXApIHtcbiAgICAgICAgcmVzdWx0ID0gZGF0YTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdCA9IGRhdGEuc2xpY2UoNSk7XG4gICAgICB9XG5cbiAgICAgIGxvZyhcImFwZHVcIiwgXCI8PSBcIiArIHJlc3VsdC50b1N0cmluZyhcImhleFwiKSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyByZXNwb25zZTtcbiAgICB9XG4gIH0pO1xufVxuXG5sZXQgdHJhbnNwb3J0SW5zdGFuY2VzID0gW107XG5cbmZ1bmN0aW9uIGVtaXREaXNjb25uZWN0KCkge1xuICB0cmFuc3BvcnRJbnN0YW5jZXMuZm9yRWFjaCh0ID0+IHQuZW1pdChcImRpc2Nvbm5lY3RcIikpO1xuICB0cmFuc3BvcnRJbnN0YW5jZXMgPSBbXTtcbn1cblxuZnVuY3Rpb24gaXNUaW1lb3V0VTJGRXJyb3IodTJmRXJyb3IpIHtcbiAgcmV0dXJuIHUyZkVycm9yLm1ldGFEYXRhLmNvZGUgPT09IDU7XG59XG4vKipcbiAqIFUyRiB3ZWIgVHJhbnNwb3J0IGltcGxlbWVudGF0aW9uXG4gKiBAZXhhbXBsZVxuICogaW1wb3J0IFRyYW5zcG9ydFUyRiBmcm9tIFwiQGxlZGdlcmhxL2h3LXRyYW5zcG9ydC11MmZcIjtcbiAqIC4uLlxuICogVHJhbnNwb3J0VTJGLmNyZWF0ZSgpLnRoZW4odHJhbnNwb3J0ID0+IC4uLilcbiAqL1xuXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRyYW5zcG9ydFUyRiBleHRlbmRzIFRyYW5zcG9ydCB7XG4gIC8qXG4gICAqL1xuXG4gIC8qXG4gICAqL1xuXG4gIC8qKlxuICAgKiBzdGF0aWMgZnVuY3Rpb24gdG8gY3JlYXRlIGEgbmV3IFRyYW5zcG9ydCBmcm9tIGEgY29ubmVjdGVkIExlZGdlciBkZXZpY2UgZGlzY292ZXJhYmxlIHZpYSBVMkYgKGJyb3dzZXIgc3VwcG9ydClcbiAgICovXG4gIHN0YXRpYyBhc3luYyBvcGVuKF8sIF9vcGVuVGltZW91dCA9IDUwMDApIHtcbiAgICByZXR1cm4gbmV3IFRyYW5zcG9ydFUyRigpO1xuICB9XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLnNjcmFtYmxlS2V5ID0gdm9pZCAwO1xuICAgIHRoaXMudW53cmFwID0gdHJ1ZTtcbiAgICB0cmFuc3BvcnRJbnN0YW5jZXMucHVzaCh0aGlzKTtcbiAgfVxuICAvKipcbiAgICogRXhjaGFuZ2Ugd2l0aCB0aGUgZGV2aWNlIHVzaW5nIEFQRFUgcHJvdG9jb2wuXG4gICAqIEBwYXJhbSBhcGR1XG4gICAqIEByZXR1cm5zIGEgcHJvbWlzZSBvZiBhcGR1IHJlc3BvbnNlXG4gICAqL1xuXG5cbiAgYXN5bmMgZXhjaGFuZ2UoYXBkdSkge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gYXdhaXQgYXR0ZW1wdEV4Y2hhbmdlKGFwZHUsIHRoaXMuZXhjaGFuZ2VUaW1lb3V0LCB0aGlzLnNjcmFtYmxlS2V5LCB0aGlzLnVud3JhcCk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgY29uc3QgaXNVMkZFcnJvciA9IHR5cGVvZiBlLm1ldGFEYXRhID09PSBcIm9iamVjdFwiO1xuXG4gICAgICBpZiAoaXNVMkZFcnJvcikge1xuICAgICAgICBpZiAoaXNUaW1lb3V0VTJGRXJyb3IoZSkpIHtcbiAgICAgICAgICBlbWl0RGlzY29ubmVjdCgpO1xuICAgICAgICB9IC8vIHRoZSB3cmFwcGluZyBtYWtlIGVycm9yIG1vcmUgdXNhYmxlIGFuZCBcInByaW50YWJsZVwiIHRvIHRoZSBlbmQgdXNlci5cblxuXG4gICAgICAgIHRocm93IHdyYXBVMkZUcmFuc3BvcnRFcnJvcihlLCBcIkZhaWxlZCB0byBzaWduIHdpdGggTGVkZ2VyIGRldmljZTogVTJGIFwiICsgZS5tZXRhRGF0YS50eXBlLCBcIlUyRl9cIiArIGUubWV0YURhdGEuY29kZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICAvKipcbiAgICovXG5cblxuICBzZXRTY3JhbWJsZUtleShzY3JhbWJsZUtleSkge1xuICAgIHRoaXMuc2NyYW1ibGVLZXkgPSBCdWZmZXIuZnJvbShzY3JhbWJsZUtleSwgXCJhc2NpaVwiKTtcbiAgfVxuICAvKipcbiAgICovXG5cblxuICBzZXRVbndyYXAodW53cmFwKSB7XG4gICAgdGhpcy51bndyYXAgPSB1bndyYXA7XG4gIH1cblxuICBjbG9zZSgpIHtcbiAgICAvLyB1MmYgaGF2ZSBubyB3YXkgdG8gY2xlYW4gdGhpbmdzIHVwXG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICB9XG5cbn1cblRyYW5zcG9ydFUyRi5pc1N1cHBvcnRlZCA9IGlzU3VwcG9ydGVkO1xuXG5UcmFuc3BvcnRVMkYubGlzdCA9ICgpID0+IC8vIHRoaXMgdHJhbnNwb3J0IGlzIG5vdCBkaXNjb3ZlcmFibGUgYnV0IHdlIGFyZSBnb2luZyB0byBndWVzcyBpZiBpdCBpcyBoZXJlIHdpdGggaXNTdXBwb3J0ZWQoKVxuaXNTdXBwb3J0ZWQoKS50aGVuKHN1cHBvcnRlZCA9PiBzdXBwb3J0ZWQgPyBbbnVsbF0gOiBbXSk7XG5cblRyYW5zcG9ydFUyRi5saXN0ZW4gPSBvYnNlcnZlciA9PiB7XG4gIGxldCB1bnN1YnNjcmliZWQgPSBmYWxzZTtcbiAgaXNTdXBwb3J0ZWQoKS50aGVuKHN1cHBvcnRlZCA9PiB7XG4gICAgaWYgKHVuc3Vic2NyaWJlZCkgcmV0dXJuO1xuXG4gICAgaWYgKHN1cHBvcnRlZCkge1xuICAgICAgb2JzZXJ2ZXIubmV4dCh7XG4gICAgICAgIHR5cGU6IFwiYWRkXCIsXG4gICAgICAgIGRlc2NyaXB0b3I6IG51bGxcbiAgICAgIH0pO1xuICAgICAgb2JzZXJ2ZXIuY29tcGxldGUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgb2JzZXJ2ZXIuZXJyb3IobmV3IFRyYW5zcG9ydEVycm9yKFwiVTJGIGJyb3dzZXIgc3VwcG9ydCBpcyBuZWVkZWQgZm9yIExlZGdlci4gXCIgKyBcIlBsZWFzZSB1c2UgQ2hyb21lLCBPcGVyYSBvciBGaXJlZm94IHdpdGggYSBVMkYgZXh0ZW5zaW9uLiBcIiArIFwiQWxzbyBtYWtlIHN1cmUgeW91J3JlIG9uIGFuIEhUVFBTIGNvbm5lY3Rpb25cIiwgXCJVMkZOb3RTdXBwb3J0ZWRcIikpO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiB7XG4gICAgdW5zdWJzY3JpYmU6ICgpID0+IHtcbiAgICAgIHVuc3Vic2NyaWJlZCA9IHRydWU7XG4gICAgfVxuICB9O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRyYW5zcG9ydFUyRi5qcy5tYXAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///d418\n')},d5cf:function(module,exports,__webpack_require__){"use strict";eval('\nmodule.exports = __webpack_require__( "7799" );//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdTJmLWFwaS9pbmRleC5qcz9kNWNmIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsaUJBQWlCLG1CQUFPLEVBQUUsTUFBZSIsImZpbGUiOiJkNWNmLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCAnLi9saWIvdTJmLWFwaScgKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///d5cf\n')},f685:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('/* WEBPACK VAR INJECTION */(function(Buffer) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Transport; });\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("faa1");\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(events__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _ledgerhq_errors__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("a8fc");\n\n\n\n/**\n */\n\n/**\n * Transport defines the generic interface to share between node/u2f impl\n * A **Descriptor** is a parametric type that is up to be determined for the implementation.\n * it can be for instance an ID, an file path, a URL,...\n */\nclass Transport {\n  constructor() {\n    this.exchangeTimeout = 30000;\n    this.unresponsiveTimeout = 15000;\n    this.deviceModel = null;\n    this._events = new events__WEBPACK_IMPORTED_MODULE_0___default.a();\n\n    this.send = async (cla, ins, p1, p2, data = Buffer.alloc(0), statusList = [_ledgerhq_errors__WEBPACK_IMPORTED_MODULE_1__[/* StatusCodes */ "b"].OK]) => {\n      if (data.length >= 256) {\n        throw new _ledgerhq_errors__WEBPACK_IMPORTED_MODULE_1__[/* TransportError */ "c"]("data.length exceed 256 bytes limit. Got: " + data.length, "DataLengthTooBig");\n      }\n\n      const response = await this.exchange(Buffer.concat([Buffer.from([cla, ins, p1, p2]), Buffer.from([data.length]), data]));\n      const sw = response.readUInt16BE(response.length - 2);\n\n      if (!statusList.some(s => s === sw)) {\n        throw new _ledgerhq_errors__WEBPACK_IMPORTED_MODULE_1__[/* TransportStatusError */ "e"](sw);\n      }\n\n      return response;\n    };\n\n    this.exchangeBusyPromise = void 0;\n\n    this.exchangeAtomicImpl = async f => {\n      if (this.exchangeBusyPromise) {\n        throw new _ledgerhq_errors__WEBPACK_IMPORTED_MODULE_1__[/* TransportRaceCondition */ "d"]("An action was already pending on the Ledger device. Please deny or reconnect.");\n      }\n\n      let resolveBusy;\n      const busyPromise = new Promise(r => {\n        resolveBusy = r;\n      });\n      this.exchangeBusyPromise = busyPromise;\n      let unresponsiveReached = false;\n      const timeout = setTimeout(() => {\n        unresponsiveReached = true;\n        this.emit("unresponsive");\n      }, this.unresponsiveTimeout);\n\n      try {\n        const res = await f();\n\n        if (unresponsiveReached) {\n          this.emit("responsive");\n        }\n\n        return res;\n      } finally {\n        clearTimeout(timeout);\n        if (resolveBusy) resolveBusy();\n        this.exchangeBusyPromise = null;\n      }\n    };\n\n    this._appAPIlock = null;\n  }\n\n  /**\n   * low level api to communicate with the device\n   * This method is for implementations to implement but should not be directly called.\n   * Instead, the recommanded way is to use send() method\n   * @param apdu the data to send\n   * @return a Promise of response data\n   */\n  exchange(_apdu) {\n    throw new Error("exchange not implemented");\n  }\n  /**\n   * set the "scramble key" for the next exchanges with the device.\n   * Each App can have a different scramble key and they internally will set it at instanciation.\n   * @param key the scramble key\n   */\n\n\n  setScrambleKey(_key) {}\n  /**\n   * close the exchange with the device.\n   * @return a Promise that ends when the transport is closed.\n   */\n\n\n  close() {\n    return Promise.resolve();\n  }\n\n  /**\n   * Listen to an event on an instance of transport.\n   * Transport implementation can have specific events. Here is the common events:\n   * * `"disconnect"` : triggered if Transport is disconnected\n   */\n  on(eventName, cb) {\n    this._events.on(eventName, cb);\n  }\n  /**\n   * Stop listening to an event on an instance of transport.\n   */\n\n\n  off(eventName, cb) {\n    this._events.removeListener(eventName, cb);\n  }\n\n  emit(event, ...args) {\n    this._events.emit(event, ...args);\n  }\n  /**\n   * Enable or not logs of the binary exchange\n   */\n\n\n  setDebugMode() {\n    console.warn("setDebugMode is deprecated. use @ledgerhq/logs instead. No logs are emitted in this anymore.");\n  }\n  /**\n   * Set a timeout (in milliseconds) for the exchange call. Only some transport might implement it. (e.g. U2F)\n   */\n\n\n  setExchangeTimeout(exchangeTimeout) {\n    this.exchangeTimeout = exchangeTimeout;\n  }\n  /**\n   * Define the delay before emitting "unresponsive" on an exchange that does not respond\n   */\n\n\n  setExchangeUnresponsiveTimeout(unresponsiveTimeout) {\n    this.unresponsiveTimeout = unresponsiveTimeout;\n  }\n  /**\n   * wrapper on top of exchange to simplify work of the implementation.\n   * @param cla\n   * @param ins\n   * @param p1\n   * @param p2\n   * @param data\n   * @param statusList is a list of accepted status code (shorts). [0x9000] by default\n   * @return a Promise of response buffer\n   */\n\n\n  /**\n   * create() allows to open the first descriptor available or\n   * throw if there is none or if timeout is reached.\n   * This is a light helper, alternative to using listen() and open() (that you may need for any more advanced usecase)\n   * @example\n  TransportFoo.create().then(transport => ...)\n   */\n  static create(openTimeout = 3000, listenTimeout) {\n    return new Promise((resolve, reject) => {\n      let found = false;\n      const sub = this.listen({\n        next: e => {\n          found = true;\n          if (sub) sub.unsubscribe();\n          if (listenTimeoutId) clearTimeout(listenTimeoutId);\n          this.open(e.descriptor, openTimeout).then(resolve, reject);\n        },\n        error: e => {\n          if (listenTimeoutId) clearTimeout(listenTimeoutId);\n          reject(e);\n        },\n        complete: () => {\n          if (listenTimeoutId) clearTimeout(listenTimeoutId);\n\n          if (!found) {\n            reject(new _ledgerhq_errors__WEBPACK_IMPORTED_MODULE_1__[/* TransportError */ "c"](this.ErrorMessage_NoDeviceFound, "NoDeviceFound"));\n          }\n        }\n      });\n      const listenTimeoutId = listenTimeout ? setTimeout(() => {\n        sub.unsubscribe();\n        reject(new _ledgerhq_errors__WEBPACK_IMPORTED_MODULE_1__[/* TransportError */ "c"](this.ErrorMessage_ListenTimeout, "ListenTimeout"));\n      }, listenTimeout) : null;\n    });\n  }\n\n  decorateAppAPIMethods(self, methods, scrambleKey) {\n    for (let methodName of methods) {\n      self[methodName] = this.decorateAppAPIMethod(methodName, self[methodName], self, scrambleKey);\n    }\n  }\n\n  decorateAppAPIMethod(methodName, f, ctx, scrambleKey) {\n    return async (...args) => {\n      const {\n        _appAPIlock\n      } = this;\n\n      if (_appAPIlock) {\n        return Promise.reject(new _ledgerhq_errors__WEBPACK_IMPORTED_MODULE_1__[/* TransportError */ "c"]("Ledger Device is busy (lock " + _appAPIlock + ")", "TransportLocked"));\n      }\n\n      try {\n        this._appAPIlock = methodName;\n        this.setScrambleKey(scrambleKey);\n        return await f.apply(ctx, args);\n      } finally {\n        this._appAPIlock = null;\n      }\n    };\n  }\n\n}\nTransport.isSupported = void 0;\nTransport.list = void 0;\nTransport.listen = void 0;\nTransport.open = void 0;\nTransport.ErrorMessage_ListenTimeout = "No Ledger device found (timeout)";\nTransport.ErrorMessage_NoDeviceFound = "No Ledger device found";\n//# sourceMappingURL=Transport.js.map\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("1c35").Buffer))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGxlZGdlcmhxL2h3LXRyYW5zcG9ydC9saWItZXMvVHJhbnNwb3J0LmpzP2Y2ODUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBa0M7QUFDZ0c7QUFDaEQ7QUFDbEY7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ2U7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1Qiw2Q0FBWTs7QUFFbkMsK0VBQStFLG9FQUFXO0FBQzFGO0FBQ0Esa0JBQWtCLHVFQUFjO0FBQ2hDOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxrQkFBa0IsNkVBQW9CO0FBQ3RDOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLGtCQUFrQiwrRUFBc0I7QUFDeEM7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPOztBQUVQO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBOztBQUVBO0FBQ0EsdUJBQXVCLHVFQUFjO0FBQ3JDO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLG1CQUFtQix1RUFBYztBQUNqQyxPQUFPO0FBQ1AsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPOztBQUVQO0FBQ0Esa0NBQWtDLHVFQUFjO0FBQ2hEOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUMiLCJmaWxlIjoiZjY4NS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBFdmVudEVtaXR0ZXIgZnJvbSBcImV2ZW50c1wiO1xuaW1wb3J0IHsgVHJhbnNwb3J0UmFjZUNvbmRpdGlvbiwgVHJhbnNwb3J0RXJyb3IsIFN0YXR1c0NvZGVzLCBnZXRBbHRTdGF0dXNNZXNzYWdlLCBUcmFuc3BvcnRTdGF0dXNFcnJvciB9IGZyb20gXCJAbGVkZ2VyaHEvZXJyb3JzXCI7XG5leHBvcnQgeyBUcmFuc3BvcnRFcnJvciwgVHJhbnNwb3J0U3RhdHVzRXJyb3IsIFN0YXR1c0NvZGVzLCBnZXRBbHRTdGF0dXNNZXNzYWdlIH07XG4vKipcbiAqL1xuXG4vKipcbiAqIFRyYW5zcG9ydCBkZWZpbmVzIHRoZSBnZW5lcmljIGludGVyZmFjZSB0byBzaGFyZSBiZXR3ZWVuIG5vZGUvdTJmIGltcGxcbiAqIEEgKipEZXNjcmlwdG9yKiogaXMgYSBwYXJhbWV0cmljIHR5cGUgdGhhdCBpcyB1cCB0byBiZSBkZXRlcm1pbmVkIGZvciB0aGUgaW1wbGVtZW50YXRpb24uXG4gKiBpdCBjYW4gYmUgZm9yIGluc3RhbmNlIGFuIElELCBhbiBmaWxlIHBhdGgsIGEgVVJMLC4uLlxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUcmFuc3BvcnQge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmV4Y2hhbmdlVGltZW91dCA9IDMwMDAwO1xuICAgIHRoaXMudW5yZXNwb25zaXZlVGltZW91dCA9IDE1MDAwO1xuICAgIHRoaXMuZGV2aWNlTW9kZWwgPSBudWxsO1xuICAgIHRoaXMuX2V2ZW50cyA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcblxuICAgIHRoaXMuc2VuZCA9IGFzeW5jIChjbGEsIGlucywgcDEsIHAyLCBkYXRhID0gQnVmZmVyLmFsbG9jKDApLCBzdGF0dXNMaXN0ID0gW1N0YXR1c0NvZGVzLk9LXSkgPT4ge1xuICAgICAgaWYgKGRhdGEubGVuZ3RoID49IDI1Nikge1xuICAgICAgICB0aHJvdyBuZXcgVHJhbnNwb3J0RXJyb3IoXCJkYXRhLmxlbmd0aCBleGNlZWQgMjU2IGJ5dGVzIGxpbWl0LiBHb3Q6IFwiICsgZGF0YS5sZW5ndGgsIFwiRGF0YUxlbmd0aFRvb0JpZ1wiKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmV4Y2hhbmdlKEJ1ZmZlci5jb25jYXQoW0J1ZmZlci5mcm9tKFtjbGEsIGlucywgcDEsIHAyXSksIEJ1ZmZlci5mcm9tKFtkYXRhLmxlbmd0aF0pLCBkYXRhXSkpO1xuICAgICAgY29uc3Qgc3cgPSByZXNwb25zZS5yZWFkVUludDE2QkUocmVzcG9uc2UubGVuZ3RoIC0gMik7XG5cbiAgICAgIGlmICghc3RhdHVzTGlzdC5zb21lKHMgPT4gcyA9PT0gc3cpKSB7XG4gICAgICAgIHRocm93IG5ldyBUcmFuc3BvcnRTdGF0dXNFcnJvcihzdyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICB9O1xuXG4gICAgdGhpcy5leGNoYW5nZUJ1c3lQcm9taXNlID0gdm9pZCAwO1xuXG4gICAgdGhpcy5leGNoYW5nZUF0b21pY0ltcGwgPSBhc3luYyBmID0+IHtcbiAgICAgIGlmICh0aGlzLmV4Y2hhbmdlQnVzeVByb21pc2UpIHtcbiAgICAgICAgdGhyb3cgbmV3IFRyYW5zcG9ydFJhY2VDb25kaXRpb24oXCJBbiBhY3Rpb24gd2FzIGFscmVhZHkgcGVuZGluZyBvbiB0aGUgTGVkZ2VyIGRldmljZS4gUGxlYXNlIGRlbnkgb3IgcmVjb25uZWN0LlwiKTtcbiAgICAgIH1cblxuICAgICAgbGV0IHJlc29sdmVCdXN5O1xuICAgICAgY29uc3QgYnVzeVByb21pc2UgPSBuZXcgUHJvbWlzZShyID0+IHtcbiAgICAgICAgcmVzb2x2ZUJ1c3kgPSByO1xuICAgICAgfSk7XG4gICAgICB0aGlzLmV4Y2hhbmdlQnVzeVByb21pc2UgPSBidXN5UHJvbWlzZTtcbiAgICAgIGxldCB1bnJlc3BvbnNpdmVSZWFjaGVkID0gZmFsc2U7XG4gICAgICBjb25zdCB0aW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHVucmVzcG9uc2l2ZVJlYWNoZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLmVtaXQoXCJ1bnJlc3BvbnNpdmVcIik7XG4gICAgICB9LCB0aGlzLnVucmVzcG9uc2l2ZVRpbWVvdXQpO1xuXG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBmKCk7XG5cbiAgICAgICAgaWYgKHVucmVzcG9uc2l2ZVJlYWNoZWQpIHtcbiAgICAgICAgICB0aGlzLmVtaXQoXCJyZXNwb25zaXZlXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICAgICAgaWYgKHJlc29sdmVCdXN5KSByZXNvbHZlQnVzeSgpO1xuICAgICAgICB0aGlzLmV4Y2hhbmdlQnVzeVByb21pc2UgPSBudWxsO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLl9hcHBBUElsb2NrID0gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBsb3cgbGV2ZWwgYXBpIHRvIGNvbW11bmljYXRlIHdpdGggdGhlIGRldmljZVxuICAgKiBUaGlzIG1ldGhvZCBpcyBmb3IgaW1wbGVtZW50YXRpb25zIHRvIGltcGxlbWVudCBidXQgc2hvdWxkIG5vdCBiZSBkaXJlY3RseSBjYWxsZWQuXG4gICAqIEluc3RlYWQsIHRoZSByZWNvbW1hbmRlZCB3YXkgaXMgdG8gdXNlIHNlbmQoKSBtZXRob2RcbiAgICogQHBhcmFtIGFwZHUgdGhlIGRhdGEgdG8gc2VuZFxuICAgKiBAcmV0dXJuIGEgUHJvbWlzZSBvZiByZXNwb25zZSBkYXRhXG4gICAqL1xuICBleGNoYW5nZShfYXBkdSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcImV4Y2hhbmdlIG5vdCBpbXBsZW1lbnRlZFwiKTtcbiAgfVxuICAvKipcbiAgICogc2V0IHRoZSBcInNjcmFtYmxlIGtleVwiIGZvciB0aGUgbmV4dCBleGNoYW5nZXMgd2l0aCB0aGUgZGV2aWNlLlxuICAgKiBFYWNoIEFwcCBjYW4gaGF2ZSBhIGRpZmZlcmVudCBzY3JhbWJsZSBrZXkgYW5kIHRoZXkgaW50ZXJuYWxseSB3aWxsIHNldCBpdCBhdCBpbnN0YW5jaWF0aW9uLlxuICAgKiBAcGFyYW0ga2V5IHRoZSBzY3JhbWJsZSBrZXlcbiAgICovXG5cblxuICBzZXRTY3JhbWJsZUtleShfa2V5KSB7fVxuICAvKipcbiAgICogY2xvc2UgdGhlIGV4Y2hhbmdlIHdpdGggdGhlIGRldmljZS5cbiAgICogQHJldHVybiBhIFByb21pc2UgdGhhdCBlbmRzIHdoZW4gdGhlIHRyYW5zcG9ydCBpcyBjbG9zZWQuXG4gICAqL1xuXG5cbiAgY2xvc2UoKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIExpc3RlbiB0byBhbiBldmVudCBvbiBhbiBpbnN0YW5jZSBvZiB0cmFuc3BvcnQuXG4gICAqIFRyYW5zcG9ydCBpbXBsZW1lbnRhdGlvbiBjYW4gaGF2ZSBzcGVjaWZpYyBldmVudHMuIEhlcmUgaXMgdGhlIGNvbW1vbiBldmVudHM6XG4gICAqICogYFwiZGlzY29ubmVjdFwiYCA6IHRyaWdnZXJlZCBpZiBUcmFuc3BvcnQgaXMgZGlzY29ubmVjdGVkXG4gICAqL1xuICBvbihldmVudE5hbWUsIGNiKSB7XG4gICAgdGhpcy5fZXZlbnRzLm9uKGV2ZW50TmFtZSwgY2IpO1xuICB9XG4gIC8qKlxuICAgKiBTdG9wIGxpc3RlbmluZyB0byBhbiBldmVudCBvbiBhbiBpbnN0YW5jZSBvZiB0cmFuc3BvcnQuXG4gICAqL1xuXG5cbiAgb2ZmKGV2ZW50TmFtZSwgY2IpIHtcbiAgICB0aGlzLl9ldmVudHMucmVtb3ZlTGlzdGVuZXIoZXZlbnROYW1lLCBjYik7XG4gIH1cblxuICBlbWl0KGV2ZW50LCAuLi5hcmdzKSB7XG4gICAgdGhpcy5fZXZlbnRzLmVtaXQoZXZlbnQsIC4uLmFyZ3MpO1xuICB9XG4gIC8qKlxuICAgKiBFbmFibGUgb3Igbm90IGxvZ3Mgb2YgdGhlIGJpbmFyeSBleGNoYW5nZVxuICAgKi9cblxuXG4gIHNldERlYnVnTW9kZSgpIHtcbiAgICBjb25zb2xlLndhcm4oXCJzZXREZWJ1Z01vZGUgaXMgZGVwcmVjYXRlZC4gdXNlIEBsZWRnZXJocS9sb2dzIGluc3RlYWQuIE5vIGxvZ3MgYXJlIGVtaXR0ZWQgaW4gdGhpcyBhbnltb3JlLlwiKTtcbiAgfVxuICAvKipcbiAgICogU2V0IGEgdGltZW91dCAoaW4gbWlsbGlzZWNvbmRzKSBmb3IgdGhlIGV4Y2hhbmdlIGNhbGwuIE9ubHkgc29tZSB0cmFuc3BvcnQgbWlnaHQgaW1wbGVtZW50IGl0LiAoZS5nLiBVMkYpXG4gICAqL1xuXG5cbiAgc2V0RXhjaGFuZ2VUaW1lb3V0KGV4Y2hhbmdlVGltZW91dCkge1xuICAgIHRoaXMuZXhjaGFuZ2VUaW1lb3V0ID0gZXhjaGFuZ2VUaW1lb3V0O1xuICB9XG4gIC8qKlxuICAgKiBEZWZpbmUgdGhlIGRlbGF5IGJlZm9yZSBlbWl0dGluZyBcInVucmVzcG9uc2l2ZVwiIG9uIGFuIGV4Y2hhbmdlIHRoYXQgZG9lcyBub3QgcmVzcG9uZFxuICAgKi9cblxuXG4gIHNldEV4Y2hhbmdlVW5yZXNwb25zaXZlVGltZW91dCh1bnJlc3BvbnNpdmVUaW1lb3V0KSB7XG4gICAgdGhpcy51bnJlc3BvbnNpdmVUaW1lb3V0ID0gdW5yZXNwb25zaXZlVGltZW91dDtcbiAgfVxuICAvKipcbiAgICogd3JhcHBlciBvbiB0b3Agb2YgZXhjaGFuZ2UgdG8gc2ltcGxpZnkgd29yayBvZiB0aGUgaW1wbGVtZW50YXRpb24uXG4gICAqIEBwYXJhbSBjbGFcbiAgICogQHBhcmFtIGluc1xuICAgKiBAcGFyYW0gcDFcbiAgICogQHBhcmFtIHAyXG4gICAqIEBwYXJhbSBkYXRhXG4gICAqIEBwYXJhbSBzdGF0dXNMaXN0IGlzIGEgbGlzdCBvZiBhY2NlcHRlZCBzdGF0dXMgY29kZSAoc2hvcnRzKS4gWzB4OTAwMF0gYnkgZGVmYXVsdFxuICAgKiBAcmV0dXJuIGEgUHJvbWlzZSBvZiByZXNwb25zZSBidWZmZXJcbiAgICovXG5cblxuICAvKipcbiAgICogY3JlYXRlKCkgYWxsb3dzIHRvIG9wZW4gdGhlIGZpcnN0IGRlc2NyaXB0b3IgYXZhaWxhYmxlIG9yXG4gICAqIHRocm93IGlmIHRoZXJlIGlzIG5vbmUgb3IgaWYgdGltZW91dCBpcyByZWFjaGVkLlxuICAgKiBUaGlzIGlzIGEgbGlnaHQgaGVscGVyLCBhbHRlcm5hdGl2ZSB0byB1c2luZyBsaXN0ZW4oKSBhbmQgb3BlbigpICh0aGF0IHlvdSBtYXkgbmVlZCBmb3IgYW55IG1vcmUgYWR2YW5jZWQgdXNlY2FzZSlcbiAgICogQGV4YW1wbGVcbiAgVHJhbnNwb3J0Rm9vLmNyZWF0ZSgpLnRoZW4odHJhbnNwb3J0ID0+IC4uLilcbiAgICovXG4gIHN0YXRpYyBjcmVhdGUob3BlblRpbWVvdXQgPSAzMDAwLCBsaXN0ZW5UaW1lb3V0KSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGxldCBmb3VuZCA9IGZhbHNlO1xuICAgICAgY29uc3Qgc3ViID0gdGhpcy5saXN0ZW4oe1xuICAgICAgICBuZXh0OiBlID0+IHtcbiAgICAgICAgICBmb3VuZCA9IHRydWU7XG4gICAgICAgICAgaWYgKHN1Yikgc3ViLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgaWYgKGxpc3RlblRpbWVvdXRJZCkgY2xlYXJUaW1lb3V0KGxpc3RlblRpbWVvdXRJZCk7XG4gICAgICAgICAgdGhpcy5vcGVuKGUuZGVzY3JpcHRvciwgb3BlblRpbWVvdXQpLnRoZW4ocmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgfSxcbiAgICAgICAgZXJyb3I6IGUgPT4ge1xuICAgICAgICAgIGlmIChsaXN0ZW5UaW1lb3V0SWQpIGNsZWFyVGltZW91dChsaXN0ZW5UaW1lb3V0SWQpO1xuICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgfSxcbiAgICAgICAgY29tcGxldGU6ICgpID0+IHtcbiAgICAgICAgICBpZiAobGlzdGVuVGltZW91dElkKSBjbGVhclRpbWVvdXQobGlzdGVuVGltZW91dElkKTtcblxuICAgICAgICAgIGlmICghZm91bmQpIHtcbiAgICAgICAgICAgIHJlamVjdChuZXcgVHJhbnNwb3J0RXJyb3IodGhpcy5FcnJvck1lc3NhZ2VfTm9EZXZpY2VGb3VuZCwgXCJOb0RldmljZUZvdW5kXCIpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgY29uc3QgbGlzdGVuVGltZW91dElkID0gbGlzdGVuVGltZW91dCA/IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBzdWIudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgcmVqZWN0KG5ldyBUcmFuc3BvcnRFcnJvcih0aGlzLkVycm9yTWVzc2FnZV9MaXN0ZW5UaW1lb3V0LCBcIkxpc3RlblRpbWVvdXRcIikpO1xuICAgICAgfSwgbGlzdGVuVGltZW91dCkgOiBudWxsO1xuICAgIH0pO1xuICB9XG5cbiAgZGVjb3JhdGVBcHBBUElNZXRob2RzKHNlbGYsIG1ldGhvZHMsIHNjcmFtYmxlS2V5KSB7XG4gICAgZm9yIChsZXQgbWV0aG9kTmFtZSBvZiBtZXRob2RzKSB7XG4gICAgICBzZWxmW21ldGhvZE5hbWVdID0gdGhpcy5kZWNvcmF0ZUFwcEFQSU1ldGhvZChtZXRob2ROYW1lLCBzZWxmW21ldGhvZE5hbWVdLCBzZWxmLCBzY3JhbWJsZUtleSk7XG4gICAgfVxuICB9XG5cbiAgZGVjb3JhdGVBcHBBUElNZXRob2QobWV0aG9kTmFtZSwgZiwgY3R4LCBzY3JhbWJsZUtleSkge1xuICAgIHJldHVybiBhc3luYyAoLi4uYXJncykgPT4ge1xuICAgICAgY29uc3Qge1xuICAgICAgICBfYXBwQVBJbG9ja1xuICAgICAgfSA9IHRoaXM7XG5cbiAgICAgIGlmIChfYXBwQVBJbG9jaykge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IFRyYW5zcG9ydEVycm9yKFwiTGVkZ2VyIERldmljZSBpcyBidXN5IChsb2NrIFwiICsgX2FwcEFQSWxvY2sgKyBcIilcIiwgXCJUcmFuc3BvcnRMb2NrZWRcIikpO1xuICAgICAgfVxuXG4gICAgICB0cnkge1xuICAgICAgICB0aGlzLl9hcHBBUElsb2NrID0gbWV0aG9kTmFtZTtcbiAgICAgICAgdGhpcy5zZXRTY3JhbWJsZUtleShzY3JhbWJsZUtleSk7XG4gICAgICAgIHJldHVybiBhd2FpdCBmLmFwcGx5KGN0eCwgYXJncyk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICB0aGlzLl9hcHBBUElsb2NrID0gbnVsbDtcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbn1cblRyYW5zcG9ydC5pc1N1cHBvcnRlZCA9IHZvaWQgMDtcblRyYW5zcG9ydC5saXN0ID0gdm9pZCAwO1xuVHJhbnNwb3J0Lmxpc3RlbiA9IHZvaWQgMDtcblRyYW5zcG9ydC5vcGVuID0gdm9pZCAwO1xuVHJhbnNwb3J0LkVycm9yTWVzc2FnZV9MaXN0ZW5UaW1lb3V0ID0gXCJObyBMZWRnZXIgZGV2aWNlIGZvdW5kICh0aW1lb3V0KVwiO1xuVHJhbnNwb3J0LkVycm9yTWVzc2FnZV9Ob0RldmljZUZvdW5kID0gXCJObyBMZWRnZXIgZGV2aWNlIGZvdW5kXCI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1UcmFuc3BvcnQuanMubWFwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///f685\n')}}]);